import{d as he,o as Et,c as fe,a as ie,_ as Ps,g as or,i as vt,r as ge,b as Z,u as P,e as It,f as XI,h as KI,s as _i,w as bx,j as yg,n as Pt,k as Ae,l as ph,m as ho,p as Tf,q as ZI,t as Gn,v as nn,x as jI,N as il,y as Ze,z as Si,A as re,B as pi,C as QI,D as JI,E as xx,F as Ve,G as $t,H as de,I as Ge,J as Ne,K as gi,L as Ee,M as xn,O as At,P as kt,Q as Qt,R as Mt,S as e2,T as Sx,U as t2,V as ta,W as r2,X as n2,Y as gh,Z as Ci,$ as i2,a0 as Jt,a1 as Cx,a2 as Un,a3 as al,a4 as a2,a5 as eo,a6 as wi,a7 as o2,a8 as s2,a9 as Zi,aa as u2,ab as l2,ac as rp,ad as gs,ae as c2,af as f2,ag as _g,ah as h2}from"./index-VLMA3v_I.js";const Do=window.Cesium;async function v2(t){Do.Ion.defaultAccessToken=t.token;let e=new Do.Viewer(t.element||"cesiumContainer",{geocoder:!1,homeButton:!1,sceneModePicker:!1,navigationHelpButton:!1,animation:!1,timeline:!1,infoBox:!1,fullscreenButton:!1,vrButton:!1,shouldAnimate:!0,baseLayerPicker:!1,selectionIndicator:!1,terrain:t.terrain,targetFrameRate:160,maximumRenderTimeChange:1/0,useDefaultRenderLoop:!0,baseLayer:Do.ImageryLayer.fromProviderAsync(Do.ArcGisMapServerImageryProvider.fromUrl("https://server.arcgisonline.com/arcgis/rest/services/World_Imagery/MapServer"),{})});Do.ArcGISTiledElevationTerrainProvider.fromUrl("https://elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/Terrain3D/ImageServer",{}).then(a=>{e.terrainProvider=a}).catch(a=>{console.error(a)}),e._cesiumWidget._creditContainer.style.display="none";const r=document.querySelector(".cesium-viewer-timelineContainer"),n=document.querySelector(".cesium-viewer-animationContainer"),i=document.querySelector(".cesium-widget-credits");[r,n,i].forEach(a=>{a==null||a.classList.add("!hidden")}),t.view&&e.camera.flyTo({destination:Do.Cartesian3.fromDegrees(t.view[0],t.view[1],t.view[2])}),window.viewer=e,window.viewer.scene.globe.depthTestAgainstTerrain=!0}const d2={VITE_ION_TOKEN:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiJlMmRkYTYxZi0yNmU5LTQyMjAtYjUxMS1mMjA2MzAyMTYzZTQiLCJpZCI6MTAxMTQwLCJpYXQiOjE3NDU1OTA4MjF9.n6zCwg3azk0lqzkyq2qwHdbp_hZyYf4yy6ZPe-EjLeU",VITE_VIEW:"[110, 32, 15000000]"};let Gy=d2;const Vy={ionToken:Gy.VITE_ION_TOKEN,view:JSON.parse(Gy.VITE_VIEW)},p2={id:"cesiumContainer"},g2=window.Cesium,m2=he({__name:"Map",setup(t){return Et(()=>{v2({element:"cesiumContainer",terrain:g2.Terrain.fromWorldTerrain(),token:Vy.ionToken,view:Vy.view})}),(e,r)=>(ie(),fe("div",p2))}}),y2=Ps(m2,[["__scopeId","data-v-2dc34522"]]),Tx=Symbol(),ef="el",_2="is-",ka=(t,e,r,n,i)=>{let a=`${t}-${e}`;return r&&(a+=`-${r}`),n&&(a+=`__${n}`),i&&(a+=`--${i}`),a},Ex=Symbol("namespaceContextKey"),wg=t=>{const e=t||(or()?vt(Ex,ge(ef)):ge(ef));return Z(()=>P(e)||ef)},at=(t,e)=>{const r=wg(e);return{namespace:r,b:(w="")=>ka(r.value,t,w,"",""),e:w=>w?ka(r.value,t,"",w,""):"",m:w=>w?ka(r.value,t,"","",w):"",be:(w,b)=>w&&b?ka(r.value,t,w,b,""):"",em:(w,b)=>w&&b?ka(r.value,t,"",w,b):"",bm:(w,b)=>w&&b?ka(r.value,t,w,"",b):"",bem:(w,b,x)=>w&&b&&x?ka(r.value,t,w,b,x):"",is:(w,...b)=>{const x=b.length>=1?b[0]:!0;return w&&x?`${_2}${w}`:""},cssVar:w=>{const b={};for(const x in w)w[x]&&(b[`--${r.value}-${x}`]=w[x]);return b},cssVarName:w=>`--${r.value}-${w}`,cssVarBlock:w=>{const b={};for(const x in w)w[x]&&(b[`--${r.value}-${t}-${x}`]=w[x]);return b},cssVarBlockName:w=>`--${r.value}-${t}-${w}`}};var w2=typeof global=="object"&&global&&global.Object===Object&&global,b2=typeof self=="object"&&self&&self.Object===Object&&self,mh=w2||b2||Function("return this")(),sa=mh.Symbol,kx=Object.prototype,x2=kx.hasOwnProperty,S2=kx.toString,au=sa?sa.toStringTag:void 0;function C2(t){var e=x2.call(t,au),r=t[au];try{t[au]=void 0;var n=!0}catch{}var i=S2.call(t);return n&&(e?t[au]=r:delete t[au]),i}var T2=Object.prototype,E2=T2.toString;function k2(t){return E2.call(t)}var I2="[object Null]",M2="[object Undefined]",Hy=sa?sa.toStringTag:void 0;function bg(t){return t==null?t===void 0?M2:I2:Hy&&Hy in Object(t)?C2(t):k2(t)}function xg(t){return t!=null&&typeof t=="object"}var L2="[object Symbol]";function yh(t){return typeof t=="symbol"||xg(t)&&bg(t)==L2}function P2(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}var Ns=Array.isArray,$y=sa?sa.prototype:void 0,Uy=$y?$y.toString:void 0;function Ix(t){if(typeof t=="string")return t;if(Ns(t))return P2(t,Ix)+"";if(yh(t))return Uy?Uy.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var N2=/\s/;function A2(t){for(var e=t.length;e--&&N2.test(t.charAt(e)););return e}var D2=/^\s+/;function R2(t){return t&&t.slice(0,A2(t)+1).replace(D2,"")}function vo(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Yy=NaN,O2=/^[-+]0x[0-9a-f]+$/i,F2=/^0b[01]+$/i,B2=/^0o[0-7]+$/i,z2=parseInt;function qy(t){if(typeof t=="number")return t;if(yh(t))return Yy;if(vo(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=vo(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=R2(t);var r=F2.test(t);return r||B2.test(t)?z2(t.slice(2),r?2:8):O2.test(t)?Yy:+t}function G2(t){return t}var V2="[object AsyncFunction]",H2="[object Function]",$2="[object GeneratorFunction]",U2="[object Proxy]";function Y2(t){if(!vo(t))return!1;var e=bg(t);return e==H2||e==$2||e==V2||e==U2}var Sv=mh["__core-js_shared__"],Wy=function(){var t=/[^.]+$/.exec(Sv&&Sv.keys&&Sv.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function q2(t){return!!Wy&&Wy in t}var W2=Function.prototype,X2=W2.toString;function K2(t){if(t!=null){try{return X2.call(t)}catch{}try{return t+""}catch{}}return""}var Z2=/[\\^$.*+?()[\]{}|]/g,j2=/^\[object .+?Constructor\]$/,Q2=Function.prototype,J2=Object.prototype,eM=Q2.toString,tM=J2.hasOwnProperty,rM=RegExp("^"+eM.call(tM).replace(Z2,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function nM(t){if(!vo(t)||q2(t))return!1;var e=Y2(t)?rM:j2;return e.test(K2(t))}function iM(t,e){return t==null?void 0:t[e]}function Sg(t,e){var r=iM(t,e);return nM(r)?r:void 0}function aM(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var oM=800,sM=16,uM=Date.now;function lM(t){var e=0,r=0;return function(){var n=uM(),i=sM-(n-r);if(r=n,i>0){if(++e>=oM)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function cM(t){return function(){return t}}var Ef=function(){try{var t=Sg(Object,"defineProperty");return t({},"",{}),t}catch{}}(),fM=Ef?function(t,e){return Ef(t,"toString",{configurable:!0,enumerable:!1,value:cM(e),writable:!0})}:G2,hM=lM(fM),vM=9007199254740991,dM=/^(?:0|[1-9]\d*)$/;function Mx(t,e){var r=typeof t;return e=e??vM,!!e&&(r=="number"||r!="symbol"&&dM.test(t))&&t>-1&&t%1==0&&t<e}function pM(t,e,r){e=="__proto__"&&Ef?Ef(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}function Lx(t,e){return t===e||t!==t&&e!==e}var gM=Object.prototype,mM=gM.hasOwnProperty;function yM(t,e,r){var n=t[e];(!(mM.call(t,e)&&Lx(n,r))||r===void 0&&!(e in t))&&pM(t,e,r)}var Xy=Math.max;function _M(t,e,r){return e=Xy(e===void 0?t.length-1:e,0),function(){for(var n=arguments,i=-1,a=Xy(n.length-e,0),o=Array(a);++i<a;)o[i]=n[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=n[i];return s[e]=r(o),aM(t,this,s)}}var wM=9007199254740991;function bM(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=wM}var xM="[object Arguments]";function Ky(t){return xg(t)&&bg(t)==xM}var Px=Object.prototype,SM=Px.hasOwnProperty,CM=Px.propertyIsEnumerable,Nx=Ky(function(){return arguments}())?Ky:function(t){return xg(t)&&SM.call(t,"callee")&&!CM.call(t,"callee")},TM=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,EM=/^\w*$/;function kM(t,e){if(Ns(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||yh(t)?!0:EM.test(t)||!TM.test(t)||e!=null&&t in Object(e)}var ol=Sg(Object,"create");function IM(){this.__data__=ol?ol(null):{},this.size=0}function MM(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var LM="__lodash_hash_undefined__",PM=Object.prototype,NM=PM.hasOwnProperty;function AM(t){var e=this.__data__;if(ol){var r=e[t];return r===LM?void 0:r}return NM.call(e,t)?e[t]:void 0}var DM=Object.prototype,RM=DM.hasOwnProperty;function OM(t){var e=this.__data__;return ol?e[t]!==void 0:RM.call(e,t)}var FM="__lodash_hash_undefined__";function BM(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=ol&&e===void 0?FM:e,this}function po(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}po.prototype.clear=IM;po.prototype.delete=MM;po.prototype.get=AM;po.prototype.has=OM;po.prototype.set=BM;function zM(){this.__data__=[],this.size=0}function _h(t,e){for(var r=t.length;r--;)if(Lx(t[r][0],e))return r;return-1}var GM=Array.prototype,VM=GM.splice;function HM(t){var e=this.__data__,r=_h(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():VM.call(e,r,1),--this.size,!0}function $M(t){var e=this.__data__,r=_h(e,t);return r<0?void 0:e[r][1]}function UM(t){return _h(this.__data__,t)>-1}function YM(t,e){var r=this.__data__,n=_h(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}function As(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}As.prototype.clear=zM;As.prototype.delete=HM;As.prototype.get=$M;As.prototype.has=UM;As.prototype.set=YM;var qM=Sg(mh,"Map");function WM(){this.size=0,this.__data__={hash:new po,map:new(qM||As),string:new po}}function XM(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function wh(t,e){var r=t.__data__;return XM(e)?r[typeof e=="string"?"string":"hash"]:r.map}function KM(t){var e=wh(this,t).delete(t);return this.size-=e?1:0,e}function ZM(t){return wh(this,t).get(t)}function jM(t){return wh(this,t).has(t)}function QM(t,e){var r=wh(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}function xo(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}xo.prototype.clear=WM;xo.prototype.delete=KM;xo.prototype.get=ZM;xo.prototype.has=jM;xo.prototype.set=QM;var JM="Expected a function";function Cg(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(JM);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var o=t.apply(this,n);return r.cache=a.set(i,o)||a,o};return r.cache=new(Cg.Cache||xo),r}Cg.Cache=xo;var eL=500;function tL(t){var e=Cg(t,function(n){return r.size===eL&&r.clear(),n}),r=e.cache;return e}var rL=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,nL=/\\(\\)?/g,iL=tL(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(rL,function(r,n,i,a){e.push(i?a.replace(nL,"$1"):n||r)}),e});function aL(t){return t==null?"":Ix(t)}function bh(t,e){return Ns(t)?t:kM(t,e)?[t]:iL(aL(t))}function Tg(t){if(typeof t=="string"||yh(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function Ax(t,e){e=bh(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[Tg(e[r++])];return r&&r==n?t:void 0}function oL(t,e,r){var n=t==null?void 0:Ax(t,e);return n===void 0?r:n}function sL(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}var Zy=sa?sa.isConcatSpreadable:void 0;function uL(t){return Ns(t)||Nx(t)||!!(Zy&&t&&t[Zy])}function lL(t,e,r,n,i){var a=-1,o=t.length;for(r||(r=uL),i||(i=[]);++a<o;){var s=t[a];r(s)?sL(i,s):i[i.length]=s}return i}function cL(t){var e=t==null?0:t.length;return e?lL(t):[]}function fL(t){return hM(_M(t,void 0,cL),t+"")}function jy(){if(!arguments.length)return[];var t=arguments[0];return Ns(t)?t:[t]}function hL(t,e){return t!=null&&e in Object(t)}function vL(t,e,r){e=bh(e,t);for(var n=-1,i=e.length,a=!1;++n<i;){var o=Tg(e[n]);if(!(a=t!=null&&r(t,o)))break;t=t[o]}return a||++n!=i?a:(i=t==null?0:t.length,!!i&&bM(i)&&Mx(o,i)&&(Ns(t)||Nx(t)))}function dL(t,e){return t!=null&&vL(t,e,hL)}var Cv=function(){return mh.Date.now()},pL="Expected a function",gL=Math.max,mL=Math.min;function kf(t,e,r){var n,i,a,o,s,l,f=0,v=!1,d=!1,g=!0;if(typeof t!="function")throw new TypeError(pL);e=qy(e)||0,vo(r)&&(v=!!r.leading,d="maxWait"in r,a=d?gL(qy(r.maxWait)||0,e):a,g="trailing"in r?!!r.trailing:g);function p(M){var N=n,R=i;return n=i=void 0,f=M,o=t.apply(R,N),o}function y(M){return f=M,s=setTimeout(x,e),v?p(M):o}function w(M){var N=M-l,R=M-f,D=e-N;return d?mL(D,a-R):D}function b(M){var N=M-l,R=M-f;return l===void 0||N>=e||N<0||d&&R>=a}function x(){var M=Cv();if(b(M))return C(M);s=setTimeout(x,w(M))}function C(M){return s=void 0,g&&n?p(M):(n=i=void 0,o)}function T(){s!==void 0&&clearTimeout(s),f=0,n=l=i=s=void 0}function k(){return s===void 0?o:C(Cv())}function L(){var M=Cv(),N=b(M);if(n=arguments,i=this,l=M,N){if(s===void 0)return y(l);if(d)return clearTimeout(s),s=setTimeout(x,e),p(l)}return s===void 0&&(s=setTimeout(x,e)),o}return L.cancel=T,L.flush=k,L}function If(t){for(var e=-1,r=t==null?0:t.length,n={};++e<r;){var i=t[e];n[i[0]]=i[1]}return n}function Dr(t){return t==null}function yL(t){return t===void 0}function _L(t,e,r,n){if(!vo(t))return t;e=bh(e,t);for(var i=-1,a=e.length,o=a-1,s=t;s!=null&&++i<a;){var l=Tg(e[i]),f=r;if(l==="__proto__"||l==="constructor"||l==="prototype")return t;if(i!=o){var v=s[l];f=void 0,f===void 0&&(f=vo(v)?v:Mx(e[i+1])?[]:{})}yM(s,l,f),s=s[l]}return t}function wL(t,e,r){for(var n=-1,i=e.length,a={};++n<i;){var o=e[n],s=Ax(t,o);r(s,o)&&_L(a,bh(o,t),s)}return a}function bL(t,e){return wL(t,e,function(r,n){return dL(t,n)})}var xL=fL(function(t,e){return t==null?{}:bL(t,e)});const ts=t=>t===void 0,Mf=t=>typeof t=="boolean",gt=t=>typeof t=="number",Yn=t=>typeof Element>"u"?!1:t instanceof Element,Qy=t=>Dr(t),SL=t=>It(t)?!Number.isNaN(Number(t)):!1;var CL=Object.defineProperty,TL=Object.defineProperties,EL=Object.getOwnPropertyDescriptors,Jy=Object.getOwnPropertySymbols,kL=Object.prototype.hasOwnProperty,IL=Object.prototype.propertyIsEnumerable,e0=(t,e,r)=>e in t?CL(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ML=(t,e)=>{for(var r in e||(e={}))kL.call(e,r)&&e0(t,r,e[r]);if(Jy)for(var r of Jy(e))IL.call(e,r)&&e0(t,r,e[r]);return t},LL=(t,e)=>TL(t,EL(e));function PL(t,e){var r;const n=_i();return bx(()=>{n.value=t()},LL(ML({},e),{flush:(r=void 0)!=null?r:"sync"})),yg(n)}var t0;const Gt=typeof window<"u",NL=t=>typeof t=="string",Dx=()=>{},AL=Gt&&((t0=window==null?void 0:window.navigator)==null?void 0:t0.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function Eg(t){return typeof t=="function"?t():P(t)}function DL(t){return t}function xh(t){return XI()?(KI(t),!0):!1}function RL(t,e=!0){or()?Et(t):e?t():Pt(t)}function OL(t,e,r={}){const{immediate:n=!0}=r,i=ge(!1);let a=null;function o(){a&&(clearTimeout(a),a=null)}function s(){i.value=!1,o()}function l(...f){o(),i.value=!0,a=setTimeout(()=>{i.value=!1,a=null,t(...f)},Eg(e))}return n&&(i.value=!0,Gt&&l()),xh(s),{isPending:yg(i),start:l,stop:s}}function ji(t){var e;const r=Eg(t);return(e=r==null?void 0:r.$el)!=null?e:r}const kg=Gt?window:void 0;function Sn(...t){let e,r,n,i;if(NL(t[0])||Array.isArray(t[0])?([r,n,i]=t,e=kg):[e,r,n,i]=t,!e)return Dx;Array.isArray(r)||(r=[r]),Array.isArray(n)||(n=[n]);const a=[],o=()=>{a.forEach(v=>v()),a.length=0},s=(v,d,g,p)=>(v.addEventListener(d,g,p),()=>v.removeEventListener(d,g,p)),l=Ae(()=>[ji(e),Eg(i)],([v,d])=>{o(),v&&a.push(...r.flatMap(g=>n.map(p=>s(v,g,p,d))))},{immediate:!0,flush:"post"}),f=()=>{l(),o()};return xh(f),f}let r0=!1;function FL(t,e,r={}){const{window:n=kg,ignore:i=[],capture:a=!0,detectIframe:o=!1}=r;if(!n)return;AL&&!r0&&(r0=!0,Array.from(n.document.body.children).forEach(g=>g.addEventListener("click",Dx)));let s=!0;const l=g=>i.some(p=>{if(typeof p=="string")return Array.from(n.document.querySelectorAll(p)).some(y=>y===g.target||g.composedPath().includes(y));{const y=ji(p);return y&&(g.target===y||g.composedPath().includes(y))}}),v=[Sn(n,"click",g=>{const p=ji(t);if(!(!p||p===g.target||g.composedPath().includes(p))){if(g.detail===0&&(s=!l(g)),!s){s=!0;return}e(g)}},{passive:!0,capture:a}),Sn(n,"pointerdown",g=>{const p=ji(t);p&&(s=!g.composedPath().includes(p)&&!l(g))},{passive:!0}),o&&Sn(n,"blur",g=>{var p;const y=ji(t);((p=n.document.activeElement)==null?void 0:p.tagName)==="IFRAME"&&!(y!=null&&y.contains(n.document.activeElement))&&e(g)})].filter(Boolean);return()=>v.forEach(g=>g())}function BL(t,e=!1){const r=ge(),n=()=>r.value=!!t();return n(),RL(n,e),r}const n0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},i0="__vueuse_ssr_handlers__";n0[i0]=n0[i0]||{};var a0=Object.getOwnPropertySymbols,zL=Object.prototype.hasOwnProperty,GL=Object.prototype.propertyIsEnumerable,VL=(t,e)=>{var r={};for(var n in t)zL.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&a0)for(var n of a0(t))e.indexOf(n)<0&&GL.call(t,n)&&(r[n]=t[n]);return r};function HL(t,e,r={}){const n=r,{window:i=kg}=n,a=VL(n,["window"]);let o;const s=BL(()=>i&&"ResizeObserver"in i),l=()=>{o&&(o.disconnect(),o=void 0)},f=Ae(()=>ji(t),d=>{l(),s.value&&i&&d&&(o=new ResizeObserver(e),o.observe(d,a))},{immediate:!0,flush:"post"}),v=()=>{l(),f()};return xh(v),{isSupported:s,stop:v}}var o0;(function(t){t.UP="UP",t.RIGHT="RIGHT",t.DOWN="DOWN",t.LEFT="LEFT",t.NONE="NONE"})(o0||(o0={}));var $L=Object.defineProperty,s0=Object.getOwnPropertySymbols,UL=Object.prototype.hasOwnProperty,YL=Object.prototype.propertyIsEnumerable,u0=(t,e,r)=>e in t?$L(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,qL=(t,e)=>{for(var r in e||(e={}))UL.call(e,r)&&u0(t,r,e[r]);if(s0)for(var r of s0(e))YL.call(e,r)&&u0(t,r,e[r]);return t};const WL={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};qL({linear:DL},WL);class XL extends Error{constructor(e){super(e),this.name="ElementPlusError"}}function Rx(t,e){throw new XL(`[${t}] ${e}`)}const l0={current:0},c0=ge(0),Ox=2e3,f0=Symbol("elZIndexContextKey"),Fx=Symbol("zIndexContextKey"),Bx=t=>{const e=or()?vt(f0,l0):l0,r=t||(or()?vt(Fx,void 0):void 0),n=Z(()=>{const o=P(r);return gt(o)?o:Ox}),i=Z(()=>n.value+c0.value),a=()=>(e.current++,c0.value=e.current,i.value);return!Gt&&vt(f0),{initialZIndex:n,currentZIndex:i,nextZIndex:a}};var KL={name:"en",el:{breadcrumb:{label:"Breadcrumb"},colorpicker:{confirm:"OK",clear:"Clear",defaultLabel:"color picker",description:"current color is {color}. press enter to select a new color.",alphaLabel:"pick alpha value"},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",dateTablePrompt:"Use the arrow keys and enter to select the day of the month",monthTablePrompt:"Use the arrow keys and enter to select the month",yearTablePrompt:"Use the arrow keys and enter to select the year",selectedDate:"Selected date",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",week:"week",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},weeksFull:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},inputNumber:{decrease:"decrease number",increase:"increase number"},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},mention:{loading:"Loading"},dropdown:{toggleDropdown:"Toggle Dropdown"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:"",page:"Page",prev:"Go to previous page",next:"Go to next page",currentPage:"page {pager}",prevPages:"Previous {pager} pages",nextPages:"Next {pager} pages",deprecationWarning:"Deprecated usages detected, please refer to the el-pagination documentation for more details"},dialog:{close:"Close this dialog"},drawer:{close:"Close this dialog"},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input",close:"Close this dialog"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},slider:{defaultLabel:"slider between {min} and {max}",defaultRangeStartLabel:"pick start value",defaultRangeEndLabel:"pick end value"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tour:{next:"Next",previous:"Previous",finish:"Finish"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"},carousel:{leftArrow:"Carousel arrow left",rightArrow:"Carousel arrow right",indicator:"Carousel switch to index {index}"}}};const ZL=t=>(e,r)=>jL(e,r,P(t)),jL=(t,e,r)=>oL(r,t,t).replace(/\{(\w+)\}/g,(n,i)=>{var a;return`${(a=e==null?void 0:e[i])!=null?a:`{${i}}`}`}),QL=t=>{const e=Z(()=>P(t).name),r=ph(t)?t:ge(t);return{lang:e,locale:r,t:ZL(t)}},zx=Symbol("localeContextKey"),Ll=t=>{const e=t||vt(zx,ge());return QL(Z(()=>e.value||KL))},Gx="__epPropKey",Fe=t=>t,JL=t=>ho(t)&&!!t[Gx],Sh=(t,e)=>{if(!ho(t)||JL(t))return t;const{values:r,required:n,default:i,type:a,validator:o}=t,l={type:a,required:!!n,validator:r||o?f=>{let v=!1,d=[];if(r&&(d=Array.from(r),Tf(t,"default")&&d.push(i),v||(v=d.includes(f))),o&&(v||(v=o(f))),!v&&d.length>0){const g=[...new Set(d)].map(p=>JSON.stringify(p)).join(", ");ZI(`Invalid prop: validation failed${e?` for prop "${e}"`:""}. Expected one of [${g}], got value ${JSON.stringify(f)}.`)}return v}:void 0,[Gx]:!0};return Tf(t,"default")&&(l.default=i),l},ot=t=>If(Object.entries(t).map(([e,r])=>[e,Sh(r,e)])),eP=["","default","small","large"],ua=Sh({type:String,values:eP,required:!1}),Vx=Symbol("size"),tP=()=>{const t=vt(Vx,{});return Z(()=>P(t.size)||"")},rP=Symbol("emptyValuesContextKey");ot({emptyValues:Array,valueOnClear:{type:[String,Number,Boolean,Function],default:void 0,validator:t=>Gn(t)?!t():!t}});const h0=t=>Object.keys(t),Lf=ge();function Ig(t,e=void 0){const r=or()?vt(Tx,Lf):Lf;return t?Z(()=>{var n,i;return(i=(n=r.value)==null?void 0:n[t])!=null?i:e}):r}function Hx(t,e){const r=Ig(),n=at(t,Z(()=>{var s;return((s=r.value)==null?void 0:s.namespace)||ef})),i=Ll(Z(()=>{var s;return(s=r.value)==null?void 0:s.locale})),a=Bx(Z(()=>{var s;return((s=r.value)==null?void 0:s.zIndex)||Ox})),o=Z(()=>{var s;return P(e)||((s=r.value)==null?void 0:s.size)||""});return nP(Z(()=>P(r)||{})),{ns:n,locale:i,zIndex:a,size:o}}const nP=(t,e,r=!1)=>{var n;const i=!!or(),a=i?Ig():void 0,o=(n=void 0)!=null?n:i?nn:void 0;if(!o)return;const s=Z(()=>{const l=P(t);return a!=null&&a.value?iP(a.value,l):l});return o(Tx,s),o(zx,Z(()=>s.value.locale)),o(Ex,Z(()=>s.value.namespace)),o(Fx,Z(()=>s.value.zIndex)),o(Vx,{size:Z(()=>s.value.size||"")}),o(rP,Z(()=>({emptyValues:s.value.emptyValues,valueOnClear:s.value.valueOnClear}))),(r||!Lf.value)&&(Lf.value=s.value),s},iP=(t,e)=>{const r=[...new Set([...h0(t),...h0(e)])],n={};for(const i of r)n[i]=e[i]!==void 0?e[i]:t[i];return n},St="update:modelValue",pa="change",so="input";var st=(t,e)=>{const r=t.__vccOpts||t;for(const[n,i]of e)r[n]=i;return r};const $x=(t="")=>t.split(" ").filter(e=>!!e.trim()),v0=(t,e)=>{!t||!e.trim()||t.classList.add(...$x(e))},Pf=(t,e)=>{!t||!e.trim()||t.classList.remove(...$x(e))},ou=(t,e)=>{var r;if(!Gt||!t||!e)return"";let n=jI(e);n==="float"&&(n="cssFloat");try{const i=t.style[n];if(i)return i;const a=(r=document.defaultView)==null?void 0:r.getComputedStyle(t,"");return a?a[n]:""}catch{return t.style[n]}};function np(t,e="px"){if(!t)return"";if(gt(t)||SL(t))return`${t}${e}`;if(It(t))return t}const sn=(t,e)=>{if(t.install=r=>{for(const n of[t,...Object.values(e??{})])r.component(n.name,n)},e)for(const[r,n]of Object.entries(e))t[r]=n;return t},aP=(t,e)=>(t.install=r=>{t._context=r._context,r.config.globalProperties[e]=t},t),Ch=t=>(t.install=il,t),oP=ot({size:{type:Fe([Number,String])},color:{type:String}}),sP=he({name:"ElIcon",inheritAttrs:!1}),uP=he({...sP,props:oP,setup(t){const e=t,r=at("icon"),n=Z(()=>{const{size:i,color:a}=e;return!i&&!a?{}:{fontSize:ts(i)?void 0:np(i),"--color":a}});return(i,a)=>(ie(),fe("i",Si({class:P(r).b(),style:P(n)},i.$attrs),[Ze(i.$slots,"default")],16))}});var lP=st(uP,[["__file","icon.vue"]]);const mr=sn(lP);/*! Element Plus Icons Vue v2.3.1 */var cP=he({name:"ArrowDown",__name:"arrow-down",setup(t){return(e,r)=>(ie(),fe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[re("path",{fill:"currentColor",d:"M831.872 340.864 512 652.672 192.128 340.864a30.592 30.592 0 0 0-42.752 0 29.12 29.12 0 0 0 0 41.6L489.664 714.24a32 32 0 0 0 44.672 0l340.288-331.712a29.12 29.12 0 0 0 0-41.728 30.592 30.592 0 0 0-42.752 0z"})]))}}),Ux=cP,fP=he({name:"ArrowRight",__name:"arrow-right",setup(t){return(e,r)=>(ie(),fe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[re("path",{fill:"currentColor",d:"M340.864 149.312a30.592 30.592 0 0 0 0 42.752L652.736 512 340.864 831.872a30.592 30.592 0 0 0 0 42.752 29.12 29.12 0 0 0 41.728 0L714.24 534.336a32 32 0 0 0 0-44.672L382.592 149.376a29.12 29.12 0 0 0-41.728 0z"})]))}}),hP=fP,vP=he({name:"ArrowUp",__name:"arrow-up",setup(t){return(e,r)=>(ie(),fe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[re("path",{fill:"currentColor",d:"m488.832 344.32-339.84 356.672a32 32 0 0 0 0 44.16l.384.384a29.44 29.44 0 0 0 42.688 0l320-335.872 319.872 335.872a29.44 29.44 0 0 0 42.688 0l.384-.384a32 32 0 0 0 0-44.16L535.168 344.32a32 32 0 0 0-46.336 0"})]))}}),dP=vP,pP=he({name:"CircleCheck",__name:"circle-check",setup(t){return(e,r)=>(ie(),fe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[re("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"}),re("path",{fill:"currentColor",d:"M745.344 361.344a32 32 0 0 1 45.312 45.312l-288 288a32 32 0 0 1-45.312 0l-160-160a32 32 0 1 1 45.312-45.312L480 626.752l265.344-265.408z"})]))}}),gP=pP,mP=he({name:"CircleCloseFilled",__name:"circle-close-filled",setup(t){return(e,r)=>(ie(),fe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[re("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 393.664L407.936 353.6a38.4 38.4 0 1 0-54.336 54.336L457.664 512 353.6 616.064a38.4 38.4 0 1 0 54.336 54.336L512 566.336 616.064 670.4a38.4 38.4 0 1 0 54.336-54.336L566.336 512 670.4 407.936a38.4 38.4 0 1 0-54.336-54.336z"})]))}}),yP=mP,_P=he({name:"CircleClose",__name:"circle-close",setup(t){return(e,r)=>(ie(),fe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[re("path",{fill:"currentColor",d:"m466.752 512-90.496-90.496a32 32 0 0 1 45.248-45.248L512 466.752l90.496-90.496a32 32 0 1 1 45.248 45.248L557.248 512l90.496 90.496a32 32 0 1 1-45.248 45.248L512 557.248l-90.496 90.496a32 32 0 0 1-45.248-45.248z"}),re("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"})]))}}),Yx=_P,wP=he({name:"Close",__name:"close",setup(t){return(e,r)=>(ie(),fe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[re("path",{fill:"currentColor",d:"M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"})]))}}),qx=wP,bP=he({name:"Hide",__name:"hide",setup(t){return(e,r)=>(ie(),fe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[re("path",{fill:"currentColor",d:"M876.8 156.8c0-9.6-3.2-16-9.6-22.4-6.4-6.4-12.8-9.6-22.4-9.6-9.6 0-16 3.2-22.4 9.6L736 220.8c-64-32-137.6-51.2-224-60.8-160 16-288 73.6-377.6 176C44.8 438.4 0 496 0 512s48 73.6 134.4 176c22.4 25.6 44.8 48 73.6 67.2l-86.4 89.6c-6.4 6.4-9.6 12.8-9.6 22.4 0 9.6 3.2 16 9.6 22.4 6.4 6.4 12.8 9.6 22.4 9.6 9.6 0 16-3.2 22.4-9.6l704-710.4c3.2-6.4 6.4-12.8 6.4-22.4Zm-646.4 528c-76.8-70.4-128-128-153.6-172.8 28.8-48 80-105.6 153.6-172.8C304 272 400 230.4 512 224c64 3.2 124.8 19.2 176 44.8l-54.4 54.4C598.4 300.8 560 288 512 288c-64 0-115.2 22.4-160 64s-64 96-64 160c0 48 12.8 89.6 35.2 124.8L256 707.2c-9.6-6.4-19.2-16-25.6-22.4Zm140.8-96c-12.8-22.4-19.2-48-19.2-76.8 0-44.8 16-83.2 48-112 32-28.8 67.2-48 112-48 28.8 0 54.4 6.4 73.6 19.2zM889.599 336c-12.8-16-28.8-28.8-41.6-41.6l-48 48c73.6 67.2 124.8 124.8 150.4 169.6-28.8 48-80 105.6-153.6 172.8-73.6 67.2-172.8 108.8-284.8 115.2-51.2-3.2-99.2-12.8-140.8-28.8l-48 48c57.6 22.4 118.4 38.4 188.8 44.8 160-16 288-73.6 377.6-176C979.199 585.6 1024 528 1024 512s-48.001-73.6-134.401-176Z"}),re("path",{fill:"currentColor",d:"M511.998 672c-12.8 0-25.6-3.2-38.4-6.4l-51.2 51.2c28.8 12.8 57.6 19.2 89.6 19.2 64 0 115.2-22.4 160-64 41.6-41.6 64-96 64-160 0-32-6.4-64-19.2-89.6l-51.2 51.2c3.2 12.8 6.4 25.6 6.4 38.4 0 44.8-16 83.2-48 112-32 28.8-67.2 48-112 48Z"})]))}}),xP=bP,SP=he({name:"InfoFilled",__name:"info-filled",setup(t){return(e,r)=>(ie(),fe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[re("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896.064A448 448 0 0 1 512 64m67.2 275.072c33.28 0 60.288-23.104 60.288-57.344s-27.072-57.344-60.288-57.344c-33.28 0-60.16 23.104-60.16 57.344s26.88 57.344 60.16 57.344M590.912 699.2c0-6.848 2.368-24.64 1.024-34.752l-52.608 60.544c-10.88 11.456-24.512 19.392-30.912 17.28a12.992 12.992 0 0 1-8.256-14.72l87.68-276.992c7.168-35.136-12.544-67.2-54.336-71.296-44.096 0-108.992 44.736-148.48 101.504 0 6.784-1.28 23.68.064 33.792l52.544-60.608c10.88-11.328 23.552-19.328 29.952-17.152a12.8 12.8 0 0 1 7.808 16.128L388.48 728.576c-10.048 32.256 8.96 63.872 55.04 71.04 67.84 0 107.904-43.648 147.456-100.416z"})]))}}),CP=SP,TP=he({name:"Loading",__name:"loading",setup(t){return(e,r)=>(ie(),fe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[re("path",{fill:"currentColor",d:"M512 64a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32m0 640a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V736a32 32 0 0 1 32-32m448-192a32 32 0 0 1-32 32H736a32 32 0 1 1 0-64h192a32 32 0 0 1 32 32m-640 0a32 32 0 0 1-32 32H96a32 32 0 0 1 0-64h192a32 32 0 0 1 32 32M195.2 195.2a32 32 0 0 1 45.248 0L376.32 331.008a32 32 0 0 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248zm452.544 452.544a32 32 0 0 1 45.248 0L828.8 783.552a32 32 0 0 1-45.248 45.248L647.744 692.992a32 32 0 0 1 0-45.248zM828.8 195.264a32 32 0 0 1 0 45.184L692.992 376.32a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0m-452.544 452.48a32 32 0 0 1 0 45.248L240.448 828.8a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0z"})]))}}),Wx=TP,EP=he({name:"Minus",__name:"minus",setup(t){return(e,r)=>(ie(),fe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[re("path",{fill:"currentColor",d:"M128 544h768a32 32 0 1 0 0-64H128a32 32 0 0 0 0 64"})]))}}),kP=EP,IP=he({name:"Plus",__name:"plus",setup(t){return(e,r)=>(ie(),fe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[re("path",{fill:"currentColor",d:"M480 480V128a32 32 0 0 1 64 0v352h352a32 32 0 1 1 0 64H544v352a32 32 0 1 1-64 0V544H128a32 32 0 0 1 0-64z"})]))}}),MP=IP,LP=he({name:"SuccessFilled",__name:"success-filled",setup(t){return(e,r)=>(ie(),fe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[re("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336z"})]))}}),PP=LP,NP=he({name:"View",__name:"view",setup(t){return(e,r)=>(ie(),fe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[re("path",{fill:"currentColor",d:"M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352m0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288zm0 64a224 224 0 1 1 0 448 224 224 0 0 1 0-448m0 64a160.192 160.192 0 0 0-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160"})]))}}),AP=NP,DP=he({name:"WarningFilled",__name:"warning-filled",setup(t){return(e,r)=>(ie(),fe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[re("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 192a58.432 58.432 0 0 0-58.24 63.744l23.36 256.384a35.072 35.072 0 0 0 69.76 0l23.296-256.384A58.432 58.432 0 0 0 512 256m0 512a51.2 51.2 0 1 0 0-102.4 51.2 51.2 0 0 0 0 102.4"})]))}}),RP=DP;const ms=Fe([String,Object,Function]),OP={Close:qx},d0={success:PP,warning:RP,error:yP,info:CP},FP={validating:Wx,success:gP,error:Yx},Xx=()=>Gt&&/firefox/i.test(window.navigator.userAgent);let ur;const BP={height:"0",visibility:"hidden",overflow:Xx()?"":"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},zP=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function GP(t){const e=window.getComputedStyle(t),r=e.getPropertyValue("box-sizing"),n=Number.parseFloat(e.getPropertyValue("padding-bottom"))+Number.parseFloat(e.getPropertyValue("padding-top")),i=Number.parseFloat(e.getPropertyValue("border-bottom-width"))+Number.parseFloat(e.getPropertyValue("border-top-width"));return{contextStyle:zP.map(o=>[o,e.getPropertyValue(o)]),paddingSize:n,borderSize:i,boxSizing:r}}function p0(t,e=1,r){var n;ur||(ur=document.createElement("textarea"),document.body.appendChild(ur));const{paddingSize:i,borderSize:a,boxSizing:o,contextStyle:s}=GP(t);s.forEach(([d,g])=>ur==null?void 0:ur.style.setProperty(d,g)),Object.entries(BP).forEach(([d,g])=>ur==null?void 0:ur.style.setProperty(d,g,"important")),ur.value=t.value||t.placeholder||"";let l=ur.scrollHeight;const f={};o==="border-box"?l=l+a:o==="content-box"&&(l=l-i),ur.value="";const v=ur.scrollHeight-i;if(gt(e)){let d=v*e;o==="border-box"&&(d=d+i+a),l=Math.max(d,l),f.minHeight=`${d}px`}if(gt(r)){let d=v*r;o==="border-box"&&(d=d+i+a),l=Math.min(d,l)}return f.height=`${l}px`,(n=ur.parentNode)==null||n.removeChild(ur),ur=void 0,f}const Kx=t=>t,VP=ot({ariaLabel:String,ariaOrientation:{type:String,values:["horizontal","vertical","undefined"]},ariaControls:String}),So=t=>xL(VP,t),HP=ot({id:{type:String,default:void 0},size:ua,disabled:Boolean,modelValue:{type:Fe([String,Number,Object]),default:""},maxlength:{type:[String,Number]},minlength:{type:[String,Number]},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:Fe([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:Boolean,clearable:Boolean,showPassword:Boolean,showWordLimit:Boolean,suffixIcon:{type:ms},prefixIcon:{type:ms},containerRole:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:Fe([Object,Array,String]),default:()=>Kx({})},autofocus:Boolean,rows:{type:Number,default:2},...So(["ariaLabel"])}),$P={[St]:t=>It(t),input:t=>It(t),change:t=>It(t),focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent,clear:()=>!0,mouseleave:t=>t instanceof MouseEvent,mouseenter:t=>t instanceof MouseEvent,keydown:t=>t instanceof Event,compositionstart:t=>t instanceof CompositionEvent,compositionupdate:t=>t instanceof CompositionEvent,compositionend:t=>t instanceof CompositionEvent},UP=["class","style"],YP=/^on[A-Z]/,qP=(t={})=>{const{excludeListeners:e=!1,excludeKeys:r}=t,n=Z(()=>((r==null?void 0:r.value)||[]).concat(UP)),i=or();return i?Z(()=>{var a;return If(Object.entries((a=i.proxy)==null?void 0:a.$attrs).filter(([o])=>!n.value.includes(o)&&!(e&&YP.test(o))))}):Z(()=>({}))},Mg=Symbol("formContextKey"),Nf=Symbol("formItemContextKey"),g0={prefix:Math.floor(Math.random()*1e4),current:0},WP=Symbol("elIdInjection"),Lg=()=>or()?vt(WP,g0):g0,Pg=t=>{const e=Lg(),r=wg();return PL(()=>P(t)||`${r.value}-id-${e.prefix}-${e.current++}`)},Ds=()=>{const t=vt(Mg,void 0),e=vt(Nf,void 0);return{form:t,formItem:e}},Th=(t,{formItemContext:e,disableIdGeneration:r,disableIdManagement:n})=>{r||(r=ge(!1)),n||(n=ge(!1));const i=ge();let a;const o=Z(()=>{var s;return!!(!(t.label||t.ariaLabel)&&e&&e.inputIds&&((s=e.inputIds)==null?void 0:s.length)<=1)});return Et(()=>{a=Ae([pi(t,"id"),r],([s,l])=>{const f=s??(l?void 0:Pg().value);f!==i.value&&(e!=null&&e.removeInputId&&(i.value&&e.removeInputId(i.value),!(n!=null&&n.value)&&!l&&f&&e.addInputId(f)),i.value=f)},{immediate:!0})}),QI(()=>{a&&a(),e!=null&&e.removeInputId&&i.value&&e.removeInputId(i.value)}),{isLabeledByFormItem:o,inputId:i}},Zx=t=>{const e=or();return Z(()=>{var r,n;return(n=(r=e==null?void 0:e.proxy)==null?void 0:r.$props)==null?void 0:n[t]})},Rs=(t,e={})=>{const r=ge(void 0),n=e.prop?r:Zx("size"),i=e.global?r:tP(),a=e.form?{size:void 0}:vt(Mg,void 0),o=e.formItem?{size:void 0}:vt(Nf,void 0);return Z(()=>n.value||P(t)||(o==null?void 0:o.size)||(a==null?void 0:a.size)||i.value||"")},Os=t=>{const e=Zx("disabled"),r=vt(Mg,void 0);return Z(()=>e.value||P(t)||(r==null?void 0:r.disabled)||!1)};function jx(t,{beforeFocus:e,afterFocus:r,beforeBlur:n,afterBlur:i}={}){const a=or(),{emit:o}=a,s=_i(),l=ge(!1),f=g=>{Gn(e)&&e(g)||l.value||(l.value=!0,o("focus",g),r==null||r())},v=g=>{var p;Gn(n)&&n(g)||g.relatedTarget&&((p=s.value)!=null&&p.contains(g.relatedTarget))||(l.value=!1,o("blur",g),i==null||i())},d=()=>{var g,p;(g=s.value)!=null&&g.contains(document.activeElement)&&s.value!==document.activeElement||(p=t.value)==null||p.focus()};return Ae(s,g=>{g&&g.setAttribute("tabindex","-1")}),Sn(s,"focus",f,!0),Sn(s,"blur",v,!0),Sn(s,"click",d,!0),{isFocused:l,wrapperRef:s,handleFocus:f,handleBlur:v}}const XP=t=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(t);function KP({afterComposition:t,emit:e}){const r=ge(!1),n=s=>{e==null||e("compositionstart",s),r.value=!0},i=s=>{var l;e==null||e("compositionupdate",s);const f=(l=s.target)==null?void 0:l.value,v=f[f.length-1]||"";r.value=!XP(v)},a=s=>{e==null||e("compositionend",s),r.value&&(r.value=!1,Pt(()=>t(s)))};return{isComposing:r,handleComposition:s=>{s.type==="compositionend"?a(s):i(s)},handleCompositionStart:n,handleCompositionUpdate:i,handleCompositionEnd:a}}function ZP(t){let e;function r(){if(t.value==null)return;const{selectionStart:i,selectionEnd:a,value:o}=t.value;if(i==null||a==null)return;const s=o.slice(0,Math.max(0,i)),l=o.slice(Math.max(0,a));e={selectionStart:i,selectionEnd:a,value:o,beforeTxt:s,afterTxt:l}}function n(){if(t.value==null||e==null)return;const{value:i}=t.value,{beforeTxt:a,afterTxt:o,selectionStart:s}=e;if(a==null||o==null||s==null)return;let l=i.length;if(i.endsWith(o))l=i.length-o.length;else if(i.startsWith(a))l=a.length;else{const f=a[s-1],v=i.indexOf(f,s-1);v!==-1&&(l=v+1)}t.value.setSelectionRange(l,l)}return[r,n]}const jP=he({name:"ElInput",inheritAttrs:!1}),QP=he({...jP,props:HP,emits:$P,setup(t,{expose:e,emit:r}){const n=t,i=JI(),a=qP(),o=xx(),s=Z(()=>[n.type==="textarea"?w.b():y.b(),y.m(g.value),y.is("disabled",p.value),y.is("exceed",ae.value),{[y.b("group")]:o.prepend||o.append,[y.m("prefix")]:o.prefix||n.prefixIcon,[y.m("suffix")]:o.suffix||n.suffixIcon||n.clearable||n.showPassword,[y.bm("suffix","password-clear")]:Q.value&&J.value,[y.b("hidden")]:n.type==="hidden"},i.class]),l=Z(()=>[y.e("wrapper"),y.is("focus",R.value)]),{form:f,formItem:v}=Ds(),{inputId:d}=Th(n,{formItemContext:v}),g=Rs(),p=Os(),y=at("input"),w=at("textarea"),b=_i(),x=_i(),C=ge(!1),T=ge(!1),k=ge(),L=_i(n.inputStyle),M=Z(()=>b.value||x.value),{wrapperRef:N,isFocused:R,handleFocus:D,handleBlur:F}=jx(M,{beforeFocus(){return p.value},afterBlur(){var te;n.validateEvent&&((te=v==null?void 0:v.validate)==null||te.call(v,"blur").catch(Xe=>void 0))}}),z=Z(()=>{var te;return(te=f==null?void 0:f.statusIcon)!=null?te:!1}),G=Z(()=>(v==null?void 0:v.validateState)||""),q=Z(()=>G.value&&FP[G.value]),H=Z(()=>T.value?AP:xP),V=Z(()=>[i.style]),U=Z(()=>[n.inputStyle,L.value,{resize:n.resize}]),W=Z(()=>Dr(n.modelValue)?"":String(n.modelValue)),Q=Z(()=>n.clearable&&!p.value&&!n.readonly&&!!W.value&&(R.value||C.value)),J=Z(()=>n.showPassword&&!p.value&&!!W.value&&(!!W.value||R.value)),j=Z(()=>n.showWordLimit&&!!n.maxlength&&(n.type==="text"||n.type==="textarea")&&!p.value&&!n.readonly&&!n.showPassword),pe=Z(()=>W.value.length),ae=Z(()=>!!j.value&&pe.value>Number(n.maxlength)),ce=Z(()=>!!o.suffix||!!n.suffixIcon||Q.value||n.showPassword||j.value||!!G.value&&z.value),[oe,be]=ZP(b);HL(x,te=>{if(K(),!j.value||n.resize!=="both")return;const Xe=te[0],{width:sr}=Xe.contentRect;k.value={right:`calc(100% - ${sr+15+6}px)`}});const et=()=>{const{type:te,autosize:Xe}=n;if(!(!Gt||te!=="textarea"||!x.value))if(Xe){const sr=ho(Xe)?Xe.minRows:void 0,ii=ho(Xe)?Xe.maxRows:void 0,Te=p0(x.value,sr,ii);L.value={overflowY:"hidden",...Te},Pt(()=>{x.value.offsetHeight,L.value=Te})}else L.value={minHeight:p0(x.value).minHeight}},K=(te=>{let Xe=!1;return()=>{var sr;if(Xe||!n.autosize)return;((sr=x.value)==null?void 0:sr.offsetParent)===null||(te(),Xe=!0)}})(et),me=()=>{const te=M.value,Xe=n.formatter?n.formatter(W.value):W.value;!te||te.value===Xe||(te.value=Xe)},_e=async te=>{oe();let{value:Xe}=te.target;if(n.formatter&&(Xe=n.parser?n.parser(Xe):Xe),!B.value){if(Xe===W.value){me();return}r(St,Xe),r("input",Xe),await Pt(),me(),be()}},ne=te=>{r("change",te.target.value)},{isComposing:B,handleCompositionStart:nt,handleCompositionUpdate:ft,handleCompositionEnd:Yt}=KP({emit:r,afterComposition:_e}),kn=()=>{oe(),T.value=!T.value,setTimeout(be)},Ni=()=>{var te;return(te=M.value)==null?void 0:te.focus()},Xs=()=>{var te;return(te=M.value)==null?void 0:te.blur()},ue=te=>{C.value=!1,r("mouseleave",te)},Or=te=>{C.value=!0,r("mouseenter",te)},In=te=>{r("keydown",te)},Fr=()=>{var te;(te=M.value)==null||te.select()},_a=()=>{r(St,""),r("change",""),r("clear"),r("input","")};return Ae(()=>n.modelValue,()=>{var te;Pt(()=>et()),n.validateEvent&&((te=v==null?void 0:v.validate)==null||te.call(v,"change").catch(Xe=>void 0))}),Ae(W,()=>me()),Ae(()=>n.type,async()=>{await Pt(),me(),et()}),Et(()=>{!n.formatter&&n.parser,me(),Pt(et)}),e({input:b,textarea:x,ref:M,textareaStyle:U,autosize:pi(n,"autosize"),isComposing:B,focus:Ni,blur:Xs,select:Fr,clear:_a,resizeTextarea:et}),(te,Xe)=>(ie(),fe("div",{class:de([P(s),{[P(y).bm("group","append")]:te.$slots.append,[P(y).bm("group","prepend")]:te.$slots.prepend}]),style:kt(P(V)),onMouseenter:Or,onMouseleave:ue},[Ve(" input "),te.type!=="textarea"?(ie(),fe($t,{key:0},[Ve(" prepend slot "),te.$slots.prepend?(ie(),fe("div",{key:0,class:de(P(y).be("group","prepend"))},[Ze(te.$slots,"prepend")],2)):Ve("v-if",!0),re("div",{ref_key:"wrapperRef",ref:N,class:de(P(l))},[Ve(" prefix slot "),te.$slots.prefix||te.prefixIcon?(ie(),fe("span",{key:0,class:de(P(y).e("prefix"))},[re("span",{class:de(P(y).e("prefix-inner"))},[Ze(te.$slots,"prefix"),te.prefixIcon?(ie(),Ge(P(mr),{key:0,class:de(P(y).e("icon"))},{default:Ne(()=>[(ie(),Ge(gi(te.prefixIcon)))]),_:1},8,["class"])):Ve("v-if",!0)],2)],2)):Ve("v-if",!0),re("input",Si({id:P(d),ref_key:"input",ref:b,class:P(y).e("inner")},P(a),{minlength:te.minlength,maxlength:te.maxlength,type:te.showPassword?T.value?"text":"password":te.type,disabled:P(p),readonly:te.readonly,autocomplete:te.autocomplete,tabindex:te.tabindex,"aria-label":te.ariaLabel,placeholder:te.placeholder,style:te.inputStyle,form:te.form,autofocus:te.autofocus,role:te.containerRole,onCompositionstart:P(nt),onCompositionupdate:P(ft),onCompositionend:P(Yt),onInput:_e,onChange:ne,onKeydown:In}),null,16,["id","minlength","maxlength","type","disabled","readonly","autocomplete","tabindex","aria-label","placeholder","form","autofocus","role","onCompositionstart","onCompositionupdate","onCompositionend"]),Ve(" suffix slot "),P(ce)?(ie(),fe("span",{key:1,class:de(P(y).e("suffix"))},[re("span",{class:de(P(y).e("suffix-inner"))},[!P(Q)||!P(J)||!P(j)?(ie(),fe($t,{key:0},[Ze(te.$slots,"suffix"),te.suffixIcon?(ie(),Ge(P(mr),{key:0,class:de(P(y).e("icon"))},{default:Ne(()=>[(ie(),Ge(gi(te.suffixIcon)))]),_:1},8,["class"])):Ve("v-if",!0)],64)):Ve("v-if",!0),P(Q)?(ie(),Ge(P(mr),{key:1,class:de([P(y).e("icon"),P(y).e("clear")]),onMousedown:xn(P(il),["prevent"]),onClick:_a},{default:Ne(()=>[Ee(P(Yx))]),_:1},8,["class","onMousedown"])):Ve("v-if",!0),P(J)?(ie(),Ge(P(mr),{key:2,class:de([P(y).e("icon"),P(y).e("password")]),onClick:kn},{default:Ne(()=>[(ie(),Ge(gi(P(H))))]),_:1},8,["class"])):Ve("v-if",!0),P(j)?(ie(),fe("span",{key:3,class:de(P(y).e("count"))},[re("span",{class:de(P(y).e("count-inner"))},At(P(pe))+" / "+At(te.maxlength),3)],2)):Ve("v-if",!0),P(G)&&P(q)&&P(z)?(ie(),Ge(P(mr),{key:4,class:de([P(y).e("icon"),P(y).e("validateIcon"),P(y).is("loading",P(G)==="validating")])},{default:Ne(()=>[(ie(),Ge(gi(P(q))))]),_:1},8,["class"])):Ve("v-if",!0)],2)],2)):Ve("v-if",!0)],2),Ve(" append slot "),te.$slots.append?(ie(),fe("div",{key:1,class:de(P(y).be("group","append"))},[Ze(te.$slots,"append")],2)):Ve("v-if",!0)],64)):(ie(),fe($t,{key:1},[Ve(" textarea "),re("textarea",Si({id:P(d),ref_key:"textarea",ref:x,class:[P(w).e("inner"),P(y).is("focus",P(R))]},P(a),{minlength:te.minlength,maxlength:te.maxlength,tabindex:te.tabindex,disabled:P(p),readonly:te.readonly,autocomplete:te.autocomplete,style:P(U),"aria-label":te.ariaLabel,placeholder:te.placeholder,form:te.form,autofocus:te.autofocus,rows:te.rows,role:te.containerRole,onCompositionstart:P(nt),onCompositionupdate:P(ft),onCompositionend:P(Yt),onInput:_e,onFocus:P(D),onBlur:P(F),onChange:ne,onKeydown:In}),null,16,["id","minlength","maxlength","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form","autofocus","rows","role","onCompositionstart","onCompositionupdate","onCompositionend","onFocus","onBlur"]),P(j)?(ie(),fe("span",{key:0,style:kt(k.value),class:de(P(y).e("count"))},At(P(pe))+" / "+At(te.maxlength),7)):Ve("v-if",!0)],64))],38))}});var JP=st(QP,[["__file","input.vue"]]);const Qx=sn(JP),Ng=Symbol("popper"),Jx=Symbol("popperContent"),eN=["dialog","grid","group","listbox","menu","navigation","tooltip","tree"],eS=ot({role:{type:String,values:eN,default:"tooltip"}}),tN=he({name:"ElPopper",inheritAttrs:!1}),rN=he({...tN,props:eS,setup(t,{expose:e}){const r=t,n=ge(),i=ge(),a=ge(),o=ge(),s=Z(()=>r.role),l={triggerRef:n,popperInstanceRef:i,contentRef:a,referenceRef:o,role:s};return e(l),nn(Ng,l),(f,v)=>Ze(f.$slots,"default")}});var nN=st(rN,[["__file","popper.vue"]]);const tS=ot({arrowOffset:{type:Number,default:5}}),iN=he({name:"ElPopperArrow",inheritAttrs:!1}),aN=he({...iN,props:tS,setup(t,{expose:e}){const r=t,n=at("popper"),{arrowOffset:i,arrowRef:a,arrowStyle:o}=vt(Jx,void 0);return Ae(()=>r.arrowOffset,s=>{i.value=s}),Qt(()=>{a.value=void 0}),e({arrowRef:a}),(s,l)=>(ie(),fe("span",{ref_key:"arrowRef",ref:a,class:de(P(n).e("arrow")),style:kt(P(o)),"data-popper-arrow":""},null,6))}});var oN=st(aN,[["__file","arrow.vue"]]);const rS=ot({virtualRef:{type:Fe(Object)},virtualTriggering:Boolean,onMouseenter:{type:Fe(Function)},onMouseleave:{type:Fe(Function)},onClick:{type:Fe(Function)},onKeydown:{type:Fe(Function)},onFocus:{type:Fe(Function)},onBlur:{type:Fe(Function)},onContextmenu:{type:Fe(Function)},id:String,open:Boolean}),nS=Symbol("elForwardRef"),sN=t=>{nn(nS,{setForwardRef:r=>{t.value=r}})},uN=t=>({mounted(e){t(e)},updated(e){t(e)},unmounted(){t(null)}}),ip=t=>{if(t.tabIndex>0||t.tabIndex===0&&t.getAttribute("tabIndex")!==null)return!0;if(t.tabIndex<0||t.hasAttribute("disabled")||t.getAttribute("aria-disabled")==="true")return!1;switch(t.nodeName){case"A":return!!t.href&&t.rel!=="ignore";case"INPUT":return!(t.type==="hidden"||t.type==="file");case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}},lN="ElOnlyChild",cN=he({name:lN,setup(t,{slots:e,attrs:r}){var n;const i=vt(nS),a=uN((n=i==null?void 0:i.setForwardRef)!=null?n:il);return()=>{var o;const s=(o=e.default)==null?void 0:o.call(e,r);if(!s||s.length>1)return null;const l=iS(s);return l?Mt(e2(l,r),[[a]]):null}}});function iS(t){if(!t)return null;const e=t;for(const r of e){if(ho(r))switch(r.type){case t2:continue;case Sx:case"svg":return m0(r);case $t:return iS(r.children);default:return r}return m0(r)}return null}function m0(t){const e=at("only-child");return Ee("span",{class:e.e("content")},[t])}const fN=he({name:"ElPopperTrigger",inheritAttrs:!1}),hN=he({...fN,props:rS,setup(t,{expose:e}){const r=t,{role:n,triggerRef:i}=vt(Ng,void 0);sN(i);const a=Z(()=>s.value?r.id:void 0),o=Z(()=>{if(n&&n.value==="tooltip")return r.open&&r.id?r.id:void 0}),s=Z(()=>{if(n&&n.value!=="tooltip")return n.value}),l=Z(()=>s.value?`${r.open}`:void 0);let f;const v=["onMouseenter","onMouseleave","onClick","onKeydown","onFocus","onBlur","onContextmenu"];return Et(()=>{Ae(()=>r.virtualRef,d=>{d&&(i.value=ji(d))},{immediate:!0}),Ae(i,(d,g)=>{f==null||f(),f=void 0,Yn(d)&&(v.forEach(p=>{var y;const w=r[p];w&&(d.addEventListener(p.slice(2).toLowerCase(),w),(y=g==null?void 0:g.removeEventListener)==null||y.call(g,p.slice(2).toLowerCase(),w))}),ip(d)&&(f=Ae([a,o,s,l],p=>{["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach((y,w)=>{Dr(p[w])?d.removeAttribute(y):d.setAttribute(y,p[w])})},{immediate:!0}))),Yn(g)&&ip(g)&&["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach(p=>g.removeAttribute(p))},{immediate:!0})}),Qt(()=>{if(f==null||f(),f=void 0,i.value&&Yn(i.value)){const d=i.value;v.forEach(g=>{const p=r[g];p&&d.removeEventListener(g.slice(2).toLowerCase(),p)}),i.value=void 0}}),e({triggerRef:i}),(d,g)=>d.virtualTriggering?Ve("v-if",!0):(ie(),Ge(P(cN),Si({key:0},d.$attrs,{"aria-controls":P(a),"aria-describedby":P(o),"aria-expanded":P(l),"aria-haspopup":P(s)}),{default:Ne(()=>[Ze(d.$slots,"default")]),_:3},16,["aria-controls","aria-describedby","aria-expanded","aria-haspopup"]))}});var vN=st(hN,[["__file","trigger.vue"]]);const Tv="focus-trap.focus-after-trapped",Ev="focus-trap.focus-after-released",dN="focus-trap.focusout-prevented",y0={cancelable:!0,bubbles:!1},pN={cancelable:!0,bubbles:!1},_0="focusAfterTrapped",w0="focusAfterReleased",gN=Symbol("elFocusTrap"),Ag=ge(),Eh=ge(0),Dg=ge(0);let jl=0;const aS=t=>{const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0||n===document.activeElement?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e},b0=(t,e)=>{for(const r of t)if(!mN(r,e))return r},mN=(t,e)=>{if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1},yN=t=>{const e=aS(t),r=b0(e,t),n=b0(e.reverse(),t);return[r,n]},_N=t=>t instanceof HTMLInputElement&&"select"in t,hi=(t,e)=>{if(t&&t.focus){const r=document.activeElement;let n=!1;Yn(t)&&!ip(t)&&!t.getAttribute("tabindex")&&(t.setAttribute("tabindex","-1"),n=!0),t.focus({preventScroll:!0}),Dg.value=window.performance.now(),t!==r&&_N(t)&&e&&t.select(),Yn(t)&&n&&t.removeAttribute("tabindex")}};function x0(t,e){const r=[...t],n=t.indexOf(e);return n!==-1&&r.splice(n,1),r}const wN=()=>{let t=[];return{push:n=>{const i=t[0];i&&n!==i&&i.pause(),t=x0(t,n),t.unshift(n)},remove:n=>{var i,a;t=x0(t,n),(a=(i=t[0])==null?void 0:i.resume)==null||a.call(i)}}},bN=(t,e=!1)=>{const r=document.activeElement;for(const n of t)if(hi(n,e),document.activeElement!==r)return},S0=wN(),xN=()=>Eh.value>Dg.value,Ql=()=>{Ag.value="pointer",Eh.value=window.performance.now()},C0=()=>{Ag.value="keyboard",Eh.value=window.performance.now()},SN=()=>(Et(()=>{jl===0&&(document.addEventListener("mousedown",Ql),document.addEventListener("touchstart",Ql),document.addEventListener("keydown",C0)),jl++}),Qt(()=>{jl--,jl<=0&&(document.removeEventListener("mousedown",Ql),document.removeEventListener("touchstart",Ql),document.removeEventListener("keydown",C0))}),{focusReason:Ag,lastUserFocusTimestamp:Eh,lastAutomatedFocusTimestamp:Dg}),Jl=t=>new CustomEvent(dN,{...pN,detail:t}),pt={tab:"Tab",enter:"Enter",space:"Space",left:"ArrowLeft",up:"ArrowUp",right:"ArrowRight",down:"ArrowDown",esc:"Escape",delete:"Delete",backspace:"Backspace",numpadEnter:"NumpadEnter",pageUp:"PageUp",pageDown:"PageDown",home:"Home",end:"End"};let Jo=[];const T0=t=>{t.code===pt.esc&&Jo.forEach(e=>e(t))},CN=t=>{Et(()=>{Jo.length===0&&document.addEventListener("keydown",T0),Gt&&Jo.push(t)}),Qt(()=>{Jo=Jo.filter(e=>e!==t),Jo.length===0&&Gt&&document.removeEventListener("keydown",T0)})},TN=he({name:"ElFocusTrap",inheritAttrs:!1,props:{loop:Boolean,trapped:Boolean,focusTrapEl:Object,focusStartEl:{type:[Object,String],default:"first"}},emits:[_0,w0,"focusin","focusout","focusout-prevented","release-requested"],setup(t,{emit:e}){const r=ge();let n,i;const{focusReason:a}=SN();CN(y=>{t.trapped&&!o.paused&&e("release-requested",y)});const o={paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}},s=y=>{if(!t.loop&&!t.trapped||o.paused)return;const{code:w,altKey:b,ctrlKey:x,metaKey:C,currentTarget:T,shiftKey:k}=y,{loop:L}=t,M=w===pt.tab&&!b&&!x&&!C,N=document.activeElement;if(M&&N){const R=T,[D,F]=yN(R);if(D&&F){if(!k&&N===F){const G=Jl({focusReason:a.value});e("focusout-prevented",G),G.defaultPrevented||(y.preventDefault(),L&&hi(D,!0))}else if(k&&[D,R].includes(N)){const G=Jl({focusReason:a.value});e("focusout-prevented",G),G.defaultPrevented||(y.preventDefault(),L&&hi(F,!0))}}else if(N===R){const G=Jl({focusReason:a.value});e("focusout-prevented",G),G.defaultPrevented||y.preventDefault()}}};nn(gN,{focusTrapRef:r,onKeydown:s}),Ae(()=>t.focusTrapEl,y=>{y&&(r.value=y)},{immediate:!0}),Ae([r],([y],[w])=>{y&&(y.addEventListener("keydown",s),y.addEventListener("focusin",v),y.addEventListener("focusout",d)),w&&(w.removeEventListener("keydown",s),w.removeEventListener("focusin",v),w.removeEventListener("focusout",d))});const l=y=>{e(_0,y)},f=y=>e(w0,y),v=y=>{const w=P(r);if(!w)return;const b=y.target,x=y.relatedTarget,C=b&&w.contains(b);t.trapped||x&&w.contains(x)||(n=x),C&&e("focusin",y),!o.paused&&t.trapped&&(C?i=b:hi(i,!0))},d=y=>{const w=P(r);if(!(o.paused||!w))if(t.trapped){const b=y.relatedTarget;!Dr(b)&&!w.contains(b)&&setTimeout(()=>{if(!o.paused&&t.trapped){const x=Jl({focusReason:a.value});e("focusout-prevented",x),x.defaultPrevented||hi(i,!0)}},0)}else{const b=y.target;b&&w.contains(b)||e("focusout",y)}};async function g(){await Pt();const y=P(r);if(y){S0.push(o);const w=y.contains(document.activeElement)?n:document.activeElement;if(n=w,!y.contains(w)){const x=new Event(Tv,y0);y.addEventListener(Tv,l),y.dispatchEvent(x),x.defaultPrevented||Pt(()=>{let C=t.focusStartEl;It(C)||(hi(C),document.activeElement!==C&&(C="first")),C==="first"&&bN(aS(y),!0),(document.activeElement===w||C==="container")&&hi(y)})}}}function p(){const y=P(r);if(y){y.removeEventListener(Tv,l);const w=new CustomEvent(Ev,{...y0,detail:{focusReason:a.value}});y.addEventListener(Ev,f),y.dispatchEvent(w),!w.defaultPrevented&&(a.value=="keyboard"||!xN()||y.contains(document.activeElement))&&hi(n??document.body),y.removeEventListener(Ev,f),S0.remove(o)}}return Et(()=>{t.trapped&&g(),Ae(()=>t.trapped,y=>{y?g():p()})}),Qt(()=>{t.trapped&&p(),r.value&&(r.value.removeEventListener("keydown",s),r.value.removeEventListener("focusin",v),r.value.removeEventListener("focusout",d),r.value=void 0)}),{onKeydown:s}}});function EN(t,e,r,n,i,a){return Ze(t.$slots,"default",{handleKeydown:t.onKeydown})}var kN=st(TN,[["render",EN],["__file","focus-trap.vue"]]),_r="top",an="bottom",on="right",wr="left",Rg="auto",Pl=[_r,an,on,wr],ys="start",sl="end",IN="clippingParents",oS="viewport",su="popper",MN="reference",E0=Pl.reduce(function(t,e){return t.concat([e+"-"+ys,e+"-"+sl])},[]),Nl=[].concat(Pl,[Rg]).reduce(function(t,e){return t.concat([e,e+"-"+ys,e+"-"+sl])},[]),LN="beforeRead",PN="read",NN="afterRead",AN="beforeMain",DN="main",RN="afterMain",ON="beforeWrite",FN="write",BN="afterWrite",zN=[LN,PN,NN,AN,DN,RN,ON,FN,BN];function Zn(t){return t?(t.nodeName||"").toLowerCase():null}function Tn(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function _s(t){var e=Tn(t).Element;return t instanceof e||t instanceof Element}function Jr(t){var e=Tn(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function Og(t){if(typeof ShadowRoot>"u")return!1;var e=Tn(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function GN(t){var e=t.state;Object.keys(e.elements).forEach(function(r){var n=e.styles[r]||{},i=e.attributes[r]||{},a=e.elements[r];!Jr(a)||!Zn(a)||(Object.assign(a.style,n),Object.keys(i).forEach(function(o){var s=i[o];s===!1?a.removeAttribute(o):a.setAttribute(o,s===!0?"":s)}))})}function VN(t){var e=t.state,r={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,r.popper),e.styles=r,e.elements.arrow&&Object.assign(e.elements.arrow.style,r.arrow),function(){Object.keys(e.elements).forEach(function(n){var i=e.elements[n],a=e.attributes[n]||{},o=Object.keys(e.styles.hasOwnProperty(n)?e.styles[n]:r[n]),s=o.reduce(function(l,f){return l[f]="",l},{});!Jr(i)||!Zn(i)||(Object.assign(i.style,s),Object.keys(a).forEach(function(l){i.removeAttribute(l)}))})}}var sS={name:"applyStyles",enabled:!0,phase:"write",fn:GN,effect:VN,requires:["computeStyles"]};function qn(t){return t.split("-")[0]}var uo=Math.max,Af=Math.min,ws=Math.round;function bs(t,e){e===void 0&&(e=!1);var r=t.getBoundingClientRect(),n=1,i=1;if(Jr(t)&&e){var a=t.offsetHeight,o=t.offsetWidth;o>0&&(n=ws(r.width)/o||1),a>0&&(i=ws(r.height)/a||1)}return{width:r.width/n,height:r.height/i,top:r.top/i,right:r.right/n,bottom:r.bottom/i,left:r.left/n,x:r.left/n,y:r.top/i}}function Fg(t){var e=bs(t),r=t.offsetWidth,n=t.offsetHeight;return Math.abs(e.width-r)<=1&&(r=e.width),Math.abs(e.height-n)<=1&&(n=e.height),{x:t.offsetLeft,y:t.offsetTop,width:r,height:n}}function uS(t,e){var r=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(r&&Og(r)){var n=e;do{if(n&&t.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function Ti(t){return Tn(t).getComputedStyle(t)}function HN(t){return["table","td","th"].indexOf(Zn(t))>=0}function ga(t){return((_s(t)?t.ownerDocument:t.document)||window.document).documentElement}function kh(t){return Zn(t)==="html"?t:t.assignedSlot||t.parentNode||(Og(t)?t.host:null)||ga(t)}function k0(t){return!Jr(t)||Ti(t).position==="fixed"?null:t.offsetParent}function $N(t){var e=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,r=navigator.userAgent.indexOf("Trident")!==-1;if(r&&Jr(t)){var n=Ti(t);if(n.position==="fixed")return null}var i=kh(t);for(Og(i)&&(i=i.host);Jr(i)&&["html","body"].indexOf(Zn(i))<0;){var a=Ti(i);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||e&&a.willChange==="filter"||e&&a.filter&&a.filter!=="none")return i;i=i.parentNode}return null}function Al(t){for(var e=Tn(t),r=k0(t);r&&HN(r)&&Ti(r).position==="static";)r=k0(r);return r&&(Zn(r)==="html"||Zn(r)==="body"&&Ti(r).position==="static")?e:r||$N(t)||e}function Bg(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Gu(t,e,r){return uo(t,Af(e,r))}function UN(t,e,r){var n=Gu(t,e,r);return n>r?r:n}function lS(){return{top:0,right:0,bottom:0,left:0}}function cS(t){return Object.assign({},lS(),t)}function fS(t,e){return e.reduce(function(r,n){return r[n]=t,r},{})}var YN=function(t,e){return t=typeof t=="function"?t(Object.assign({},e.rects,{placement:e.placement})):t,cS(typeof t!="number"?t:fS(t,Pl))};function qN(t){var e,r=t.state,n=t.name,i=t.options,a=r.elements.arrow,o=r.modifiersData.popperOffsets,s=qn(r.placement),l=Bg(s),f=[wr,on].indexOf(s)>=0,v=f?"height":"width";if(!(!a||!o)){var d=YN(i.padding,r),g=Fg(a),p=l==="y"?_r:wr,y=l==="y"?an:on,w=r.rects.reference[v]+r.rects.reference[l]-o[l]-r.rects.popper[v],b=o[l]-r.rects.reference[l],x=Al(a),C=x?l==="y"?x.clientHeight||0:x.clientWidth||0:0,T=w/2-b/2,k=d[p],L=C-g[v]-d[y],M=C/2-g[v]/2+T,N=Gu(k,M,L),R=l;r.modifiersData[n]=(e={},e[R]=N,e.centerOffset=N-M,e)}}function WN(t){var e=t.state,r=t.options,n=r.element,i=n===void 0?"[data-popper-arrow]":n;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||!uS(e.elements.popper,i)||(e.elements.arrow=i))}var XN={name:"arrow",enabled:!0,phase:"main",fn:qN,effect:WN,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function xs(t){return t.split("-")[1]}var KN={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ZN(t){var e=t.x,r=t.y,n=window,i=n.devicePixelRatio||1;return{x:ws(e*i)/i||0,y:ws(r*i)/i||0}}function I0(t){var e,r=t.popper,n=t.popperRect,i=t.placement,a=t.variation,o=t.offsets,s=t.position,l=t.gpuAcceleration,f=t.adaptive,v=t.roundOffsets,d=t.isFixed,g=o.x,p=g===void 0?0:g,y=o.y,w=y===void 0?0:y,b=typeof v=="function"?v({x:p,y:w}):{x:p,y:w};p=b.x,w=b.y;var x=o.hasOwnProperty("x"),C=o.hasOwnProperty("y"),T=wr,k=_r,L=window;if(f){var M=Al(r),N="clientHeight",R="clientWidth";if(M===Tn(r)&&(M=ga(r),Ti(M).position!=="static"&&s==="absolute"&&(N="scrollHeight",R="scrollWidth")),M=M,i===_r||(i===wr||i===on)&&a===sl){k=an;var D=d&&M===L&&L.visualViewport?L.visualViewport.height:M[N];w-=D-n.height,w*=l?1:-1}if(i===wr||(i===_r||i===an)&&a===sl){T=on;var F=d&&M===L&&L.visualViewport?L.visualViewport.width:M[R];p-=F-n.width,p*=l?1:-1}}var z=Object.assign({position:s},f&&KN),G=v===!0?ZN({x:p,y:w}):{x:p,y:w};if(p=G.x,w=G.y,l){var q;return Object.assign({},z,(q={},q[k]=C?"0":"",q[T]=x?"0":"",q.transform=(L.devicePixelRatio||1)<=1?"translate("+p+"px, "+w+"px)":"translate3d("+p+"px, "+w+"px, 0)",q))}return Object.assign({},z,(e={},e[k]=C?w+"px":"",e[T]=x?p+"px":"",e.transform="",e))}function jN(t){var e=t.state,r=t.options,n=r.gpuAcceleration,i=n===void 0?!0:n,a=r.adaptive,o=a===void 0?!0:a,s=r.roundOffsets,l=s===void 0?!0:s,f={placement:qn(e.placement),variation:xs(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,I0(Object.assign({},f,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,I0(Object.assign({},f,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var hS={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:jN,data:{}},ec={passive:!0};function QN(t){var e=t.state,r=t.instance,n=t.options,i=n.scroll,a=i===void 0?!0:i,o=n.resize,s=o===void 0?!0:o,l=Tn(e.elements.popper),f=[].concat(e.scrollParents.reference,e.scrollParents.popper);return a&&f.forEach(function(v){v.addEventListener("scroll",r.update,ec)}),s&&l.addEventListener("resize",r.update,ec),function(){a&&f.forEach(function(v){v.removeEventListener("scroll",r.update,ec)}),s&&l.removeEventListener("resize",r.update,ec)}}var vS={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:QN,data:{}},JN={left:"right",right:"left",bottom:"top",top:"bottom"};function tf(t){return t.replace(/left|right|bottom|top/g,function(e){return JN[e]})}var eA={start:"end",end:"start"};function M0(t){return t.replace(/start|end/g,function(e){return eA[e]})}function zg(t){var e=Tn(t),r=e.pageXOffset,n=e.pageYOffset;return{scrollLeft:r,scrollTop:n}}function Gg(t){return bs(ga(t)).left+zg(t).scrollLeft}function tA(t){var e=Tn(t),r=ga(t),n=e.visualViewport,i=r.clientWidth,a=r.clientHeight,o=0,s=0;return n&&(i=n.width,a=n.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(o=n.offsetLeft,s=n.offsetTop)),{width:i,height:a,x:o+Gg(t),y:s}}function rA(t){var e,r=ga(t),n=zg(t),i=(e=t.ownerDocument)==null?void 0:e.body,a=uo(r.scrollWidth,r.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=uo(r.scrollHeight,r.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-n.scrollLeft+Gg(t),l=-n.scrollTop;return Ti(i||r).direction==="rtl"&&(s+=uo(r.clientWidth,i?i.clientWidth:0)-a),{width:a,height:o,x:s,y:l}}function Vg(t){var e=Ti(t),r=e.overflow,n=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(r+i+n)}function dS(t){return["html","body","#document"].indexOf(Zn(t))>=0?t.ownerDocument.body:Jr(t)&&Vg(t)?t:dS(kh(t))}function Vu(t,e){var r;e===void 0&&(e=[]);var n=dS(t),i=n===((r=t.ownerDocument)==null?void 0:r.body),a=Tn(n),o=i?[a].concat(a.visualViewport||[],Vg(n)?n:[]):n,s=e.concat(o);return i?s:s.concat(Vu(kh(o)))}function ap(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function nA(t){var e=bs(t);return e.top=e.top+t.clientTop,e.left=e.left+t.clientLeft,e.bottom=e.top+t.clientHeight,e.right=e.left+t.clientWidth,e.width=t.clientWidth,e.height=t.clientHeight,e.x=e.left,e.y=e.top,e}function L0(t,e){return e===oS?ap(tA(t)):_s(e)?nA(e):ap(rA(ga(t)))}function iA(t){var e=Vu(kh(t)),r=["absolute","fixed"].indexOf(Ti(t).position)>=0,n=r&&Jr(t)?Al(t):t;return _s(n)?e.filter(function(i){return _s(i)&&uS(i,n)&&Zn(i)!=="body"}):[]}function aA(t,e,r){var n=e==="clippingParents"?iA(t):[].concat(e),i=[].concat(n,[r]),a=i[0],o=i.reduce(function(s,l){var f=L0(t,l);return s.top=uo(f.top,s.top),s.right=Af(f.right,s.right),s.bottom=Af(f.bottom,s.bottom),s.left=uo(f.left,s.left),s},L0(t,a));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function pS(t){var e=t.reference,r=t.element,n=t.placement,i=n?qn(n):null,a=n?xs(n):null,o=e.x+e.width/2-r.width/2,s=e.y+e.height/2-r.height/2,l;switch(i){case _r:l={x:o,y:e.y-r.height};break;case an:l={x:o,y:e.y+e.height};break;case on:l={x:e.x+e.width,y:s};break;case wr:l={x:e.x-r.width,y:s};break;default:l={x:e.x,y:e.y}}var f=i?Bg(i):null;if(f!=null){var v=f==="y"?"height":"width";switch(a){case ys:l[f]=l[f]-(e[v]/2-r[v]/2);break;case sl:l[f]=l[f]+(e[v]/2-r[v]/2);break}}return l}function ul(t,e){e===void 0&&(e={});var r=e,n=r.placement,i=n===void 0?t.placement:n,a=r.boundary,o=a===void 0?IN:a,s=r.rootBoundary,l=s===void 0?oS:s,f=r.elementContext,v=f===void 0?su:f,d=r.altBoundary,g=d===void 0?!1:d,p=r.padding,y=p===void 0?0:p,w=cS(typeof y!="number"?y:fS(y,Pl)),b=v===su?MN:su,x=t.rects.popper,C=t.elements[g?b:v],T=aA(_s(C)?C:C.contextElement||ga(t.elements.popper),o,l),k=bs(t.elements.reference),L=pS({reference:k,element:x,placement:i}),M=ap(Object.assign({},x,L)),N=v===su?M:k,R={top:T.top-N.top+w.top,bottom:N.bottom-T.bottom+w.bottom,left:T.left-N.left+w.left,right:N.right-T.right+w.right},D=t.modifiersData.offset;if(v===su&&D){var F=D[i];Object.keys(R).forEach(function(z){var G=[on,an].indexOf(z)>=0?1:-1,q=[_r,an].indexOf(z)>=0?"y":"x";R[z]+=F[q]*G})}return R}function oA(t,e){e===void 0&&(e={});var r=e,n=r.placement,i=r.boundary,a=r.rootBoundary,o=r.padding,s=r.flipVariations,l=r.allowedAutoPlacements,f=l===void 0?Nl:l,v=xs(n),d=v?s?E0:E0.filter(function(y){return xs(y)===v}):Pl,g=d.filter(function(y){return f.indexOf(y)>=0});g.length===0&&(g=d);var p=g.reduce(function(y,w){return y[w]=ul(t,{placement:w,boundary:i,rootBoundary:a,padding:o})[qn(w)],y},{});return Object.keys(p).sort(function(y,w){return p[y]-p[w]})}function sA(t){if(qn(t)===Rg)return[];var e=tf(t);return[M0(t),e,M0(e)]}function uA(t){var e=t.state,r=t.options,n=t.name;if(!e.modifiersData[n]._skip){for(var i=r.mainAxis,a=i===void 0?!0:i,o=r.altAxis,s=o===void 0?!0:o,l=r.fallbackPlacements,f=r.padding,v=r.boundary,d=r.rootBoundary,g=r.altBoundary,p=r.flipVariations,y=p===void 0?!0:p,w=r.allowedAutoPlacements,b=e.options.placement,x=qn(b),C=x===b,T=l||(C||!y?[tf(b)]:sA(b)),k=[b].concat(T).reduce(function(oe,be){return oe.concat(qn(be)===Rg?oA(e,{placement:be,boundary:v,rootBoundary:d,padding:f,flipVariations:y,allowedAutoPlacements:w}):be)},[]),L=e.rects.reference,M=e.rects.popper,N=new Map,R=!0,D=k[0],F=0;F<k.length;F++){var z=k[F],G=qn(z),q=xs(z)===ys,H=[_r,an].indexOf(G)>=0,V=H?"width":"height",U=ul(e,{placement:z,boundary:v,rootBoundary:d,altBoundary:g,padding:f}),W=H?q?on:wr:q?an:_r;L[V]>M[V]&&(W=tf(W));var Q=tf(W),J=[];if(a&&J.push(U[G]<=0),s&&J.push(U[W]<=0,U[Q]<=0),J.every(function(oe){return oe})){D=z,R=!1;break}N.set(z,J)}if(R)for(var j=y?3:1,pe=function(oe){var be=k.find(function(et){var Se=N.get(et);if(Se)return Se.slice(0,oe).every(function(K){return K})});if(be)return D=be,"break"},ae=j;ae>0;ae--){var ce=pe(ae);if(ce==="break")break}e.placement!==D&&(e.modifiersData[n]._skip=!0,e.placement=D,e.reset=!0)}}var lA={name:"flip",enabled:!0,phase:"main",fn:uA,requiresIfExists:["offset"],data:{_skip:!1}};function P0(t,e,r){return r===void 0&&(r={x:0,y:0}),{top:t.top-e.height-r.y,right:t.right-e.width+r.x,bottom:t.bottom-e.height+r.y,left:t.left-e.width-r.x}}function N0(t){return[_r,on,an,wr].some(function(e){return t[e]>=0})}function cA(t){var e=t.state,r=t.name,n=e.rects.reference,i=e.rects.popper,a=e.modifiersData.preventOverflow,o=ul(e,{elementContext:"reference"}),s=ul(e,{altBoundary:!0}),l=P0(o,n),f=P0(s,i,a),v=N0(l),d=N0(f);e.modifiersData[r]={referenceClippingOffsets:l,popperEscapeOffsets:f,isReferenceHidden:v,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":v,"data-popper-escaped":d})}var fA={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:cA};function hA(t,e,r){var n=qn(t),i=[wr,_r].indexOf(n)>=0?-1:1,a=typeof r=="function"?r(Object.assign({},e,{placement:t})):r,o=a[0],s=a[1];return o=o||0,s=(s||0)*i,[wr,on].indexOf(n)>=0?{x:s,y:o}:{x:o,y:s}}function vA(t){var e=t.state,r=t.options,n=t.name,i=r.offset,a=i===void 0?[0,0]:i,o=Nl.reduce(function(v,d){return v[d]=hA(d,e.rects,a),v},{}),s=o[e.placement],l=s.x,f=s.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=f),e.modifiersData[n]=o}var dA={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:vA};function pA(t){var e=t.state,r=t.name;e.modifiersData[r]=pS({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}var gS={name:"popperOffsets",enabled:!0,phase:"read",fn:pA,data:{}};function gA(t){return t==="x"?"y":"x"}function mA(t){var e=t.state,r=t.options,n=t.name,i=r.mainAxis,a=i===void 0?!0:i,o=r.altAxis,s=o===void 0?!1:o,l=r.boundary,f=r.rootBoundary,v=r.altBoundary,d=r.padding,g=r.tether,p=g===void 0?!0:g,y=r.tetherOffset,w=y===void 0?0:y,b=ul(e,{boundary:l,rootBoundary:f,padding:d,altBoundary:v}),x=qn(e.placement),C=xs(e.placement),T=!C,k=Bg(x),L=gA(k),M=e.modifiersData.popperOffsets,N=e.rects.reference,R=e.rects.popper,D=typeof w=="function"?w(Object.assign({},e.rects,{placement:e.placement})):w,F=typeof D=="number"?{mainAxis:D,altAxis:D}:Object.assign({mainAxis:0,altAxis:0},D),z=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,G={x:0,y:0};if(M){if(a){var q,H=k==="y"?_r:wr,V=k==="y"?an:on,U=k==="y"?"height":"width",W=M[k],Q=W+b[H],J=W-b[V],j=p?-R[U]/2:0,pe=C===ys?N[U]:R[U],ae=C===ys?-R[U]:-N[U],ce=e.elements.arrow,oe=p&&ce?Fg(ce):{width:0,height:0},be=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:lS(),et=be[H],Se=be[V],K=Gu(0,N[U],oe[U]),me=T?N[U]/2-j-K-et-F.mainAxis:pe-K-et-F.mainAxis,_e=T?-N[U]/2+j+K+Se+F.mainAxis:ae+K+Se+F.mainAxis,ne=e.elements.arrow&&Al(e.elements.arrow),B=ne?k==="y"?ne.clientTop||0:ne.clientLeft||0:0,nt=(q=z==null?void 0:z[k])!=null?q:0,ft=W+me-nt-B,Yt=W+_e-nt,kn=Gu(p?Af(Q,ft):Q,W,p?uo(J,Yt):J);M[k]=kn,G[k]=kn-W}if(s){var Ni,Xs=k==="x"?_r:wr,ue=k==="x"?an:on,Or=M[L],In=L==="y"?"height":"width",Fr=Or+b[Xs],_a=Or-b[ue],te=[_r,wr].indexOf(x)!==-1,Xe=(Ni=z==null?void 0:z[L])!=null?Ni:0,sr=te?Fr:Or-N[In]-R[In]-Xe+F.altAxis,ii=te?Or+N[In]+R[In]-Xe-F.altAxis:_a,Te=p&&te?UN(sr,Or,ii):Gu(p?sr:Fr,Or,p?ii:_a);M[L]=Te,G[L]=Te-Or}e.modifiersData[n]=G}}var yA={name:"preventOverflow",enabled:!0,phase:"main",fn:mA,requiresIfExists:["offset"]};function _A(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function wA(t){return t===Tn(t)||!Jr(t)?zg(t):_A(t)}function bA(t){var e=t.getBoundingClientRect(),r=ws(e.width)/t.offsetWidth||1,n=ws(e.height)/t.offsetHeight||1;return r!==1||n!==1}function xA(t,e,r){r===void 0&&(r=!1);var n=Jr(e),i=Jr(e)&&bA(e),a=ga(e),o=bs(t,i),s={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(n||!n&&!r)&&((Zn(e)!=="body"||Vg(a))&&(s=wA(e)),Jr(e)?(l=bs(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):a&&(l.x=Gg(a))),{x:o.left+s.scrollLeft-l.x,y:o.top+s.scrollTop-l.y,width:o.width,height:o.height}}function SA(t){var e=new Map,r=new Set,n=[];t.forEach(function(a){e.set(a.name,a)});function i(a){r.add(a.name);var o=[].concat(a.requires||[],a.requiresIfExists||[]);o.forEach(function(s){if(!r.has(s)){var l=e.get(s);l&&i(l)}}),n.push(a)}return t.forEach(function(a){r.has(a.name)||i(a)}),n}function CA(t){var e=SA(t);return zN.reduce(function(r,n){return r.concat(e.filter(function(i){return i.phase===n}))},[])}function TA(t){var e;return function(){return e||(e=new Promise(function(r){Promise.resolve().then(function(){e=void 0,r(t())})})),e}}function EA(t){var e=t.reduce(function(r,n){var i=r[n.name];return r[n.name]=i?Object.assign({},i,n,{options:Object.assign({},i.options,n.options),data:Object.assign({},i.data,n.data)}):n,r},{});return Object.keys(e).map(function(r){return e[r]})}var A0={placement:"bottom",modifiers:[],strategy:"absolute"};function D0(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return!e.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function Hg(t){t===void 0&&(t={});var e=t,r=e.defaultModifiers,n=r===void 0?[]:r,i=e.defaultOptions,a=i===void 0?A0:i;return function(o,s,l){l===void 0&&(l=a);var f={placement:"bottom",orderedModifiers:[],options:Object.assign({},A0,a),modifiersData:{},elements:{reference:o,popper:s},attributes:{},styles:{}},v=[],d=!1,g={state:f,setOptions:function(w){var b=typeof w=="function"?w(f.options):w;y(),f.options=Object.assign({},a,f.options,b),f.scrollParents={reference:_s(o)?Vu(o):o.contextElement?Vu(o.contextElement):[],popper:Vu(s)};var x=CA(EA([].concat(n,f.options.modifiers)));return f.orderedModifiers=x.filter(function(C){return C.enabled}),p(),g.update()},forceUpdate:function(){if(!d){var w=f.elements,b=w.reference,x=w.popper;if(D0(b,x)){f.rects={reference:xA(b,Al(x),f.options.strategy==="fixed"),popper:Fg(x)},f.reset=!1,f.placement=f.options.placement,f.orderedModifiers.forEach(function(R){return f.modifiersData[R.name]=Object.assign({},R.data)});for(var C=0;C<f.orderedModifiers.length;C++){if(f.reset===!0){f.reset=!1,C=-1;continue}var T=f.orderedModifiers[C],k=T.fn,L=T.options,M=L===void 0?{}:L,N=T.name;typeof k=="function"&&(f=k({state:f,options:M,name:N,instance:g})||f)}}}},update:TA(function(){return new Promise(function(w){g.forceUpdate(),w(f)})}),destroy:function(){y(),d=!0}};if(!D0(o,s))return g;g.setOptions(l).then(function(w){!d&&l.onFirstUpdate&&l.onFirstUpdate(w)});function p(){f.orderedModifiers.forEach(function(w){var b=w.name,x=w.options,C=x===void 0?{}:x,T=w.effect;if(typeof T=="function"){var k=T({state:f,name:b,instance:g,options:C}),L=function(){};v.push(k||L)}})}function y(){v.forEach(function(w){return w()}),v=[]}return g}}Hg();var kA=[vS,gS,hS,sS];Hg({defaultModifiers:kA});var IA=[vS,gS,hS,sS,dA,lA,yA,XN,fA],MA=Hg({defaultModifiers:IA});const LA=["fixed","absolute"],PA=ot({boundariesPadding:{type:Number,default:0},fallbackPlacements:{type:Fe(Array),default:void 0},gpuAcceleration:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:String,values:Nl,default:"bottom"},popperOptions:{type:Fe(Object),default:()=>({})},strategy:{type:String,values:LA,default:"absolute"}}),mS=ot({...PA,id:String,style:{type:Fe([String,Array,Object])},className:{type:Fe([String,Array,Object])},effect:{type:Fe(String),default:"dark"},visible:Boolean,enterable:{type:Boolean,default:!0},pure:Boolean,focusOnShow:{type:Boolean,default:!1},trapping:{type:Boolean,default:!1},popperClass:{type:Fe([String,Array,Object])},popperStyle:{type:Fe([String,Array,Object])},referenceEl:{type:Fe(Object)},triggerTargetEl:{type:Fe(Object)},stopPopperMouseEvent:{type:Boolean,default:!0},virtualTriggering:Boolean,zIndex:Number,...So(["ariaLabel"])}),NA={mouseenter:t=>t instanceof MouseEvent,mouseleave:t=>t instanceof MouseEvent,focus:()=>!0,blur:()=>!0,close:()=>!0},AA=(t,e)=>{const r=ge(!1),n=ge();return{focusStartRef:n,trapped:r,onFocusAfterReleased:f=>{var v;((v=f.detail)==null?void 0:v.focusReason)!=="pointer"&&(n.value="first",e("blur"))},onFocusAfterTrapped:()=>{e("focus")},onFocusInTrap:f=>{t.visible&&!r.value&&(f.target&&(n.value=f.target),r.value=!0)},onFocusoutPrevented:f=>{t.trapping||(f.detail.focusReason==="pointer"&&f.preventDefault(),r.value=!1)},onReleaseRequested:()=>{r.value=!1,e("close")}}},DA=(t,e=[])=>{const{placement:r,strategy:n,popperOptions:i}=t,a={placement:r,strategy:n,...i,modifiers:[...OA(t),...e]};return FA(a,i==null?void 0:i.modifiers),a},RA=t=>{if(Gt)return ji(t)};function OA(t){const{offset:e,gpuAcceleration:r,fallbackPlacements:n}=t;return[{name:"offset",options:{offset:[0,e??12]}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5,fallbackPlacements:n}},{name:"computeStyles",options:{gpuAcceleration:r}}]}function FA(t,e){e&&(t.modifiers=[...t.modifiers,...e??[]])}const BA=(t,e,r={})=>{const n={name:"updateState",enabled:!0,phase:"write",fn:({state:l})=>{const f=zA(l);Object.assign(o.value,f)},requires:["computeStyles"]},i=Z(()=>{const{onFirstUpdate:l,placement:f,strategy:v,modifiers:d}=P(r);return{onFirstUpdate:l,placement:f||"bottom",strategy:v||"absolute",modifiers:[...d||[],n,{name:"applyStyles",enabled:!1}]}}),a=_i(),o=ge({styles:{popper:{position:P(i).strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),s=()=>{a.value&&(a.value.destroy(),a.value=void 0)};return Ae(i,l=>{const f=P(a);f&&f.setOptions(l)},{deep:!0}),Ae([t,e],([l,f])=>{s(),!(!l||!f)&&(a.value=MA(l,f,P(i)))}),Qt(()=>{s()}),{state:Z(()=>{var l;return{...((l=P(a))==null?void 0:l.state)||{}}}),styles:Z(()=>P(o).styles),attributes:Z(()=>P(o).attributes),update:()=>{var l;return(l=P(a))==null?void 0:l.update()},forceUpdate:()=>{var l;return(l=P(a))==null?void 0:l.forceUpdate()},instanceRef:Z(()=>P(a))}};function zA(t){const e=Object.keys(t.elements),r=If(e.map(i=>[i,t.styles[i]||{}])),n=If(e.map(i=>[i,t.attributes[i]]));return{styles:r,attributes:n}}const GA=0,VA=t=>{const{popperInstanceRef:e,contentRef:r,triggerRef:n,role:i}=vt(Ng,void 0),a=ge(),o=ge(),s=Z(()=>({name:"eventListeners",enabled:!!t.visible})),l=Z(()=>{var x;const C=P(a),T=(x=P(o))!=null?x:GA;return{name:"arrow",enabled:!yL(C),options:{element:C,padding:T}}}),f=Z(()=>({onFirstUpdate:()=>{y()},...DA(t,[P(l),P(s)])})),v=Z(()=>RA(t.referenceEl)||P(n)),{attributes:d,state:g,styles:p,update:y,forceUpdate:w,instanceRef:b}=BA(v,r,f);return Ae(b,x=>e.value=x),Et(()=>{Ae(()=>{var x;return(x=P(v))==null?void 0:x.getBoundingClientRect()},()=>{y()})}),{attributes:d,arrowRef:a,contentRef:r,instanceRef:b,state:g,styles:p,role:i,forceUpdate:w,update:y}},HA=(t,{attributes:e,styles:r,role:n})=>{const{nextZIndex:i}=Bx(),a=at("popper"),o=Z(()=>P(e).popper),s=ge(gt(t.zIndex)?t.zIndex:i()),l=Z(()=>[a.b(),a.is("pure",t.pure),a.is(t.effect),t.popperClass]),f=Z(()=>[{zIndex:P(s)},P(r).popper,t.popperStyle||{}]),v=Z(()=>n.value==="dialog"?"false":void 0),d=Z(()=>P(r).arrow||{});return{ariaModal:v,arrowStyle:d,contentAttrs:o,contentClass:l,contentStyle:f,contentZIndex:s,updateZIndex:()=>{s.value=gt(t.zIndex)?t.zIndex:i()}}},$A=he({name:"ElPopperContent"}),UA=he({...$A,props:mS,emits:NA,setup(t,{expose:e,emit:r}){const n=t,{focusStartRef:i,trapped:a,onFocusAfterReleased:o,onFocusAfterTrapped:s,onFocusInTrap:l,onFocusoutPrevented:f,onReleaseRequested:v}=AA(n,r),{attributes:d,arrowRef:g,contentRef:p,styles:y,instanceRef:w,role:b,update:x}=VA(n),{ariaModal:C,arrowStyle:T,contentAttrs:k,contentClass:L,contentStyle:M,updateZIndex:N}=HA(n,{styles:y,attributes:d,role:b}),R=vt(Nf,void 0),D=ge();nn(Jx,{arrowStyle:T,arrowRef:g,arrowOffset:D}),R&&nn(Nf,{...R,addInputId:il,removeInputId:il});let F;const z=(q=!0)=>{x(),q&&N()},G=()=>{z(!1),n.visible&&n.focusOnShow?a.value=!0:n.visible===!1&&(a.value=!1)};return Et(()=>{Ae(()=>n.triggerTargetEl,(q,H)=>{F==null||F(),F=void 0;const V=P(q||p.value),U=P(H||p.value);Yn(V)&&(F=Ae([b,()=>n.ariaLabel,C,()=>n.id],W=>{["role","aria-label","aria-modal","id"].forEach((Q,J)=>{Dr(W[J])?V.removeAttribute(Q):V.setAttribute(Q,W[J])})},{immediate:!0})),U!==V&&Yn(U)&&["role","aria-label","aria-modal","id"].forEach(W=>{U.removeAttribute(W)})},{immediate:!0}),Ae(()=>n.visible,G,{immediate:!0})}),Qt(()=>{F==null||F(),F=void 0}),e({popperContentRef:p,popperInstanceRef:w,updatePopper:z,contentStyle:M}),(q,H)=>(ie(),fe("div",Si({ref_key:"contentRef",ref:p},P(k),{style:P(M),class:P(L),tabindex:"-1",onMouseenter:V=>q.$emit("mouseenter",V),onMouseleave:V=>q.$emit("mouseleave",V)}),[Ee(P(kN),{trapped:P(a),"trap-on-focus-in":!0,"focus-trap-el":P(p),"focus-start-el":P(i),onFocusAfterTrapped:P(s),onFocusAfterReleased:P(o),onFocusin:P(l),onFocusoutPrevented:P(f),onReleaseRequested:P(v)},{default:Ne(()=>[Ze(q.$slots,"default")]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusin","onFocusoutPrevented","onReleaseRequested"])],16,["onMouseenter","onMouseleave"]))}});var YA=st(UA,[["__file","content.vue"]]);const qA=sn(nN),$g=Symbol("elTooltip");function R0(){let t;const e=(n,i)=>{r(),t=window.setTimeout(n,i)},r=()=>window.clearTimeout(t);return xh(()=>r()),{registerTimeout:e,cancelTimeout:r}}const WA=ot({showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0}}),XA=({showAfter:t,hideAfter:e,autoClose:r,open:n,close:i})=>{const{registerTimeout:a}=R0(),{registerTimeout:o,cancelTimeout:s}=R0();return{onOpen:v=>{a(()=>{n(v);const d=P(r);gt(d)&&d>0&&o(()=>{i(v)},d)},P(t))},onClose:v=>{s(),a(()=>{i(v)},P(e))}}},Ug=ot({...WA,...mS,appendTo:{type:Fe([String,Object])},content:{type:String,default:""},rawContent:Boolean,persistent:Boolean,visible:{type:Fe(Boolean),default:null},transition:String,teleported:{type:Boolean,default:!0},disabled:Boolean,...So(["ariaLabel"])}),yS=ot({...rS,disabled:Boolean,trigger:{type:Fe([String,Array]),default:"hover"},triggerKeys:{type:Fe(Array),default:()=>[pt.enter,pt.numpadEnter,pt.space]}}),KA=Sh({type:Fe(Boolean),default:null}),ZA=Sh({type:Fe(Function)}),jA=t=>{const e=`update:${t}`,r=`onUpdate:${t}`,n=[e],i={[t]:KA,[r]:ZA};return{useModelToggle:({indicator:o,toggleReason:s,shouldHideWhenRouteChanges:l,shouldProceed:f,onShow:v,onHide:d})=>{const g=or(),{emit:p}=g,y=g.props,w=Z(()=>Gn(y[r])),b=Z(()=>y[t]===null),x=N=>{o.value!==!0&&(o.value=!0,s&&(s.value=N),Gn(v)&&v(N))},C=N=>{o.value!==!1&&(o.value=!1,s&&(s.value=N),Gn(d)&&d(N))},T=N=>{if(y.disabled===!0||Gn(f)&&!f())return;const R=w.value&&Gt;R&&p(e,!0),(b.value||!R)&&x(N)},k=N=>{if(y.disabled===!0||!Gt)return;const R=w.value&&Gt;R&&p(e,!1),(b.value||!R)&&C(N)},L=N=>{Mf(N)&&(y.disabled&&N?w.value&&p(e,!1):o.value!==N&&(N?x():C()))},M=()=>{o.value?k():T()};return Ae(()=>y[t],L),l&&g.appContext.config.globalProperties.$route!==void 0&&Ae(()=>({...g.proxy.$route}),()=>{l.value&&o.value&&k()}),Et(()=>{L(y[t])}),{hide:k,show:T,toggle:M,hasUpdateHandler:w}},useModelToggleProps:i,useModelToggleEmits:n}},{useModelToggleProps:QA,useModelToggleEmits:JA,useModelToggle:eD}=jA("visible"),tD=ot({...eS,...QA,...Ug,...yS,...tS,showArrow:{type:Boolean,default:!0}}),rD=[...JA,"before-show","before-hide","show","hide","open","close"],nD=(t,e)=>ta(t)?t.includes(e):t===e,Ro=(t,e,r)=>n=>{nD(P(t),e)&&r(n)},vi=(t,e,{checkForDefaultPrevented:r=!0}={})=>i=>{const a=t==null?void 0:t(i);if(r===!1||!a)return e==null?void 0:e(i)},iD=he({name:"ElTooltipTrigger"}),aD=he({...iD,props:yS,setup(t,{expose:e}){const r=t,n=at("tooltip"),{controlled:i,id:a,open:o,onOpen:s,onClose:l,onToggle:f}=vt($g,void 0),v=ge(null),d=()=>{if(P(i)||r.disabled)return!0},g=pi(r,"trigger"),p=vi(d,Ro(g,"hover",s)),y=vi(d,Ro(g,"hover",l)),w=vi(d,Ro(g,"click",k=>{k.button===0&&f(k)})),b=vi(d,Ro(g,"focus",s)),x=vi(d,Ro(g,"focus",l)),C=vi(d,Ro(g,"contextmenu",k=>{k.preventDefault(),f(k)})),T=vi(d,k=>{const{code:L}=k;r.triggerKeys.includes(L)&&(k.preventDefault(),f(k))});return e({triggerRef:v}),(k,L)=>(ie(),Ge(P(vN),{id:P(a),"virtual-ref":k.virtualRef,open:P(o),"virtual-triggering":k.virtualTriggering,class:de(P(n).e("trigger")),onBlur:P(x),onClick:P(w),onContextmenu:P(C),onFocus:P(b),onMouseenter:P(p),onMouseleave:P(y),onKeydown:P(T)},{default:Ne(()=>[Ze(k.$slots,"default")]),_:3},8,["id","virtual-ref","open","virtual-triggering","class","onBlur","onClick","onContextmenu","onFocus","onMouseenter","onMouseleave","onKeydown"]))}});var oD=st(aD,[["__file","trigger.vue"]]);const sD=ot({to:{type:Fe([String,Object]),required:!0},disabled:Boolean}),uD=he({__name:"teleport",props:sD,setup(t){return(e,r)=>e.disabled?Ze(e.$slots,"default",{key:0}):(ie(),Ge(r2,{key:1,to:e.to},[Ze(e.$slots,"default")],8,["to"]))}});var lD=st(uD,[["__file","teleport.vue"]]);const cD=sn(lD),_S=()=>{const t=wg(),e=Lg(),r=Z(()=>`${t.value}-popper-container-${e.prefix}`),n=Z(()=>`#${r.value}`);return{id:r,selector:n}},fD=t=>{const e=document.createElement("div");return e.id=t,document.body.appendChild(e),e},hD=()=>{const{id:t,selector:e}=_S();return n2(()=>{Gt&&(document.body.querySelector(e.value)||fD(t.value))}),{id:t,selector:e}},vD=he({name:"ElTooltipContent",inheritAttrs:!1}),dD=he({...vD,props:Ug,setup(t,{expose:e}){const r=t,{selector:n}=_S(),i=at("tooltip"),a=ge();let o;const{controlled:s,id:l,open:f,trigger:v,onClose:d,onOpen:g,onShow:p,onHide:y,onBeforeShow:w,onBeforeHide:b}=vt($g,void 0),x=Z(()=>r.transition||`${i.namespace.value}-fade-in-linear`),C=Z(()=>r.persistent);Qt(()=>{o==null||o()});const T=Z(()=>P(C)?!0:P(f)),k=Z(()=>r.disabled?!1:P(f)),L=Z(()=>r.appendTo||n.value),M=Z(()=>{var W;return(W=r.style)!=null?W:{}}),N=ge(!0),R=()=>{y(),U()&&hi(document.body),N.value=!0},D=()=>{if(P(s))return!0},F=vi(D,()=>{r.enterable&&P(v)==="hover"&&g()}),z=vi(D,()=>{P(v)==="hover"&&d()}),G=()=>{var W,Q;(Q=(W=a.value)==null?void 0:W.updatePopper)==null||Q.call(W),w==null||w()},q=()=>{b==null||b()},H=()=>{p(),o=FL(Z(()=>{var W;return(W=a.value)==null?void 0:W.popperContentRef}),()=>{if(P(s))return;P(v)!=="hover"&&d()})},V=()=>{r.virtualTriggering||d()},U=W=>{var Q;const J=(Q=a.value)==null?void 0:Q.popperContentRef,j=(W==null?void 0:W.relatedTarget)||document.activeElement;return J==null?void 0:J.contains(j)};return Ae(()=>P(f),W=>{W?N.value=!1:o==null||o()},{flush:"post"}),Ae(()=>r.content,()=>{var W,Q;(Q=(W=a.value)==null?void 0:W.updatePopper)==null||Q.call(W)}),e({contentRef:a,isFocusInsideContent:U}),(W,Q)=>(ie(),Ge(P(cD),{disabled:!W.teleported,to:P(L)},{default:Ne(()=>[Ee(gh,{name:P(x),onAfterLeave:R,onBeforeEnter:G,onAfterEnter:H,onBeforeLeave:q},{default:Ne(()=>[P(T)?Mt((ie(),Ge(P(YA),Si({key:0,id:P(l),ref_key:"contentRef",ref:a},W.$attrs,{"aria-label":W.ariaLabel,"aria-hidden":N.value,"boundaries-padding":W.boundariesPadding,"fallback-placements":W.fallbackPlacements,"gpu-acceleration":W.gpuAcceleration,offset:W.offset,placement:W.placement,"popper-options":W.popperOptions,strategy:W.strategy,effect:W.effect,enterable:W.enterable,pure:W.pure,"popper-class":W.popperClass,"popper-style":[W.popperStyle,P(M)],"reference-el":W.referenceEl,"trigger-target-el":W.triggerTargetEl,visible:P(k),"z-index":W.zIndex,onMouseenter:P(F),onMouseleave:P(z),onBlur:V,onClose:P(d)}),{default:Ne(()=>[Ze(W.$slots,"default")]),_:3},16,["id","aria-label","aria-hidden","boundaries-padding","fallback-placements","gpu-acceleration","offset","placement","popper-options","strategy","effect","enterable","pure","popper-class","popper-style","reference-el","trigger-target-el","visible","z-index","onMouseenter","onMouseleave","onClose"])),[[Ci,P(k)]]):Ve("v-if",!0)]),_:3},8,["name"])]),_:3},8,["disabled","to"]))}});var pD=st(dD,[["__file","content.vue"]]);const gD=he({name:"ElTooltip"}),mD=he({...gD,props:tD,emits:rD,setup(t,{expose:e,emit:r}){const n=t;hD();const i=Pg(),a=ge(),o=ge(),s=()=>{var x;const C=P(a);C&&((x=C.popperInstanceRef)==null||x.update())},l=ge(!1),f=ge(),{show:v,hide:d,hasUpdateHandler:g}=eD({indicator:l,toggleReason:f}),{onOpen:p,onClose:y}=XA({showAfter:pi(n,"showAfter"),hideAfter:pi(n,"hideAfter"),autoClose:pi(n,"autoClose"),open:v,close:d}),w=Z(()=>Mf(n.visible)&&!g.value);nn($g,{controlled:w,id:i,open:yg(l),trigger:pi(n,"trigger"),onOpen:x=>{p(x)},onClose:x=>{y(x)},onToggle:x=>{P(l)?y(x):p(x)},onShow:()=>{r("show",f.value)},onHide:()=>{r("hide",f.value)},onBeforeShow:()=>{r("before-show",f.value)},onBeforeHide:()=>{r("before-hide",f.value)},updatePopper:s}),Ae(()=>n.disabled,x=>{x&&l.value&&(l.value=!1)});const b=x=>{var C;return(C=o.value)==null?void 0:C.isFocusInsideContent(x)};return i2(()=>l.value&&d()),e({popperRef:a,contentRef:o,isFocusInsideContent:b,updatePopper:s,onOpen:p,onClose:y,hide:d}),(x,C)=>(ie(),Ge(P(qA),{ref_key:"popperRef",ref:a,role:x.role},{default:Ne(()=>[Ee(oD,{disabled:x.disabled,trigger:x.trigger,"trigger-keys":x.triggerKeys,"virtual-ref":x.virtualRef,"virtual-triggering":x.virtualTriggering},{default:Ne(()=>[x.$slots.default?Ze(x.$slots,"default",{key:0}):Ve("v-if",!0)]),_:3},8,["disabled","trigger","trigger-keys","virtual-ref","virtual-triggering"]),Ee(pD,{ref_key:"contentRef",ref:o,"aria-label":x.ariaLabel,"boundaries-padding":x.boundariesPadding,content:x.content,disabled:x.disabled,effect:x.effect,enterable:x.enterable,"fallback-placements":x.fallbackPlacements,"hide-after":x.hideAfter,"gpu-acceleration":x.gpuAcceleration,offset:x.offset,persistent:x.persistent,"popper-class":x.popperClass,"popper-style":x.popperStyle,placement:x.placement,"popper-options":x.popperOptions,pure:x.pure,"raw-content":x.rawContent,"reference-el":x.referenceEl,"trigger-target-el":x.triggerTargetEl,"show-after":x.showAfter,strategy:x.strategy,teleported:x.teleported,transition:x.transition,"virtual-triggering":x.virtualTriggering,"z-index":x.zIndex,"append-to":x.appendTo},{default:Ne(()=>[Ze(x.$slots,"content",{},()=>[x.rawContent?(ie(),fe("span",{key:0,innerHTML:x.content},null,8,["innerHTML"])):(ie(),fe("span",{key:1},At(x.content),1))]),x.showArrow?(ie(),Ge(P(oN),{key:0,"arrow-offset":x.arrowOffset},null,8,["arrow-offset"])):Ve("v-if",!0)]),_:3},8,["aria-label","boundaries-padding","content","disabled","effect","enterable","fallback-placements","hide-after","gpu-acceleration","offset","persistent","popper-class","popper-style","placement","popper-options","pure","raw-content","reference-el","trigger-target-el","show-after","strategy","teleported","transition","virtual-triggering","z-index","append-to"])]),_:3},8,["role"]))}});var yD=st(mD,[["__file","tooltip.vue"]]);const wS=sn(yD),bS=Symbol("buttonGroupContextKey"),xS=({from:t,replacement:e,scope:r,version:n,ref:i,type:a="API"},o)=>{Ae(()=>P(o),s=>{},{immediate:!0})},_D=(t,e)=>{xS({from:"type.text",replacement:"link",version:"3.0.0",scope:"props",ref:"https://element-plus.org/en-US/component/button.html#button-attributes"},Z(()=>t.type==="text"));const r=vt(bS,void 0),n=Ig("button"),{form:i}=Ds(),a=Rs(Z(()=>r==null?void 0:r.size)),o=Os(),s=ge(),l=xx(),f=Z(()=>t.type||(r==null?void 0:r.type)||""),v=Z(()=>{var y,w,b;return(b=(w=t.autoInsertSpace)!=null?w:(y=n.value)==null?void 0:y.autoInsertSpace)!=null?b:!1}),d=Z(()=>t.tag==="button"?{ariaDisabled:o.value||t.loading,disabled:o.value||t.loading,autofocus:t.autofocus,type:t.nativeType}:{}),g=Z(()=>{var y;const w=(y=l.default)==null?void 0:y.call(l);if(v.value&&(w==null?void 0:w.length)===1){const b=w[0];if((b==null?void 0:b.type)===Sx){const x=b.children;return new RegExp("^\\p{Unified_Ideograph}{2}$","u").test(x.trim())}}return!1});return{_disabled:o,_size:a,_type:f,_ref:s,_props:d,shouldAddSpace:g,handleClick:y=>{if(o.value||t.loading){y.stopPropagation();return}t.nativeType==="reset"&&(i==null||i.resetFields()),e("click",y)}}},wD=["default","primary","success","warning","info","danger","text",""],bD=["button","submit","reset"],op=ot({size:ua,disabled:Boolean,type:{type:String,values:wD,default:""},icon:{type:ms},nativeType:{type:String,values:bD,default:"button"},loading:Boolean,loadingIcon:{type:ms,default:()=>Wx},plain:Boolean,text:Boolean,link:Boolean,bg:Boolean,autofocus:Boolean,round:Boolean,circle:Boolean,color:String,dark:Boolean,autoInsertSpace:{type:Boolean,default:void 0},tag:{type:Fe([String,Object]),default:"button"}}),xD={click:t=>t instanceof MouseEvent};function Ut(t,e){SD(t)&&(t="100%");var r=CD(t);return t=e===360?t:Math.min(e,Math.max(0,parseFloat(t))),r&&(t=parseInt(String(t*e),10)/100),Math.abs(t-e)<1e-6?1:(e===360?t=(t<0?t%e+e:t%e)/parseFloat(String(e)):t=t%e/parseFloat(String(e)),t)}function tc(t){return Math.min(1,Math.max(0,t))}function SD(t){return typeof t=="string"&&t.indexOf(".")!==-1&&parseFloat(t)===1}function CD(t){return typeof t=="string"&&t.indexOf("%")!==-1}function SS(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function rc(t){return t<=1?"".concat(Number(t)*100,"%"):t}function to(t){return t.length===1?"0"+t:String(t)}function TD(t,e,r){return{r:Ut(t,255)*255,g:Ut(e,255)*255,b:Ut(r,255)*255}}function O0(t,e,r){t=Ut(t,255),e=Ut(e,255),r=Ut(r,255);var n=Math.max(t,e,r),i=Math.min(t,e,r),a=0,o=0,s=(n+i)/2;if(n===i)o=0,a=0;else{var l=n-i;switch(o=s>.5?l/(2-n-i):l/(n+i),n){case t:a=(e-r)/l+(e<r?6:0);break;case e:a=(r-t)/l+2;break;case r:a=(t-e)/l+4;break}a/=6}return{h:a,s:o,l:s}}function kv(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*(6*r):r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function ED(t,e,r){var n,i,a;if(t=Ut(t,360),e=Ut(e,100),r=Ut(r,100),e===0)i=r,a=r,n=r;else{var o=r<.5?r*(1+e):r+e-r*e,s=2*r-o;n=kv(s,o,t+1/3),i=kv(s,o,t),a=kv(s,o,t-1/3)}return{r:n*255,g:i*255,b:a*255}}function F0(t,e,r){t=Ut(t,255),e=Ut(e,255),r=Ut(r,255);var n=Math.max(t,e,r),i=Math.min(t,e,r),a=0,o=n,s=n-i,l=n===0?0:s/n;if(n===i)a=0;else{switch(n){case t:a=(e-r)/s+(e<r?6:0);break;case e:a=(r-t)/s+2;break;case r:a=(t-e)/s+4;break}a/=6}return{h:a,s:l,v:o}}function kD(t,e,r){t=Ut(t,360)*6,e=Ut(e,100),r=Ut(r,100);var n=Math.floor(t),i=t-n,a=r*(1-e),o=r*(1-i*e),s=r*(1-(1-i)*e),l=n%6,f=[r,o,a,a,s,r][l],v=[s,r,r,o,a,a][l],d=[a,a,s,r,r,o][l];return{r:f*255,g:v*255,b:d*255}}function B0(t,e,r,n){var i=[to(Math.round(t).toString(16)),to(Math.round(e).toString(16)),to(Math.round(r).toString(16))];return n&&i[0].startsWith(i[0].charAt(1))&&i[1].startsWith(i[1].charAt(1))&&i[2].startsWith(i[2].charAt(1))?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function ID(t,e,r,n,i){var a=[to(Math.round(t).toString(16)),to(Math.round(e).toString(16)),to(Math.round(r).toString(16)),to(MD(n))];return i&&a[0].startsWith(a[0].charAt(1))&&a[1].startsWith(a[1].charAt(1))&&a[2].startsWith(a[2].charAt(1))&&a[3].startsWith(a[3].charAt(1))?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0):a.join("")}function MD(t){return Math.round(parseFloat(t)*255).toString(16)}function z0(t){return Nr(t)/255}function Nr(t){return parseInt(t,16)}function LD(t){return{r:t>>16,g:(t&65280)>>8,b:t&255}}var sp={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function PD(t){var e={r:0,g:0,b:0},r=1,n=null,i=null,a=null,o=!1,s=!1;return typeof t=="string"&&(t=DD(t)),typeof t=="object"&&(li(t.r)&&li(t.g)&&li(t.b)?(e=TD(t.r,t.g,t.b),o=!0,s=String(t.r).substr(-1)==="%"?"prgb":"rgb"):li(t.h)&&li(t.s)&&li(t.v)?(n=rc(t.s),i=rc(t.v),e=kD(t.h,n,i),o=!0,s="hsv"):li(t.h)&&li(t.s)&&li(t.l)&&(n=rc(t.s),a=rc(t.l),e=ED(t.h,n,a),o=!0,s="hsl"),Object.prototype.hasOwnProperty.call(t,"a")&&(r=t.a)),r=SS(r),{ok:o,format:t.format||s,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:r}}var ND="[-\\+]?\\d+%?",AD="[-\\+]?\\d*\\.\\d+%?",Qi="(?:".concat(AD,")|(?:").concat(ND,")"),Iv="[\\s|\\(]+(".concat(Qi,")[,|\\s]+(").concat(Qi,")[,|\\s]+(").concat(Qi,")\\s*\\)?"),Mv="[\\s|\\(]+(".concat(Qi,")[,|\\s]+(").concat(Qi,")[,|\\s]+(").concat(Qi,")[,|\\s]+(").concat(Qi,")\\s*\\)?"),gn={CSS_UNIT:new RegExp(Qi),rgb:new RegExp("rgb"+Iv),rgba:new RegExp("rgba"+Mv),hsl:new RegExp("hsl"+Iv),hsla:new RegExp("hsla"+Mv),hsv:new RegExp("hsv"+Iv),hsva:new RegExp("hsva"+Mv),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function DD(t){if(t=t.trim().toLowerCase(),t.length===0)return!1;var e=!1;if(sp[t])t=sp[t],e=!0;else if(t==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var r=gn.rgb.exec(t);return r?{r:r[1],g:r[2],b:r[3]}:(r=gn.rgba.exec(t),r?{r:r[1],g:r[2],b:r[3],a:r[4]}:(r=gn.hsl.exec(t),r?{h:r[1],s:r[2],l:r[3]}:(r=gn.hsla.exec(t),r?{h:r[1],s:r[2],l:r[3],a:r[4]}:(r=gn.hsv.exec(t),r?{h:r[1],s:r[2],v:r[3]}:(r=gn.hsva.exec(t),r?{h:r[1],s:r[2],v:r[3],a:r[4]}:(r=gn.hex8.exec(t),r?{r:Nr(r[1]),g:Nr(r[2]),b:Nr(r[3]),a:z0(r[4]),format:e?"name":"hex8"}:(r=gn.hex6.exec(t),r?{r:Nr(r[1]),g:Nr(r[2]),b:Nr(r[3]),format:e?"name":"hex"}:(r=gn.hex4.exec(t),r?{r:Nr(r[1]+r[1]),g:Nr(r[2]+r[2]),b:Nr(r[3]+r[3]),a:z0(r[4]+r[4]),format:e?"name":"hex8"}:(r=gn.hex3.exec(t),r?{r:Nr(r[1]+r[1]),g:Nr(r[2]+r[2]),b:Nr(r[3]+r[3]),format:e?"name":"hex"}:!1)))))))))}function li(t){return!!gn.CSS_UNIT.exec(String(t))}var RD=function(){function t(e,r){e===void 0&&(e=""),r===void 0&&(r={});var n;if(e instanceof t)return e;typeof e=="number"&&(e=LD(e)),this.originalInput=e;var i=PD(e);this.originalInput=e,this.r=i.r,this.g=i.g,this.b=i.b,this.a=i.a,this.roundA=Math.round(100*this.a)/100,this.format=(n=r.format)!==null&&n!==void 0?n:i.format,this.gradientType=r.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=i.ok}return t.prototype.isDark=function(){return this.getBrightness()<128},t.prototype.isLight=function(){return!this.isDark()},t.prototype.getBrightness=function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},t.prototype.getLuminance=function(){var e=this.toRgb(),r,n,i,a=e.r/255,o=e.g/255,s=e.b/255;return a<=.03928?r=a/12.92:r=Math.pow((a+.055)/1.055,2.4),o<=.03928?n=o/12.92:n=Math.pow((o+.055)/1.055,2.4),s<=.03928?i=s/12.92:i=Math.pow((s+.055)/1.055,2.4),.2126*r+.7152*n+.0722*i},t.prototype.getAlpha=function(){return this.a},t.prototype.setAlpha=function(e){return this.a=SS(e),this.roundA=Math.round(100*this.a)/100,this},t.prototype.isMonochrome=function(){var e=this.toHsl().s;return e===0},t.prototype.toHsv=function(){var e=F0(this.r,this.g,this.b);return{h:e.h*360,s:e.s,v:e.v,a:this.a}},t.prototype.toHsvString=function(){var e=F0(this.r,this.g,this.b),r=Math.round(e.h*360),n=Math.round(e.s*100),i=Math.round(e.v*100);return this.a===1?"hsv(".concat(r,", ").concat(n,"%, ").concat(i,"%)"):"hsva(".concat(r,", ").concat(n,"%, ").concat(i,"%, ").concat(this.roundA,")")},t.prototype.toHsl=function(){var e=O0(this.r,this.g,this.b);return{h:e.h*360,s:e.s,l:e.l,a:this.a}},t.prototype.toHslString=function(){var e=O0(this.r,this.g,this.b),r=Math.round(e.h*360),n=Math.round(e.s*100),i=Math.round(e.l*100);return this.a===1?"hsl(".concat(r,", ").concat(n,"%, ").concat(i,"%)"):"hsla(".concat(r,", ").concat(n,"%, ").concat(i,"%, ").concat(this.roundA,")")},t.prototype.toHex=function(e){return e===void 0&&(e=!1),B0(this.r,this.g,this.b,e)},t.prototype.toHexString=function(e){return e===void 0&&(e=!1),"#"+this.toHex(e)},t.prototype.toHex8=function(e){return e===void 0&&(e=!1),ID(this.r,this.g,this.b,this.a,e)},t.prototype.toHex8String=function(e){return e===void 0&&(e=!1),"#"+this.toHex8(e)},t.prototype.toHexShortString=function(e){return e===void 0&&(e=!1),this.a===1?this.toHexString(e):this.toHex8String(e)},t.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},t.prototype.toRgbString=function(){var e=Math.round(this.r),r=Math.round(this.g),n=Math.round(this.b);return this.a===1?"rgb(".concat(e,", ").concat(r,", ").concat(n,")"):"rgba(".concat(e,", ").concat(r,", ").concat(n,", ").concat(this.roundA,")")},t.prototype.toPercentageRgb=function(){var e=function(r){return"".concat(Math.round(Ut(r,255)*100),"%")};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},t.prototype.toPercentageRgbString=function(){var e=function(r){return Math.round(Ut(r,255)*100)};return this.a===1?"rgb(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%)"):"rgba(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%, ").concat(this.roundA,")")},t.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var e="#"+B0(this.r,this.g,this.b,!1),r=0,n=Object.entries(sp);r<n.length;r++){var i=n[r],a=i[0],o=i[1];if(e===o)return a}return!1},t.prototype.toString=function(e){var r=!!e;e=e??this.format;var n=!1,i=this.a<1&&this.a>=0,a=!r&&i&&(e.startsWith("hex")||e==="name");return a?e==="name"&&this.a===0?this.toName():this.toRgbString():(e==="rgb"&&(n=this.toRgbString()),e==="prgb"&&(n=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(n=this.toHexString()),e==="hex3"&&(n=this.toHexString(!0)),e==="hex4"&&(n=this.toHex8String(!0)),e==="hex8"&&(n=this.toHex8String()),e==="name"&&(n=this.toName()),e==="hsl"&&(n=this.toHslString()),e==="hsv"&&(n=this.toHsvString()),n||this.toHexString())},t.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},t.prototype.clone=function(){return new t(this.toString())},t.prototype.lighten=function(e){e===void 0&&(e=10);var r=this.toHsl();return r.l+=e/100,r.l=tc(r.l),new t(r)},t.prototype.brighten=function(e){e===void 0&&(e=10);var r=this.toRgb();return r.r=Math.max(0,Math.min(255,r.r-Math.round(255*-(e/100)))),r.g=Math.max(0,Math.min(255,r.g-Math.round(255*-(e/100)))),r.b=Math.max(0,Math.min(255,r.b-Math.round(255*-(e/100)))),new t(r)},t.prototype.darken=function(e){e===void 0&&(e=10);var r=this.toHsl();return r.l-=e/100,r.l=tc(r.l),new t(r)},t.prototype.tint=function(e){return e===void 0&&(e=10),this.mix("white",e)},t.prototype.shade=function(e){return e===void 0&&(e=10),this.mix("black",e)},t.prototype.desaturate=function(e){e===void 0&&(e=10);var r=this.toHsl();return r.s-=e/100,r.s=tc(r.s),new t(r)},t.prototype.saturate=function(e){e===void 0&&(e=10);var r=this.toHsl();return r.s+=e/100,r.s=tc(r.s),new t(r)},t.prototype.greyscale=function(){return this.desaturate(100)},t.prototype.spin=function(e){var r=this.toHsl(),n=(r.h+e)%360;return r.h=n<0?360+n:n,new t(r)},t.prototype.mix=function(e,r){r===void 0&&(r=50);var n=this.toRgb(),i=new t(e).toRgb(),a=r/100,o={r:(i.r-n.r)*a+n.r,g:(i.g-n.g)*a+n.g,b:(i.b-n.b)*a+n.b,a:(i.a-n.a)*a+n.a};return new t(o)},t.prototype.analogous=function(e,r){e===void 0&&(e=6),r===void 0&&(r=30);var n=this.toHsl(),i=360/r,a=[this];for(n.h=(n.h-(i*e>>1)+720)%360;--e;)n.h=(n.h+i)%360,a.push(new t(n));return a},t.prototype.complement=function(){var e=this.toHsl();return e.h=(e.h+180)%360,new t(e)},t.prototype.monochromatic=function(e){e===void 0&&(e=6);for(var r=this.toHsv(),n=r.h,i=r.s,a=r.v,o=[],s=1/e;e--;)o.push(new t({h:n,s:i,v:a})),a=(a+s)%1;return o},t.prototype.splitcomplement=function(){var e=this.toHsl(),r=e.h;return[this,new t({h:(r+72)%360,s:e.s,l:e.l}),new t({h:(r+216)%360,s:e.s,l:e.l})]},t.prototype.onBackground=function(e){var r=this.toRgb(),n=new t(e).toRgb(),i=r.a+n.a*(1-r.a);return new t({r:(r.r*r.a+n.r*n.a*(1-r.a))/i,g:(r.g*r.a+n.g*n.a*(1-r.a))/i,b:(r.b*r.a+n.b*n.a*(1-r.a))/i,a:i})},t.prototype.triad=function(){return this.polyad(3)},t.prototype.tetrad=function(){return this.polyad(4)},t.prototype.polyad=function(e){for(var r=this.toHsl(),n=r.h,i=[this],a=360/e,o=1;o<e;o++)i.push(new t({h:(n+o*a)%360,s:r.s,l:r.l}));return i},t.prototype.equals=function(e){return this.toRgbString()===new t(e).toRgbString()},t}();function Di(t,e=20){return t.mix("#141414",e).toString()}function OD(t){const e=Os(),r=at("button");return Z(()=>{let n={},i=t.color;if(i){const a=i.match(/var\((.*?)\)/);a&&(i=window.getComputedStyle(window.document.documentElement).getPropertyValue(a[1]));const o=new RD(i),s=t.dark?o.tint(20).toString():Di(o,20);if(t.plain)n=r.cssVarBlock({"bg-color":t.dark?Di(o,90):o.tint(90).toString(),"text-color":i,"border-color":t.dark?Di(o,50):o.tint(50).toString(),"hover-text-color":`var(${r.cssVarName("color-white")})`,"hover-bg-color":i,"hover-border-color":i,"active-bg-color":s,"active-text-color":`var(${r.cssVarName("color-white")})`,"active-border-color":s}),e.value&&(n[r.cssVarBlockName("disabled-bg-color")]=t.dark?Di(o,90):o.tint(90).toString(),n[r.cssVarBlockName("disabled-text-color")]=t.dark?Di(o,50):o.tint(50).toString(),n[r.cssVarBlockName("disabled-border-color")]=t.dark?Di(o,80):o.tint(80).toString());else{const l=t.dark?Di(o,30):o.tint(30).toString(),f=o.isDark()?`var(${r.cssVarName("color-white")})`:`var(${r.cssVarName("color-black")})`;if(n=r.cssVarBlock({"bg-color":i,"text-color":f,"border-color":i,"hover-bg-color":l,"hover-text-color":f,"hover-border-color":l,"active-bg-color":s,"active-border-color":s}),e.value){const v=t.dark?Di(o,50):o.tint(50).toString();n[r.cssVarBlockName("disabled-bg-color")]=v,n[r.cssVarBlockName("disabled-text-color")]=t.dark?"rgba(255, 255, 255, 0.5)":`var(${r.cssVarName("color-white")})`,n[r.cssVarBlockName("disabled-border-color")]=v}}}return n})}const FD=he({name:"ElButton"}),BD=he({...FD,props:op,emits:xD,setup(t,{expose:e,emit:r}){const n=t,i=OD(n),a=at("button"),{_ref:o,_size:s,_type:l,_disabled:f,_props:v,shouldAddSpace:d,handleClick:g}=_D(n,r),p=Z(()=>[a.b(),a.m(l.value),a.m(s.value),a.is("disabled",f.value),a.is("loading",n.loading),a.is("plain",n.plain),a.is("round",n.round),a.is("circle",n.circle),a.is("text",n.text),a.is("link",n.link),a.is("has-bg",n.bg)]);return e({ref:o,size:s,type:l,disabled:f,shouldAddSpace:d}),(y,w)=>(ie(),Ge(gi(y.tag),Si({ref_key:"_ref",ref:o},P(v),{class:P(p),style:P(i),onClick:P(g)}),{default:Ne(()=>[y.loading?(ie(),fe($t,{key:0},[y.$slots.loading?Ze(y.$slots,"loading",{key:0}):(ie(),Ge(P(mr),{key:1,class:de(P(a).is("loading"))},{default:Ne(()=>[(ie(),Ge(gi(y.loadingIcon)))]),_:1},8,["class"]))],64)):y.icon||y.$slots.icon?(ie(),Ge(P(mr),{key:1},{default:Ne(()=>[y.icon?(ie(),Ge(gi(y.icon),{key:0})):Ze(y.$slots,"icon",{key:1})]),_:3})):Ve("v-if",!0),y.$slots.default?(ie(),fe("span",{key:2,class:de({[P(a).em("text","expand")]:P(d)})},[Ze(y.$slots,"default")],2)):Ve("v-if",!0)]),_:3},16,["class","style","onClick"]))}});var zD=st(BD,[["__file","button.vue"]]);const GD={size:op.size,type:op.type},VD=he({name:"ElButtonGroup"}),HD=he({...VD,props:GD,setup(t){const e=t;nn(bS,Jt({size:pi(e,"size"),type:pi(e,"type")}));const r=at("button");return(n,i)=>(ie(),fe("div",{class:de(P(r).b("group"))},[Ze(n.$slots,"default")],2))}});var CS=st(HD,[["__file","button-group.vue"]]);const G0=sn(zD,{ButtonGroup:CS});Ch(CS);function $D(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}const TS=ot({modelValue:{type:[String,Number,Boolean],default:void 0},size:ua,disabled:Boolean,label:{type:[String,Number,Boolean],default:void 0},value:{type:[String,Number,Boolean],default:void 0},name:{type:String,default:void 0}}),UD=ot({...TS,border:Boolean}),ES={[St]:t=>It(t)||gt(t)||Mf(t),[pa]:t=>It(t)||gt(t)||Mf(t)},kS=Symbol("radioGroupKey"),IS=(t,e)=>{const r=ge(),n=vt(kS,void 0),i=Z(()=>!!n),a=Z(()=>Qy(t.value)?t.label:t.value),o=Z({get(){return i.value?n.modelValue:t.modelValue},set(d){i.value?n.changeEvent(d):e&&e(St,d),r.value.checked=t.modelValue===a.value}}),s=Rs(Z(()=>n==null?void 0:n.size)),l=Os(Z(()=>n==null?void 0:n.disabled)),f=ge(!1),v=Z(()=>l.value||i.value&&o.value!==a.value?-1:0);return xS({from:"label act as value",replacement:"value",version:"3.0.0",scope:"el-radio",ref:"https://element-plus.org/en-US/component/radio.html"},Z(()=>i.value&&Qy(t.value))),{radioRef:r,isGroup:i,radioGroup:n,focus:f,size:s,disabled:l,tabIndex:v,modelValue:o,actualValue:a}},YD=he({name:"ElRadio"}),qD=he({...YD,props:UD,emits:ES,setup(t,{emit:e}){const r=t,n=at("radio"),{radioRef:i,radioGroup:a,focus:o,size:s,disabled:l,modelValue:f,actualValue:v}=IS(r,e);function d(){Pt(()=>e("change",f.value))}return(g,p)=>{var y;return ie(),fe("label",{class:de([P(n).b(),P(n).is("disabled",P(l)),P(n).is("focus",P(o)),P(n).is("bordered",g.border),P(n).is("checked",P(f)===P(v)),P(n).m(P(s))])},[re("span",{class:de([P(n).e("input"),P(n).is("disabled",P(l)),P(n).is("checked",P(f)===P(v))])},[Mt(re("input",{ref_key:"radioRef",ref:i,"onUpdate:modelValue":w=>ph(f)?f.value=w:null,class:de(P(n).e("original")),value:P(v),name:g.name||((y=P(a))==null?void 0:y.name),disabled:P(l),checked:P(f)===P(v),type:"radio",onFocus:w=>o.value=!0,onBlur:w=>o.value=!1,onChange:d,onClick:xn(()=>{},["stop"])},null,42,["onUpdate:modelValue","value","name","disabled","checked","onFocus","onBlur","onClick"]),[[Cx,P(f)]]),re("span",{class:de(P(n).e("inner"))},null,2)],2),re("span",{class:de(P(n).e("label")),onKeydown:xn(()=>{},["stop"])},[Ze(g.$slots,"default",{},()=>[Un(At(g.label),1)])],42,["onKeydown"])],2)}}});var WD=st(qD,[["__file","radio.vue"]]);const XD=ot({...TS}),KD=he({name:"ElRadioButton"}),ZD=he({...KD,props:XD,setup(t){const e=t,r=at("radio"),{radioRef:n,focus:i,size:a,disabled:o,modelValue:s,radioGroup:l,actualValue:f}=IS(e),v=Z(()=>({backgroundColor:(l==null?void 0:l.fill)||"",borderColor:(l==null?void 0:l.fill)||"",boxShadow:l!=null&&l.fill?`-1px 0 0 0 ${l.fill}`:"",color:(l==null?void 0:l.textColor)||""}));return(d,g)=>{var p;return ie(),fe("label",{class:de([P(r).b("button"),P(r).is("active",P(s)===P(f)),P(r).is("disabled",P(o)),P(r).is("focus",P(i)),P(r).bm("button",P(a))])},[Mt(re("input",{ref_key:"radioRef",ref:n,"onUpdate:modelValue":y=>ph(s)?s.value=y:null,class:de(P(r).be("button","original-radio")),value:P(f),type:"radio",name:d.name||((p=P(l))==null?void 0:p.name),disabled:P(o),onFocus:y=>i.value=!0,onBlur:y=>i.value=!1,onClick:xn(()=>{},["stop"])},null,42,["onUpdate:modelValue","value","name","disabled","onFocus","onBlur","onClick"]),[[Cx,P(s)]]),re("span",{class:de(P(r).be("button","inner")),style:kt(P(s)===P(f)?P(v):{}),onKeydown:xn(()=>{},["stop"])},[Ze(d.$slots,"default",{},()=>[Un(At(d.label),1)])],46,["onKeydown"])],2)}}});var MS=st(ZD,[["__file","radio-button.vue"]]);const jD=ot({id:{type:String,default:void 0},size:ua,disabled:Boolean,modelValue:{type:[String,Number,Boolean],default:void 0},fill:{type:String,default:""},textColor:{type:String,default:""},name:{type:String,default:void 0},validateEvent:{type:Boolean,default:!0},...So(["ariaLabel"])}),QD=ES,JD=he({name:"ElRadioGroup"}),eR=he({...JD,props:jD,emits:QD,setup(t,{emit:e}){const r=t,n=at("radio"),i=Pg(),a=ge(),{formItem:o}=Ds(),{inputId:s,isLabeledByFormItem:l}=Th(r,{formItemContext:o}),f=d=>{e(St,d),Pt(()=>e("change",d))};Et(()=>{const d=a.value.querySelectorAll("[type=radio]"),g=d[0];!Array.from(d).some(p=>p.checked)&&g&&(g.tabIndex=0)});const v=Z(()=>r.name||i.value);return nn(kS,Jt({...al(r),changeEvent:f,name:v})),Ae(()=>r.modelValue,()=>{r.validateEvent&&(o==null||o.validate("change").catch(d=>void 0))}),(d,g)=>(ie(),fe("div",{id:P(s),ref_key:"radioGroupRef",ref:a,class:de(P(n).b("group")),role:"radiogroup","aria-label":P(l)?void 0:d.ariaLabel||"radio-group","aria-labelledby":P(l)?P(o).labelId:void 0},[Ze(d.$slots,"default")],10,["id","aria-label","aria-labelledby"]))}});var LS=st(eR,[["__file","radio-group.vue"]]);const Hu=sn(WD,{RadioButton:MS,RadioGroup:LS}),PS=Ch(LS);Ch(MS);const Yi=new Map;if(Gt){let t;document.addEventListener("mousedown",e=>t=e),document.addEventListener("mouseup",e=>{if(t){for(const r of Yi.values())for(const{documentHandler:n}of r)n(e,t);t=void 0}})}function V0(t,e){let r=[];return ta(e.arg)?r=e.arg:Yn(e.arg)&&r.push(e.arg),function(n,i){const a=e.instance.popperRef,o=n.target,s=i==null?void 0:i.target,l=!e||!e.instance,f=!o||!s,v=t.contains(o)||t.contains(s),d=t===o,g=r.length&&r.some(y=>y==null?void 0:y.contains(o))||r.length&&r.includes(s),p=a&&(a.contains(o)||a.contains(s));l||f||v||d||g||p||e.value(n,i)}}const tR={beforeMount(t,e){Yi.has(t)||Yi.set(t,[]),Yi.get(t).push({documentHandler:V0(t,e),bindingFn:e.value})},updated(t,e){Yi.has(t)||Yi.set(t,[]);const r=Yi.get(t),n=r.findIndex(a=>a.bindingFn===e.oldValue),i={documentHandler:V0(t,e),bindingFn:e.value};n>=0?r.splice(n,1,i):r.push(i)},unmounted(t){Yi.delete(t)}},H0=t=>gt(t)||It(t)||ta(t),rR=ot({accordion:Boolean,modelValue:{type:Fe([Array,String,Number]),default:()=>Kx([])}}),nR={[St]:H0,[pa]:H0},NS=Symbol("collapseContextKey"),iR=(t,e)=>{const r=ge(jy(t.modelValue)),n=a=>{r.value=a;const o=t.accordion?r.value[0]:r.value;e(St,o),e(pa,o)},i=a=>{if(t.accordion)n([r.value[0]===a?"":a]);else{const o=[...r.value],s=o.indexOf(a);s>-1?o.splice(s,1):o.push(a),n(o)}};return Ae(()=>t.modelValue,()=>r.value=jy(t.modelValue),{deep:!0}),nn(NS,{activeNames:r,handleItemClick:i}),{activeNames:r,setActiveNames:n}},aR=()=>{const t=at("collapse");return{rootKls:Z(()=>t.b())}},oR=he({name:"ElCollapse"}),sR=he({...oR,props:rR,emits:nR,setup(t,{expose:e,emit:r}){const n=t,{activeNames:i,setActiveNames:a}=iR(n,r),{rootKls:o}=aR();return e({activeNames:i,setActiveNames:a}),(s,l)=>(ie(),fe("div",{class:de(P(o))},[Ze(s.$slots,"default")],2))}});var uR=st(sR,[["__file","collapse.vue"]]);const lR=he({name:"ElCollapseTransition"}),cR=he({...lR,setup(t){const e=at("collapse-transition"),r=i=>{i.style.maxHeight="",i.style.overflow=i.dataset.oldOverflow,i.style.paddingTop=i.dataset.oldPaddingTop,i.style.paddingBottom=i.dataset.oldPaddingBottom},n={beforeEnter(i){i.dataset||(i.dataset={}),i.dataset.oldPaddingTop=i.style.paddingTop,i.dataset.oldPaddingBottom=i.style.paddingBottom,i.style.height&&(i.dataset.elExistsHeight=i.style.height),i.style.maxHeight=0,i.style.paddingTop=0,i.style.paddingBottom=0},enter(i){requestAnimationFrame(()=>{i.dataset.oldOverflow=i.style.overflow,i.dataset.elExistsHeight?i.style.maxHeight=i.dataset.elExistsHeight:i.scrollHeight!==0?i.style.maxHeight=`${i.scrollHeight}px`:i.style.maxHeight=0,i.style.paddingTop=i.dataset.oldPaddingTop,i.style.paddingBottom=i.dataset.oldPaddingBottom,i.style.overflow="hidden"})},afterEnter(i){i.style.maxHeight="",i.style.overflow=i.dataset.oldOverflow},enterCancelled(i){r(i)},beforeLeave(i){i.dataset||(i.dataset={}),i.dataset.oldPaddingTop=i.style.paddingTop,i.dataset.oldPaddingBottom=i.style.paddingBottom,i.dataset.oldOverflow=i.style.overflow,i.style.maxHeight=`${i.scrollHeight}px`,i.style.overflow="hidden"},leave(i){i.scrollHeight!==0&&(i.style.maxHeight=0,i.style.paddingTop=0,i.style.paddingBottom=0)},afterLeave(i){r(i)},leaveCancelled(i){r(i)}};return(i,a)=>(ie(),Ge(gh,Si({name:P(e).b()},a2(n)),{default:Ne(()=>[Ze(i.$slots,"default")]),_:3},16,["name"]))}});var fR=st(cR,[["__file","collapse-transition.vue"]]);const hR=sn(fR),vR=ot({title:{type:String,default:""},name:{type:Fe([String,Number]),default:void 0},icon:{type:ms,default:hP},disabled:Boolean}),dR=t=>{const e=vt(NS),{namespace:r}=at("collapse"),n=ge(!1),i=ge(!1),a=Lg(),o=Z(()=>a.current++),s=Z(()=>{var g;return(g=t.name)!=null?g:`${r.value}-id-${a.prefix}-${P(o)}`}),l=Z(()=>e==null?void 0:e.activeNames.value.includes(P(s)));return{focusing:n,id:o,isActive:l,handleFocus:()=>{setTimeout(()=>{i.value?i.value=!1:n.value=!0},50)},handleHeaderClick:()=>{t.disabled||(e==null||e.handleItemClick(P(s)),n.value=!1,i.value=!0)},handleEnterClick:()=>{e==null||e.handleItemClick(P(s))}}},pR=(t,{focusing:e,isActive:r,id:n})=>{const i=at("collapse"),a=Z(()=>[i.b("item"),i.is("active",P(r)),i.is("disabled",t.disabled)]),o=Z(()=>[i.be("item","header"),i.is("active",P(r)),{focusing:P(e)&&!t.disabled}]),s=Z(()=>[i.be("item","arrow"),i.is("active",P(r))]),l=Z(()=>i.be("item","wrap")),f=Z(()=>i.be("item","content")),v=Z(()=>i.b(`content-${P(n)}`)),d=Z(()=>i.b(`head-${P(n)}`));return{arrowKls:s,headKls:o,rootKls:a,itemWrapperKls:l,itemContentKls:f,scopedContentId:v,scopedHeadId:d}},gR=he({name:"ElCollapseItem"}),mR=he({...gR,props:vR,setup(t,{expose:e}){const r=t,{focusing:n,id:i,isActive:a,handleFocus:o,handleHeaderClick:s,handleEnterClick:l}=dR(r),{arrowKls:f,headKls:v,rootKls:d,itemWrapperKls:g,itemContentKls:p,scopedContentId:y,scopedHeadId:w}=pR(r,{focusing:n,isActive:a,id:i});return e({isActive:a}),(b,x)=>(ie(),fe("div",{class:de(P(d))},[re("button",{id:P(w),class:de(P(v)),"aria-expanded":P(a),"aria-controls":P(y),"aria-describedby":P(y),tabindex:b.disabled?-1:0,type:"button",onClick:P(s),onKeydown:eo(xn(P(l),["stop","prevent"]),["space","enter"]),onFocus:P(o),onBlur:C=>n.value=!1},[Ze(b.$slots,"title",{},()=>[Un(At(b.title),1)]),Ze(b.$slots,"icon",{isActive:P(a)},()=>[Ee(P(mr),{class:de(P(f))},{default:Ne(()=>[(ie(),Ge(gi(b.icon)))]),_:1},8,["class"])])],42,["id","aria-expanded","aria-controls","aria-describedby","tabindex","onClick","onKeydown","onFocus","onBlur"]),Ee(P(hR),null,{default:Ne(()=>[Mt(re("div",{id:P(y),role:"region",class:de(P(g)),"aria-hidden":!P(a),"aria-labelledby":P(w)},[re("div",{class:de(P(p))},[Ze(b.$slots,"default")],2)],10,["id","aria-hidden","aria-labelledby"]),[[Ci,P(a)]])]),_:3})],2))}});var AS=st(mR,[["__file","collapse-item.vue"]]);const yR=sn(uR,{CollapseItem:AS}),Lv=Ch(AS),_R=ot({color:{type:Fe(Object),required:!0},vertical:{type:Boolean,default:!1}});let Pv=!1;function ll(t,e){if(!Gt)return;const r=function(a){var o;(o=e.drag)==null||o.call(e,a)},n=function(a){var o;document.removeEventListener("mousemove",r),document.removeEventListener("mouseup",n),document.removeEventListener("touchmove",r),document.removeEventListener("touchend",n),document.onselectstart=null,document.ondragstart=null,Pv=!1,(o=e.end)==null||o.call(e,a)},i=function(a){var o;Pv||(a.preventDefault(),document.onselectstart=()=>!1,document.ondragstart=()=>!1,document.addEventListener("mousemove",r),document.addEventListener("mouseup",n),document.addEventListener("touchmove",r),document.addEventListener("touchend",n),Pv=!0,(o=e.start)==null||o.call(e,a))};t.addEventListener("mousedown",i),t.addEventListener("touchstart",i,{passive:!1})}const Yg=t=>{let e,r;return t.type==="touchend"?(r=t.changedTouches[0].clientY,e=t.changedTouches[0].clientX):t.type.startsWith("touch")?(r=t.touches[0].clientY,e=t.touches[0].clientX):(r=t.clientY,e=t.clientX),{clientX:e,clientY:r}},wR=t=>{const e=or(),{t:r}=Ll(),n=_i(),i=_i(),a=Z(()=>t.color.get("alpha")),o=Z(()=>r("el.colorpicker.alphaLabel"));function s(d){var g;d.target!==n.value&&l(d),(g=n.value)==null||g.focus()}function l(d){if(!i.value||!n.value)return;const p=e.vnode.el.getBoundingClientRect(),{clientX:y,clientY:w}=Yg(d);if(t.vertical){let b=w-p.top;b=Math.max(n.value.offsetHeight/2,b),b=Math.min(b,p.height-n.value.offsetHeight/2),t.color.set("alpha",Math.round((b-n.value.offsetHeight/2)/(p.height-n.value.offsetHeight)*100))}else{let b=y-p.left;b=Math.max(n.value.offsetWidth/2,b),b=Math.min(b,p.width-n.value.offsetWidth/2),t.color.set("alpha",Math.round((b-n.value.offsetWidth/2)/(p.width-n.value.offsetWidth)*100))}}function f(d){const{code:g,shiftKey:p}=d,y=p?10:1;switch(g){case pt.left:case pt.down:d.preventDefault(),d.stopPropagation(),v(-y);break;case pt.right:case pt.up:d.preventDefault(),d.stopPropagation(),v(y);break}}function v(d){let g=a.value+d;g=g<0?0:g>100?100:g,t.color.set("alpha",g)}return{thumb:n,bar:i,alpha:a,alphaLabel:o,handleDrag:l,handleClick:s,handleKeydown:f}},bR=(t,{bar:e,thumb:r,handleDrag:n})=>{const i=or(),a=at("color-alpha-slider"),o=ge(0),s=ge(0),l=ge();function f(){if(!r.value||t.vertical)return 0;const C=i.vnode.el,T=t.color.get("alpha");return C?Math.round(T*(C.offsetWidth-r.value.offsetWidth/2)/100):0}function v(){if(!r.value)return 0;const C=i.vnode.el;if(!t.vertical)return 0;const T=t.color.get("alpha");return C?Math.round(T*(C.offsetHeight-r.value.offsetHeight/2)/100):0}function d(){if(t.color&&t.color.value){const{r:C,g:T,b:k}=t.color.toRgb();return`linear-gradient(to right, rgba(${C}, ${T}, ${k}, 0) 0%, rgba(${C}, ${T}, ${k}, 1) 100%)`}return""}function g(){o.value=f(),s.value=v(),l.value=d()}Et(()=>{if(!e.value||!r.value)return;const C={drag:T=>{n(T)},end:T=>{n(T)}};ll(e.value,C),ll(r.value,C),g()}),Ae(()=>t.color.get("alpha"),()=>g()),Ae(()=>t.color.value,()=>g());const p=Z(()=>[a.b(),a.is("vertical",t.vertical)]),y=Z(()=>a.e("bar")),w=Z(()=>a.e("thumb")),b=Z(()=>({background:l.value})),x=Z(()=>({left:np(o.value),top:np(s.value)}));return{rootKls:p,barKls:y,barStyle:b,thumbKls:w,thumbStyle:x,update:g}},xR="ElColorAlphaSlider",SR=he({name:xR}),CR=he({...SR,props:_R,setup(t,{expose:e}){const r=t,{alpha:n,alphaLabel:i,bar:a,thumb:o,handleDrag:s,handleClick:l,handleKeydown:f}=wR(r),{rootKls:v,barKls:d,barStyle:g,thumbKls:p,thumbStyle:y,update:w}=bR(r,{bar:a,thumb:o,handleDrag:s});return e({update:w,bar:a,thumb:o}),(b,x)=>(ie(),fe("div",{class:de(P(v))},[re("div",{ref_key:"bar",ref:a,class:de(P(d)),style:kt(P(g)),onClick:P(l)},null,14,["onClick"]),re("div",{ref_key:"thumb",ref:o,class:de(P(p)),style:kt(P(y)),"aria-label":P(i),"aria-valuenow":P(n),"aria-orientation":b.vertical?"vertical":"horizontal","aria-valuemin":"0","aria-valuemax":"100",role:"slider",tabindex:"0",onKeydown:P(f)},null,46,["aria-label","aria-valuenow","aria-orientation","onKeydown"])],2))}});var TR=st(CR,[["__file","alpha-slider.vue"]]);const ER=he({name:"ElColorHueSlider",props:{color:{type:Object,required:!0},vertical:Boolean},setup(t){const e=at("color-hue-slider"),r=or(),n=ge(),i=ge(),a=ge(0),o=ge(0),s=Z(()=>t.color.get("hue"));Ae(()=>s.value,()=>{g()});function l(p){p.target!==n.value&&f(p)}function f(p){if(!i.value||!n.value)return;const w=r.vnode.el.getBoundingClientRect(),{clientX:b,clientY:x}=Yg(p);let C;if(t.vertical){let T=x-w.top;T=Math.min(T,w.height-n.value.offsetHeight/2),T=Math.max(n.value.offsetHeight/2,T),C=Math.round((T-n.value.offsetHeight/2)/(w.height-n.value.offsetHeight)*360)}else{let T=b-w.left;T=Math.min(T,w.width-n.value.offsetWidth/2),T=Math.max(n.value.offsetWidth/2,T),C=Math.round((T-n.value.offsetWidth/2)/(w.width-n.value.offsetWidth)*360)}t.color.set("hue",C)}function v(){if(!n.value)return 0;const p=r.vnode.el;if(t.vertical)return 0;const y=t.color.get("hue");return p?Math.round(y*(p.offsetWidth-n.value.offsetWidth/2)/360):0}function d(){if(!n.value)return 0;const p=r.vnode.el;if(!t.vertical)return 0;const y=t.color.get("hue");return p?Math.round(y*(p.offsetHeight-n.value.offsetHeight/2)/360):0}function g(){a.value=v(),o.value=d()}return Et(()=>{if(!i.value||!n.value)return;const p={drag:y=>{f(y)},end:y=>{f(y)}};ll(i.value,p),ll(n.value,p),g()}),{bar:i,thumb:n,thumbLeft:a,thumbTop:o,hueValue:s,handleClick:l,update:g,ns:e}}});function kR(t,e,r,n,i,a){return ie(),fe("div",{class:de([t.ns.b(),t.ns.is("vertical",t.vertical)])},[re("div",{ref:"bar",class:de(t.ns.e("bar")),onClick:t.handleClick},null,10,["onClick"]),re("div",{ref:"thumb",class:de(t.ns.e("thumb")),style:kt({left:t.thumbLeft+"px",top:t.thumbTop+"px"})},null,6)],2)}var IR=st(ER,[["render",kR],["__file","hue-slider.vue"]]);const MR=ot({modelValue:String,id:String,showAlpha:Boolean,colorFormat:String,disabled:Boolean,size:ua,popperClass:{type:String,default:""},tabindex:{type:[String,Number],default:0},teleported:Ug.teleported,predefine:{type:Fe(Array)},validateEvent:{type:Boolean,default:!0},...So(["ariaLabel"])}),LR={[St]:t=>It(t)||Dr(t),[pa]:t=>It(t)||Dr(t),activeChange:t=>It(t)||Dr(t),focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent},DS=Symbol("colorPickerContextKey"),$0=function(t,e,r){return[t,e*r/((t=(2-e)*r)<1?t:2-t)||0,t/2]},PR=function(t){return It(t)&&t.includes(".")&&Number.parseFloat(t)===1},NR=function(t){return It(t)&&t.includes("%")},us=function(t,e){PR(t)&&(t="100%");const r=NR(t);return t=Math.min(e,Math.max(0,Number.parseFloat(`${t}`))),r&&(t=Number.parseInt(`${t*e}`,10)/100),Math.abs(t-e)<1e-6?1:t%e/Number.parseFloat(e)},U0={10:"A",11:"B",12:"C",13:"D",14:"E",15:"F"},rf=t=>{t=Math.min(Math.round(t),255);const e=Math.floor(t/16),r=t%16;return`${U0[e]||e}${U0[r]||r}`},Y0=function({r:t,g:e,b:r}){return Number.isNaN(+t)||Number.isNaN(+e)||Number.isNaN(+r)?"":`#${rf(t)}${rf(e)}${rf(r)}`},Nv={A:10,B:11,C:12,D:13,E:14,F:15},Ia=function(t){return t.length===2?(Nv[t[0].toUpperCase()]||+t[0])*16+(Nv[t[1].toUpperCase()]||+t[1]):Nv[t[1].toUpperCase()]||+t[1]},AR=function(t,e,r){e=e/100,r=r/100;let n=e;const i=Math.max(r,.01);r*=2,e*=r<=1?r:2-r,n*=i<=1?i:2-i;const a=(r+e)/2,o=r===0?2*n/(i+n):2*e/(r+e);return{h:t,s:o*100,v:a*100}},q0=(t,e,r)=>{t=us(t,255),e=us(e,255),r=us(r,255);const n=Math.max(t,e,r),i=Math.min(t,e,r);let a;const o=n,s=n-i,l=n===0?0:s/n;if(n===i)a=0;else{switch(n){case t:{a=(e-r)/s+(e<r?6:0);break}case e:{a=(r-t)/s+2;break}case r:{a=(t-e)/s+4;break}}a/=6}return{h:a*360,s:l*100,v:o*100}},uu=function(t,e,r){t=us(t,360)*6,e=us(e,100),r=us(r,100);const n=Math.floor(t),i=t-n,a=r*(1-e),o=r*(1-i*e),s=r*(1-(1-i)*e),l=n%6,f=[r,o,a,a,s,r][l],v=[s,r,r,o,a,a][l],d=[a,a,s,r,r,o][l];return{r:Math.round(f*255),g:Math.round(v*255),b:Math.round(d*255)}};let $u=class{constructor(e={}){this._hue=0,this._saturation=100,this._value=100,this._alpha=100,this.enableAlpha=!1,this.format="hex",this.value="";for(const r in e)Tf(e,r)&&(this[r]=e[r]);e.value?this.fromString(e.value):this.doOnChange()}set(e,r){if(arguments.length===1&&typeof e=="object"){for(const n in e)Tf(e,n)&&this.set(n,e[n]);return}this[`_${e}`]=r,this.doOnChange()}get(e){return e==="alpha"?Math.floor(this[`_${e}`]):this[`_${e}`]}toRgb(){return uu(this._hue,this._saturation,this._value)}fromString(e){if(!e){this._hue=0,this._saturation=100,this._value=100,this.doOnChange();return}const r=(n,i,a)=>{this._hue=Math.max(0,Math.min(360,n)),this._saturation=Math.max(0,Math.min(100,i)),this._value=Math.max(0,Math.min(100,a)),this.doOnChange()};if(e.includes("hsl")){const n=e.replace(/hsla|hsl|\(|\)/gm,"").split(/\s|,/g).filter(i=>i!=="").map((i,a)=>a>2?Number.parseFloat(i):Number.parseInt(i,10));if(n.length===4?this._alpha=Number.parseFloat(n[3])*100:n.length===3&&(this._alpha=100),n.length>=3){const{h:i,s:a,v:o}=AR(n[0],n[1],n[2]);r(i,a,o)}}else if(e.includes("hsv")){const n=e.replace(/hsva|hsv|\(|\)/gm,"").split(/\s|,/g).filter(i=>i!=="").map((i,a)=>a>2?Number.parseFloat(i):Number.parseInt(i,10));n.length===4?this._alpha=Number.parseFloat(n[3])*100:n.length===3&&(this._alpha=100),n.length>=3&&r(n[0],n[1],n[2])}else if(e.includes("rgb")){const n=e.replace(/rgba|rgb|\(|\)/gm,"").split(/\s|,/g).filter(i=>i!=="").map((i,a)=>a>2?Number.parseFloat(i):Number.parseInt(i,10));if(n.length===4?this._alpha=Number.parseFloat(n[3])*100:n.length===3&&(this._alpha=100),n.length>=3){const{h:i,s:a,v:o}=q0(n[0],n[1],n[2]);r(i,a,o)}}else if(e.includes("#")){const n=e.replace("#","").trim();if(!/^[0-9a-fA-F]{3}$|^[0-9a-fA-F]{6}$|^[0-9a-fA-F]{8}$/.test(n))return;let i,a,o;n.length===3?(i=Ia(n[0]+n[0]),a=Ia(n[1]+n[1]),o=Ia(n[2]+n[2])):(n.length===6||n.length===8)&&(i=Ia(n.slice(0,2)),a=Ia(n.slice(2,4)),o=Ia(n.slice(4,6))),n.length===8?this._alpha=Ia(n.slice(6))/255*100:(n.length===3||n.length===6)&&(this._alpha=100);const{h:s,s:l,v:f}=q0(i,a,o);r(s,l,f)}}compare(e){return Math.abs(e._hue-this._hue)<2&&Math.abs(e._saturation-this._saturation)<1&&Math.abs(e._value-this._value)<1&&Math.abs(e._alpha-this._alpha)<1}doOnChange(){const{_hue:e,_saturation:r,_value:n,_alpha:i,format:a}=this;if(this.enableAlpha)switch(a){case"hsl":{const o=$0(e,r/100,n/100);this.value=`hsla(${e}, ${Math.round(o[1]*100)}%, ${Math.round(o[2]*100)}%, ${this.get("alpha")/100})`;break}case"hsv":{this.value=`hsva(${e}, ${Math.round(r)}%, ${Math.round(n)}%, ${this.get("alpha")/100})`;break}case"hex":{this.value=`${Y0(uu(e,r,n))}${rf(i*255/100)}`;break}default:{const{r:o,g:s,b:l}=uu(e,r,n);this.value=`rgba(${o}, ${s}, ${l}, ${this.get("alpha")/100})`}}else switch(a){case"hsl":{const o=$0(e,r/100,n/100);this.value=`hsl(${e}, ${Math.round(o[1]*100)}%, ${Math.round(o[2]*100)}%)`;break}case"hsv":{this.value=`hsv(${e}, ${Math.round(r)}%, ${Math.round(n)}%)`;break}case"rgb":{const{r:o,g:s,b:l}=uu(e,r,n);this.value=`rgb(${o}, ${s}, ${l})`;break}default:this.value=Y0(uu(e,r,n))}}};const DR=he({props:{colors:{type:Array,required:!0},color:{type:Object,required:!0},enableAlpha:{type:Boolean,required:!0}},setup(t){const e=at("color-predefine"),{currentColor:r}=vt(DS),n=ge(a(t.colors,t.color));Ae(()=>r.value,o=>{const s=new $u;s.fromString(o),n.value.forEach(l=>{l.selected=s.compare(l)})}),bx(()=>{n.value=a(t.colors,t.color)});function i(o){t.color.fromString(t.colors[o])}function a(o,s){return o.map(l=>{const f=new $u;return f.enableAlpha=t.enableAlpha,f.format="rgba",f.fromString(l),f.selected=f.value===s.value,f})}return{rgbaColors:n,handleSelect:i,ns:e}}});function RR(t,e,r,n,i,a){return ie(),fe("div",{class:de(t.ns.b())},[re("div",{class:de(t.ns.e("colors"))},[(ie(!0),fe($t,null,wi(t.rgbaColors,(o,s)=>(ie(),fe("div",{key:t.colors[s],class:de([t.ns.e("color-selector"),t.ns.is("alpha",o._alpha<100),{selected:o.selected}]),onClick:l=>t.handleSelect(s)},[re("div",{style:kt({backgroundColor:o.value})},null,4)],10,["onClick"]))),128))],2)],2)}var OR=st(DR,[["render",RR],["__file","predefine.vue"]]);const FR=he({name:"ElSlPanel",props:{color:{type:Object,required:!0}},setup(t){const e=at("color-svpanel"),r=or(),n=ge(0),i=ge(0),a=ge("hsl(0, 100%, 50%)"),o=Z(()=>{const f=t.color.get("hue"),v=t.color.get("value");return{hue:f,value:v}});function s(){const f=t.color.get("saturation"),v=t.color.get("value"),d=r.vnode.el,{clientWidth:g,clientHeight:p}=d;i.value=f*g/100,n.value=(100-v)*p/100,a.value=`hsl(${t.color.get("hue")}, 100%, 50%)`}function l(f){const d=r.vnode.el.getBoundingClientRect(),{clientX:g,clientY:p}=Yg(f);let y=g-d.left,w=p-d.top;y=Math.max(0,y),y=Math.min(y,d.width),w=Math.max(0,w),w=Math.min(w,d.height),i.value=y,n.value=w,t.color.set({saturation:y/d.width*100,value:100-w/d.height*100})}return Ae(()=>o.value,()=>{s()}),Et(()=>{ll(r.vnode.el,{drag:f=>{l(f)},end:f=>{l(f)}}),s()}),{cursorTop:n,cursorLeft:i,background:a,colorValue:o,handleDrag:l,update:s,ns:e}}});function BR(t,e,r,n,i,a){return ie(),fe("div",{class:de(t.ns.b()),style:kt({backgroundColor:t.background})},[re("div",{class:de(t.ns.e("white"))},null,2),re("div",{class:de(t.ns.e("black"))},null,2),re("div",{class:de(t.ns.e("cursor")),style:kt({top:t.cursorTop+"px",left:t.cursorLeft+"px"})},[re("div")],6)],6)}var zR=st(FR,[["render",BR],["__file","sv-panel.vue"]]);const GR=he({name:"ElColorPicker"}),VR=he({...GR,props:MR,emits:LR,setup(t,{expose:e,emit:r}){const n=t,{t:i}=Ll(),a=at("color"),{formItem:o}=Ds(),s=Rs(),l=Os(),{inputId:f,isLabeledByFormItem:v}=Th(n,{formItemContext:o}),d=ge(),g=ge(),p=ge(),y=ge(),w=ge(),b=ge(),{isFocused:x,handleFocus:C,handleBlur:T}=jx(w,{beforeFocus(){return l.value},beforeBlur(me){var _e;return(_e=y.value)==null?void 0:_e.isFocusInsideContent(me)},afterBlur(){V(!1),J()}});let k=!0;const L=Jt(new $u({enableAlpha:n.showAlpha,format:n.colorFormat||"",value:n.modelValue})),M=ge(!1),N=ge(!1),R=ge(""),D=Z(()=>!n.modelValue&&!N.value?"transparent":H(L,n.showAlpha)),F=Z(()=>!n.modelValue&&!N.value?"":L.value),z=Z(()=>v.value?void 0:n.ariaLabel||i("el.colorpicker.defaultLabel")),G=Z(()=>v.value?o==null?void 0:o.labelId:void 0),q=Z(()=>[a.b("picker"),a.is("disabled",l.value),a.bm("picker",s.value),a.is("focused",x.value)]);function H(me,_e){if(!(me instanceof $u))throw new TypeError("color should be instance of _color Class");const{r:ne,g:B,b:nt}=me.toRgb();return _e?`rgba(${ne}, ${B}, ${nt}, ${me.get("alpha")/100})`:`rgb(${ne}, ${B}, ${nt})`}function V(me){M.value=me}const U=kf(V,100,{leading:!0});function W(){l.value||V(!0)}function Q(){U(!1),J()}function J(){Pt(()=>{n.modelValue?L.fromString(n.modelValue):(L.value="",Pt(()=>{N.value=!1}))})}function j(){l.value||(M.value&&J(),U(!M.value))}function pe(){L.fromString(R.value)}function ae(){const me=L.value;r(St,me),r("change",me),n.validateEvent&&(o==null||o.validate("change").catch(_e=>void 0)),U(!1),Pt(()=>{const _e=new $u({enableAlpha:n.showAlpha,format:n.colorFormat||"",value:n.modelValue});L.compare(_e)||J()})}function ce(){U(!1),r(St,null),r("change",null),n.modelValue!==null&&n.validateEvent&&(o==null||o.validate("change").catch(me=>void 0)),J()}function oe(){M.value&&(Q(),x.value&&Se())}function be(me){me.preventDefault(),me.stopPropagation(),V(!1),J()}function et(me){switch(me.code){case pt.enter:case pt.numpadEnter:case pt.space:me.preventDefault(),me.stopPropagation(),W(),b.value.focus();break;case pt.esc:be(me);break}}function Se(){w.value.focus()}function K(){w.value.blur()}return Et(()=>{n.modelValue&&(R.value=F.value)}),Ae(()=>n.modelValue,me=>{me?me&&me!==L.value&&(k=!1,L.fromString(me)):N.value=!1}),Ae(()=>[n.colorFormat,n.showAlpha],()=>{L.enableAlpha=n.showAlpha,L.format=n.colorFormat||L.format,L.doOnChange(),r(St,L.value)}),Ae(()=>F.value,me=>{R.value=me,k&&r("activeChange",me),k=!0}),Ae(()=>L.value,()=>{!n.modelValue&&!N.value&&(N.value=!0)}),Ae(()=>M.value,()=>{Pt(()=>{var me,_e,ne;(me=d.value)==null||me.update(),(_e=g.value)==null||_e.update(),(ne=p.value)==null||ne.update()})}),nn(DS,{currentColor:F}),e({color:L,show:W,hide:Q,focus:Se,blur:K}),(me,_e)=>(ie(),Ge(P(wS),{ref_key:"popper",ref:y,visible:M.value,"show-arrow":!1,"fallback-placements":["bottom","top","right","left"],offset:0,"gpu-acceleration":!1,"popper-class":[P(a).be("picker","panel"),P(a).b("dropdown"),me.popperClass],"stop-popper-mouse-event":!1,effect:"light",trigger:"click",teleported:me.teleported,transition:`${P(a).namespace.value}-zoom-in-top`,persistent:"",onHide:ne=>V(!1)},{content:Ne(()=>[Mt((ie(),fe("div",{onKeydown:eo(be,["esc"])},[re("div",{class:de(P(a).be("dropdown","main-wrapper"))},[Ee(IR,{ref_key:"hue",ref:d,class:"hue-slider",color:P(L),vertical:""},null,8,["color"]),Ee(zR,{ref_key:"sv",ref:g,color:P(L)},null,8,["color"])],2),me.showAlpha?(ie(),Ge(TR,{key:0,ref_key:"alpha",ref:p,color:P(L)},null,8,["color"])):Ve("v-if",!0),me.predefine?(ie(),Ge(OR,{key:1,ref:"predefine","enable-alpha":me.showAlpha,color:P(L),colors:me.predefine},null,8,["enable-alpha","color","colors"])):Ve("v-if",!0),re("div",{class:de(P(a).be("dropdown","btns"))},[re("span",{class:de(P(a).be("dropdown","value"))},[Ee(P(Qx),{ref_key:"inputRef",ref:b,modelValue:R.value,"onUpdate:modelValue":ne=>R.value=ne,"validate-event":!1,size:"small",onKeyup:eo(pe,["enter"]),onBlur:pe},null,8,["modelValue","onUpdate:modelValue","onKeyup"])],2),Ee(P(G0),{class:de(P(a).be("dropdown","link-btn")),text:"",size:"small",onClick:ce},{default:Ne(()=>[Un(At(P(i)("el.colorpicker.clear")),1)]),_:1},8,["class"]),Ee(P(G0),{plain:"",size:"small",class:de(P(a).be("dropdown","btn")),onClick:ae},{default:Ne(()=>[Un(At(P(i)("el.colorpicker.confirm")),1)]),_:1},8,["class"])],2)],40,["onKeydown"])),[[P(tR),oe,w.value]])]),default:Ne(()=>[re("div",Si({id:P(f),ref_key:"triggerRef",ref:w},me.$attrs,{class:P(q),role:"button","aria-label":P(z),"aria-labelledby":P(G),"aria-description":P(i)("el.colorpicker.description",{color:me.modelValue||""}),"aria-disabled":P(l),tabindex:P(l)?-1:me.tabindex,onKeydown:et,onFocus:P(C),onBlur:P(T)}),[P(l)?(ie(),fe("div",{key:0,class:de(P(a).be("picker","mask"))},null,2)):Ve("v-if",!0),re("div",{class:de(P(a).be("picker","trigger")),onClick:j},[re("span",{class:de([P(a).be("picker","color"),P(a).is("alpha",me.showAlpha)])},[re("span",{class:de(P(a).be("picker","color-inner")),style:kt({backgroundColor:P(D)})},[Mt(Ee(P(mr),{class:de([P(a).be("picker","icon"),P(a).is("icon-arrow-down")])},{default:Ne(()=>[Ee(P(Ux))]),_:1},8,["class"]),[[Ci,me.modelValue||N.value]]),Mt(Ee(P(mr),{class:de([P(a).be("picker","empty"),P(a).is("icon-close")])},{default:Ne(()=>[Ee(P(qx))]),_:1},8,["class"]),[[Ci,!me.modelValue&&!N.value]])],6)],2)],2)],16,["id","aria-label","aria-labelledby","aria-description","aria-disabled","tabindex","onFocus","onBlur"])]),_:1},8,["visible","popper-class","teleported","transition","onHide"]))}});var HR=st(VR,[["__file","color-picker.vue"]]);const $R=sn(HR),UR=100,YR=600,W0={beforeMount(t,e){const r=e.value,{interval:n=UR,delay:i=YR}=Gn(r)?{}:r;let a,o;const s=()=>Gn(r)?r():r.handler(),l=()=>{o&&(clearTimeout(o),o=void 0),a&&(clearInterval(a),a=void 0)};t.addEventListener("mousedown",f=>{f.button===0&&(l(),s(),document.addEventListener("mouseup",()=>l(),{once:!0}),o=setTimeout(()=>{a=setInterval(()=>{s()},n)},i))})}},qR=ot({id:{type:String,default:void 0},step:{type:Number,default:1},stepStrictly:Boolean,max:{type:Number,default:Number.POSITIVE_INFINITY},min:{type:Number,default:Number.NEGATIVE_INFINITY},modelValue:Number,readonly:Boolean,disabled:Boolean,size:ua,controls:{type:Boolean,default:!0},controlsPosition:{type:String,default:"",values:["","right"]},valueOnClear:{type:[String,Number,null],validator:t=>t===null||gt(t)||["min","max"].includes(t),default:null},name:String,placeholder:String,precision:{type:Number,validator:t=>t>=0&&t===Number.parseInt(`${t}`,10)},validateEvent:{type:Boolean,default:!0},...So(["ariaLabel"])}),WR={[pa]:(t,e)=>e!==t,blur:t=>t instanceof FocusEvent,focus:t=>t instanceof FocusEvent,[so]:t=>gt(t)||Dr(t),[St]:t=>gt(t)||Dr(t)},XR=he({name:"ElInputNumber"}),KR=he({...XR,props:qR,emits:WR,setup(t,{expose:e,emit:r}){const n=t,{t:i}=Ll(),a=at("input-number"),o=ge(),s=Jt({currentValue:n.modelValue,userInput:null}),{formItem:l}=Ds(),f=Z(()=>gt(n.modelValue)&&n.modelValue<=n.min),v=Z(()=>gt(n.modelValue)&&n.modelValue>=n.max),d=Z(()=>{const V=x(n.step);return ts(n.precision)?Math.max(x(n.modelValue),V):(V>n.precision,n.precision)}),g=Z(()=>n.controls&&n.controlsPosition==="right"),p=Rs(),y=Os(),w=Z(()=>{if(s.userInput!==null)return s.userInput;let V=s.currentValue;if(Dr(V))return"";if(gt(V)){if(Number.isNaN(V))return"";ts(n.precision)||(V=V.toFixed(n.precision))}return V}),b=(V,U)=>{if(ts(U)&&(U=d.value),U===0)return Math.round(V);let W=String(V);const Q=W.indexOf(".");if(Q===-1||!W.replace(".","").split("")[Q+U])return V;const pe=W.length;return W.charAt(pe-1)==="5"&&(W=`${W.slice(0,Math.max(0,pe-1))}6`),Number.parseFloat(Number(W).toFixed(U))},x=V=>{if(Dr(V))return 0;const U=V.toString(),W=U.indexOf(".");let Q=0;return W!==-1&&(Q=U.length-W-1),Q},C=(V,U=1)=>gt(V)?b(V+n.step*U):s.currentValue,T=()=>{if(n.readonly||y.value||v.value)return;const V=Number(w.value)||0,U=C(V);M(U),r(so,s.currentValue),q()},k=()=>{if(n.readonly||y.value||f.value)return;const V=Number(w.value)||0,U=C(V,-1);M(U),r(so,s.currentValue),q()},L=(V,U)=>{const{max:W,min:Q,step:J,precision:j,stepStrictly:pe,valueOnClear:ae}=n;W<Q&&Rx("InputNumber","min should not be greater than max.");let ce=Number(V);if(Dr(V)||Number.isNaN(ce))return null;if(V===""){if(ae===null)return null;ce=It(ae)?{min:Q,max:W}[ae]:ae}return pe&&(ce=b(Math.round(ce/J)*J,j),ce!==V&&U&&r(St,ce)),ts(j)||(ce=b(ce,j)),(ce>W||ce<Q)&&(ce=ce>W?W:Q,U&&r(St,ce)),ce},M=(V,U=!0)=>{var W;const Q=s.currentValue,J=L(V);if(!U){r(St,J);return}Q===J&&V||(s.userInput=null,r(St,J),Q!==J&&r(pa,J,Q),n.validateEvent&&((W=l==null?void 0:l.validate)==null||W.call(l,"change").catch(j=>void 0)),s.currentValue=J)},N=V=>{s.userInput=V;const U=V===""?null:Number(V);r(so,U),M(U,!1)},R=V=>{const U=V!==""?Number(V):"";(gt(U)&&!Number.isNaN(U)||V==="")&&M(U),q(),s.userInput=null},D=()=>{var V,U;(U=(V=o.value)==null?void 0:V.focus)==null||U.call(V)},F=()=>{var V,U;(U=(V=o.value)==null?void 0:V.blur)==null||U.call(V)},z=V=>{r("focus",V)},G=V=>{var U,W;s.userInput=null,Xx()&&s.currentValue===null&&((U=o.value)!=null&&U.input)&&(o.value.input.value=""),r("blur",V),n.validateEvent&&((W=l==null?void 0:l.validate)==null||W.call(l,"blur").catch(Q=>void 0))},q=()=>{s.currentValue!==n.modelValue&&(s.currentValue=n.modelValue)},H=V=>{document.activeElement===V.target&&V.preventDefault()};return Ae(()=>n.modelValue,(V,U)=>{const W=L(V,!0);s.userInput===null&&W!==U&&(s.currentValue=W)},{immediate:!0}),Et(()=>{var V;const{min:U,max:W,modelValue:Q}=n,J=(V=o.value)==null?void 0:V.input;if(J.setAttribute("role","spinbutton"),Number.isFinite(W)?J.setAttribute("aria-valuemax",String(W)):J.removeAttribute("aria-valuemax"),Number.isFinite(U)?J.setAttribute("aria-valuemin",String(U)):J.removeAttribute("aria-valuemin"),J.setAttribute("aria-valuenow",s.currentValue||s.currentValue===0?String(s.currentValue):""),J.setAttribute("aria-disabled",String(y.value)),!gt(Q)&&Q!=null){let j=Number(Q);Number.isNaN(j)&&(j=null),r(St,j)}J.addEventListener("wheel",H,{passive:!1})}),o2(()=>{var V,U;const W=(V=o.value)==null?void 0:V.input;W==null||W.setAttribute("aria-valuenow",`${(U=s.currentValue)!=null?U:""}`)}),e({focus:D,blur:F}),(V,U)=>(ie(),fe("div",{class:de([P(a).b(),P(a).m(P(p)),P(a).is("disabled",P(y)),P(a).is("without-controls",!V.controls),P(a).is("controls-right",P(g))]),onDragstart:xn(()=>{},["prevent"])},[V.controls?Mt((ie(),fe("span",{key:0,role:"button","aria-label":P(i)("el.inputNumber.decrease"),class:de([P(a).e("decrease"),P(a).is("disabled",P(f))]),onKeydown:eo(k,["enter"])},[Ze(V.$slots,"decrease-icon",{},()=>[Ee(P(mr),null,{default:Ne(()=>[P(g)?(ie(),Ge(P(Ux),{key:0})):(ie(),Ge(P(kP),{key:1}))]),_:1})])],42,["aria-label","onKeydown"])),[[P(W0),k]]):Ve("v-if",!0),V.controls?Mt((ie(),fe("span",{key:1,role:"button","aria-label":P(i)("el.inputNumber.increase"),class:de([P(a).e("increase"),P(a).is("disabled",P(v))]),onKeydown:eo(T,["enter"])},[Ze(V.$slots,"increase-icon",{},()=>[Ee(P(mr),null,{default:Ne(()=>[P(g)?(ie(),Ge(P(dP),{key:0})):(ie(),Ge(P(MP),{key:1}))]),_:1})])],42,["aria-label","onKeydown"])),[[P(W0),T]]):Ve("v-if",!0),Ee(P(Qx),{id:V.id,ref_key:"input",ref:o,type:"number",step:V.step,"model-value":P(w),placeholder:V.placeholder,readonly:V.readonly,disabled:P(y),size:P(p),max:V.max,min:V.min,name:V.name,"aria-label":V.ariaLabel,"validate-event":!1,onKeydown:[eo(xn(T,["prevent"]),["up"]),eo(xn(k,["prevent"]),["down"])],onBlur:G,onFocus:z,onInput:N,onChange:R},s2({_:2},[V.$slots.prefix?{name:"prefix",fn:Ne(()=>[Ze(V.$slots,"prefix")])}:void 0,V.$slots.suffix?{name:"suffix",fn:Ne(()=>[Ze(V.$slots,"suffix")])}:void 0]),1032,["id","step","model-value","placeholder","readonly","disabled","size","max","min","name","aria-label","onKeydown"])],42,["onDragstart"]))}});var ZR=st(KR,[["__file","input-number.vue"]]);const Dl=sn(ZR),RS=Symbol("sliderContextKey"),jR=ot({modelValue:{type:Fe([Number,Array]),default:0},id:{type:String,default:void 0},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},showInput:Boolean,showInputControls:{type:Boolean,default:!0},size:ua,inputSize:ua,showStops:Boolean,showTooltip:{type:Boolean,default:!0},formatTooltip:{type:Fe(Function),default:void 0},disabled:Boolean,range:Boolean,vertical:Boolean,height:String,debounce:{type:Number,default:300},rangeStartLabel:{type:String,default:void 0},rangeEndLabel:{type:String,default:void 0},formatValueText:{type:Fe(Function),default:void 0},tooltipClass:{type:String,default:void 0},placement:{type:String,values:Nl,default:"top"},marks:{type:Fe(Object)},validateEvent:{type:Boolean,default:!0},...So(["ariaLabel"])}),Av=t=>gt(t)||ta(t)&&t.every(gt),QR={[St]:Av,[so]:Av,[pa]:Av},JR=ot({modelValue:{type:Number,default:0},vertical:Boolean,tooltipClass:String,placement:{type:String,values:Nl,default:"top"}}),eO={[St]:t=>gt(t)},tO=(t,e,r)=>{const n=ge(),i=ge(!1),a=Z(()=>e.value instanceof Function),o=Z(()=>a.value&&e.value(t.modelValue)||t.modelValue),s=kf(()=>{r.value&&(i.value=!0)},50),l=kf(()=>{r.value&&(i.value=!1)},50);return{tooltip:n,tooltipVisible:i,formatValue:o,displayTooltip:s,hideTooltip:l}},rO=(t,e,r)=>{const{disabled:n,min:i,max:a,step:o,showTooltip:s,precision:l,sliderSize:f,formatTooltip:v,emitChange:d,resetSize:g,updateDragging:p}=vt(RS),{tooltip:y,tooltipVisible:w,formatValue:b,displayTooltip:x,hideTooltip:C}=tO(t,v,s),T=ge(),k=Z(()=>`${(t.modelValue-i.value)/(a.value-i.value)*100}%`),L=Z(()=>t.vertical?{bottom:k.value}:{left:k.value}),M=()=>{e.hovering=!0,x()},N=()=>{e.hovering=!1,e.dragging||C()},R=ae=>{n.value||(ae.preventDefault(),Q(ae),window.addEventListener("mousemove",J),window.addEventListener("touchmove",J),window.addEventListener("mouseup",j),window.addEventListener("touchend",j),window.addEventListener("contextmenu",j),T.value.focus())},D=ae=>{n.value||(e.newPosition=Number.parseFloat(k.value)+ae/(a.value-i.value)*100,pe(e.newPosition),d())},F=()=>{D(-o.value)},z=()=>{D(o.value)},G=()=>{D(-o.value*4)},q=()=>{D(o.value*4)},H=()=>{n.value||(pe(0),d())},V=()=>{n.value||(pe(100),d())},U=ae=>{let ce=!0;switch(ae.code){case pt.left:case pt.down:F();break;case pt.right:case pt.up:z();break;case pt.home:H();break;case pt.end:V();break;case pt.pageDown:G();break;case pt.pageUp:q();break;default:ce=!1;break}ce&&ae.preventDefault()},W=ae=>{let ce,oe;return ae.type.startsWith("touch")?(oe=ae.touches[0].clientY,ce=ae.touches[0].clientX):(oe=ae.clientY,ce=ae.clientX),{clientX:ce,clientY:oe}},Q=ae=>{e.dragging=!0,e.isClick=!0;const{clientX:ce,clientY:oe}=W(ae);t.vertical?e.startY=oe:e.startX=ce,e.startPosition=Number.parseFloat(k.value),e.newPosition=e.startPosition},J=ae=>{if(e.dragging){e.isClick=!1,x(),g();let ce;const{clientX:oe,clientY:be}=W(ae);t.vertical?(e.currentY=be,ce=(e.startY-e.currentY)/f.value*100):(e.currentX=oe,ce=(e.currentX-e.startX)/f.value*100),e.newPosition=e.startPosition+ce,pe(e.newPosition)}},j=()=>{e.dragging&&(setTimeout(()=>{e.dragging=!1,e.hovering||C(),e.isClick||pe(e.newPosition),d()},0),window.removeEventListener("mousemove",J),window.removeEventListener("touchmove",J),window.removeEventListener("mouseup",j),window.removeEventListener("touchend",j),window.removeEventListener("contextmenu",j))},pe=async ae=>{if(ae===null||Number.isNaN(+ae))return;ae<0?ae=0:ae>100&&(ae=100);const ce=100/((a.value-i.value)/o.value);let be=Math.round(ae/ce)*ce*(a.value-i.value)*.01+i.value;be=Number.parseFloat(be.toFixed(l.value)),be!==t.modelValue&&r(St,be),!e.dragging&&t.modelValue!==e.oldValue&&(e.oldValue=t.modelValue),await Pt(),e.dragging&&x(),y.value.updatePopper()};return Ae(()=>e.dragging,ae=>{p(ae)}),Sn(T,"touchstart",R,{passive:!1}),{disabled:n,button:T,tooltip:y,tooltipVisible:w,showTooltip:s,wrapperStyle:L,formatValue:b,handleMouseEnter:M,handleMouseLeave:N,onButtonDown:R,onKeyDown:U,setPosition:pe}},nO=he({name:"ElSliderButton"}),iO=he({...nO,props:JR,emits:eO,setup(t,{expose:e,emit:r}){const n=t,i=at("slider"),a=Jt({hovering:!1,dragging:!1,isClick:!1,startX:0,currentX:0,startY:0,currentY:0,startPosition:0,newPosition:0,oldValue:n.modelValue}),{disabled:o,button:s,tooltip:l,showTooltip:f,tooltipVisible:v,wrapperStyle:d,formatValue:g,handleMouseEnter:p,handleMouseLeave:y,onButtonDown:w,onKeyDown:b,setPosition:x}=rO(n,a,r),{hovering:C,dragging:T}=al(a);return e({onButtonDown:w,onKeyDown:b,setPosition:x,hovering:C,dragging:T}),(k,L)=>(ie(),fe("div",{ref_key:"button",ref:s,class:de([P(i).e("button-wrapper"),{hover:P(C),dragging:P(T)}]),style:kt(P(d)),tabindex:P(o)?-1:0,onMouseenter:P(p),onMouseleave:P(y),onMousedown:P(w),onFocus:P(p),onBlur:P(y),onKeydown:P(b)},[Ee(P(wS),{ref_key:"tooltip",ref:l,visible:P(v),placement:k.placement,"fallback-placements":["top","bottom","right","left"],"stop-popper-mouse-event":!1,"popper-class":k.tooltipClass,disabled:!P(f),persistent:P(f)},{content:Ne(()=>[re("span",null,At(P(g)),1)]),default:Ne(()=>[re("div",{class:de([P(i).e("button"),{hover:P(C),dragging:P(T)}])},null,2)]),_:1},8,["visible","placement","popper-class","disabled","persistent"])],46,["tabindex","onMouseenter","onMouseleave","onMousedown","onFocus","onBlur","onKeydown"]))}});var X0=st(iO,[["__file","button.vue"]]);const aO=ot({mark:{type:Fe([String,Object]),default:void 0}});var oO=he({name:"ElSliderMarker",props:aO,setup(t){const e=at("slider"),r=Z(()=>It(t.mark)?t.mark:t.mark.label),n=Z(()=>It(t.mark)?void 0:t.mark.style);return()=>Zi("div",{class:e.e("marks-text"),style:n.value},r.value)}});const sO=(t,e,r)=>{const{form:n,formItem:i}=Ds(),a=_i(),o=ge(),s=ge(),l={firstButton:o,secondButton:s},f=Z(()=>t.disabled||(n==null?void 0:n.disabled)||!1),v=Z(()=>Math.min(e.firstValue,e.secondValue)),d=Z(()=>Math.max(e.firstValue,e.secondValue)),g=Z(()=>t.range?`${100*(d.value-v.value)/(t.max-t.min)}%`:`${100*(e.firstValue-t.min)/(t.max-t.min)}%`),p=Z(()=>t.range?`${100*(v.value-t.min)/(t.max-t.min)}%`:"0%"),y=Z(()=>t.vertical?{height:t.height}:{}),w=Z(()=>t.vertical?{height:g.value,bottom:p.value}:{width:g.value,left:p.value}),b=()=>{a.value&&(e.sliderSize=a.value[`client${t.vertical?"Height":"Width"}`])},x=G=>{const q=t.min+G*(t.max-t.min)/100;if(!t.range)return o;let H;return Math.abs(v.value-q)<Math.abs(d.value-q)?H=e.firstValue<e.secondValue?"firstButton":"secondButton":H=e.firstValue>e.secondValue?"firstButton":"secondButton",l[H]},C=G=>{const q=x(G);return q.value.setPosition(G),q},T=G=>{e.firstValue=G??t.min,L(t.range?[v.value,d.value]:G??t.min)},k=G=>{e.secondValue=G,t.range&&L([v.value,d.value])},L=G=>{r(St,G),r(so,G)},M=async()=>{await Pt(),r(pa,t.range?[v.value,d.value]:t.modelValue)},N=G=>{var q,H,V,U,W,Q;if(f.value||e.dragging)return;b();let J=0;if(t.vertical){const j=(V=(H=(q=G.touches)==null?void 0:q.item(0))==null?void 0:H.clientY)!=null?V:G.clientY;J=(a.value.getBoundingClientRect().bottom-j)/e.sliderSize*100}else{const j=(Q=(W=(U=G.touches)==null?void 0:U.item(0))==null?void 0:W.clientX)!=null?Q:G.clientX,pe=a.value.getBoundingClientRect().left;J=(j-pe)/e.sliderSize*100}if(!(J<0||J>100))return C(J)};return{elFormItem:i,slider:a,firstButton:o,secondButton:s,sliderDisabled:f,minValue:v,maxValue:d,runwayStyle:y,barStyle:w,resetSize:b,setPosition:C,emitChange:M,onSliderWrapperPrevent:G=>{var q,H;((q=l.firstButton.value)!=null&&q.dragging||(H=l.secondButton.value)!=null&&H.dragging)&&G.preventDefault()},onSliderClick:G=>{N(G)&&M()},onSliderDown:async G=>{const q=N(G);q&&(await Pt(),q.value.onButtonDown(G))},onSliderMarkerDown:G=>{f.value||e.dragging||C(G)},setFirstValue:T,setSecondValue:k}},uO=(t,e,r,n)=>({stops:Z(()=>{if(!t.showStops||t.min>t.max)return[];if(t.step===0)return[];const o=(t.max-t.min)/t.step,s=100*t.step/(t.max-t.min),l=Array.from({length:o-1}).map((f,v)=>(v+1)*s);return t.range?l.filter(f=>f<100*(r.value-t.min)/(t.max-t.min)||f>100*(n.value-t.min)/(t.max-t.min)):l.filter(f=>f>100*(e.firstValue-t.min)/(t.max-t.min))}),getStopStyle:o=>t.vertical?{bottom:`${o}%`}:{left:`${o}%`}}),lO=t=>Z(()=>t.marks?Object.keys(t.marks).map(Number.parseFloat).sort((r,n)=>r-n).filter(r=>r<=t.max&&r>=t.min).map(r=>({point:r,position:(r-t.min)*100/(t.max-t.min),mark:t.marks[r]})):[]),cO=(t,e,r,n,i,a)=>{const o=f=>{i(St,f),i(so,f)},s=()=>t.range?![r.value,n.value].every((f,v)=>f===e.oldValue[v]):t.modelValue!==e.oldValue,l=()=>{var f,v;t.min>t.max&&Rx("Slider","min should not be greater than max.");const d=t.modelValue;t.range&&ta(d)?d[1]<t.min?o([t.min,t.min]):d[0]>t.max?o([t.max,t.max]):d[0]<t.min?o([t.min,d[1]]):d[1]>t.max?o([d[0],t.max]):(e.firstValue=d[0],e.secondValue=d[1],s()&&(t.validateEvent&&((f=a==null?void 0:a.validate)==null||f.call(a,"change").catch(g=>void 0)),e.oldValue=d.slice())):!t.range&&gt(d)&&!Number.isNaN(d)&&(d<t.min?o(t.min):d>t.max?o(t.max):(e.firstValue=d,s()&&(t.validateEvent&&((v=a==null?void 0:a.validate)==null||v.call(a,"change").catch(g=>void 0)),e.oldValue=d)))};l(),Ae(()=>e.dragging,f=>{f||l()}),Ae(()=>t.modelValue,(f,v)=>{e.dragging||ta(f)&&ta(v)&&f.every((d,g)=>d===v[g])&&e.firstValue===f[0]&&e.secondValue===f[1]||l()},{deep:!0}),Ae(()=>[t.min,t.max],()=>{l()})},fO=(t,e,r)=>{const n=ge();return Et(async()=>{t.range?(ta(t.modelValue)?(e.firstValue=Math.max(t.min,t.modelValue[0]),e.secondValue=Math.min(t.max,t.modelValue[1])):(e.firstValue=t.min,e.secondValue=t.max),e.oldValue=[e.firstValue,e.secondValue]):(!gt(t.modelValue)||Number.isNaN(t.modelValue)?e.firstValue=t.min:e.firstValue=Math.min(t.max,Math.max(t.min,t.modelValue)),e.oldValue=e.firstValue),Sn(window,"resize",r),await Pt(),r()}),{sliderWrapper:n}},hO=he({name:"ElSlider"}),vO=he({...hO,props:jR,emits:QR,setup(t,{expose:e,emit:r}){const n=t,i=at("slider"),{t:a}=Ll(),o=Jt({firstValue:0,secondValue:0,oldValue:0,dragging:!1,sliderSize:1}),{elFormItem:s,slider:l,firstButton:f,secondButton:v,sliderDisabled:d,minValue:g,maxValue:p,runwayStyle:y,barStyle:w,resetSize:b,emitChange:x,onSliderWrapperPrevent:C,onSliderClick:T,onSliderDown:k,onSliderMarkerDown:L,setFirstValue:M,setSecondValue:N}=sO(n,o,r),{stops:R,getStopStyle:D}=uO(n,o,g,p),{inputId:F,isLabeledByFormItem:z}=Th(n,{formItemContext:s}),G=Rs(),q=Z(()=>n.inputSize||G.value),H=Z(()=>n.ariaLabel||a("el.slider.defaultLabel",{min:n.min,max:n.max})),V=Z(()=>n.range?n.rangeStartLabel||a("el.slider.defaultRangeStartLabel"):H.value),U=Z(()=>n.formatValueText?n.formatValueText(ce.value):`${ce.value}`),W=Z(()=>n.rangeEndLabel||a("el.slider.defaultRangeEndLabel")),Q=Z(()=>n.formatValueText?n.formatValueText(oe.value):`${oe.value}`),J=Z(()=>[i.b(),i.m(G.value),i.is("vertical",n.vertical),{[i.m("with-input")]:n.showInput}]),j=lO(n);cO(n,o,g,p,r,s);const pe=Z(()=>{const Se=[n.min,n.max,n.step].map(K=>{const me=`${K}`.split(".")[1];return me?me.length:0});return Math.max.apply(null,Se)}),{sliderWrapper:ae}=fO(n,o,b),{firstValue:ce,secondValue:oe,sliderSize:be}=al(o),et=Se=>{o.dragging=Se};return Sn(ae,"touchstart",C,{passive:!1}),Sn(ae,"touchmove",C,{passive:!1}),nn(RS,{...al(n),sliderSize:be,disabled:d,precision:pe,emitChange:x,resetSize:b,updateDragging:et}),e({onSliderClick:T}),(Se,K)=>{var me,_e;return ie(),fe("div",{id:Se.range?P(F):void 0,ref_key:"sliderWrapper",ref:ae,class:de(P(J)),role:Se.range?"group":void 0,"aria-label":Se.range&&!P(z)?P(H):void 0,"aria-labelledby":Se.range&&P(z)?(me=P(s))==null?void 0:me.labelId:void 0},[re("div",{ref_key:"slider",ref:l,class:de([P(i).e("runway"),{"show-input":Se.showInput&&!Se.range},P(i).is("disabled",P(d))]),style:kt(P(y)),onMousedown:P(k),onTouchstartPassive:P(k)},[re("div",{class:de(P(i).e("bar")),style:kt(P(w))},null,6),Ee(X0,{id:Se.range?void 0:P(F),ref_key:"firstButton",ref:f,"model-value":P(ce),vertical:Se.vertical,"tooltip-class":Se.tooltipClass,placement:Se.placement,role:"slider","aria-label":Se.range||!P(z)?P(V):void 0,"aria-labelledby":!Se.range&&P(z)?(_e=P(s))==null?void 0:_e.labelId:void 0,"aria-valuemin":Se.min,"aria-valuemax":Se.range?P(oe):Se.max,"aria-valuenow":P(ce),"aria-valuetext":P(U),"aria-orientation":Se.vertical?"vertical":"horizontal","aria-disabled":P(d),"onUpdate:modelValue":P(M)},null,8,["id","model-value","vertical","tooltip-class","placement","aria-label","aria-labelledby","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"]),Se.range?(ie(),Ge(X0,{key:0,ref_key:"secondButton",ref:v,"model-value":P(oe),vertical:Se.vertical,"tooltip-class":Se.tooltipClass,placement:Se.placement,role:"slider","aria-label":P(W),"aria-valuemin":P(ce),"aria-valuemax":Se.max,"aria-valuenow":P(oe),"aria-valuetext":P(Q),"aria-orientation":Se.vertical?"vertical":"horizontal","aria-disabled":P(d),"onUpdate:modelValue":P(N)},null,8,["model-value","vertical","tooltip-class","placement","aria-label","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"])):Ve("v-if",!0),Se.showStops?(ie(),fe("div",{key:1},[(ie(!0),fe($t,null,wi(P(R),(ne,B)=>(ie(),fe("div",{key:B,class:de(P(i).e("stop")),style:kt(P(D)(ne))},null,6))),128))])):Ve("v-if",!0),P(j).length>0?(ie(),fe($t,{key:2},[re("div",null,[(ie(!0),fe($t,null,wi(P(j),(ne,B)=>(ie(),fe("div",{key:B,style:kt(P(D)(ne.position)),class:de([P(i).e("stop"),P(i).e("marks-stop")])},null,6))),128))]),re("div",{class:de(P(i).e("marks"))},[(ie(!0),fe($t,null,wi(P(j),(ne,B)=>(ie(),Ge(P(oO),{key:B,mark:ne.mark,style:kt(P(D)(ne.position)),onMousedown:xn(nt=>P(L)(ne.position),["stop"])},null,8,["mark","style","onMousedown"]))),128))],2)],64)):Ve("v-if",!0)],46,["onMousedown","onTouchstartPassive"]),Se.showInput&&!Se.range?(ie(),Ge(P(Dl),{key:0,ref:"input","model-value":P(ce),class:de(P(i).e("input")),step:Se.step,disabled:P(d),controls:Se.showInputControls,min:Se.min,max:Se.max,precision:P(pe),debounce:Se.debounce,size:P(q),"onUpdate:modelValue":P(M),onChange:P(x)},null,8,["model-value","class","step","disabled","controls","min","max","precision","debounce","size","onUpdate:modelValue","onChange"])):Ve("v-if",!0)],10,["id","role","aria-label","aria-labelledby"])}}});var dO=st(vO,[["__file","slider.vue"]]);const pO=sn(dO);function gO(t){let e;const r=ge(!1),n=Jt({...t,originalPosition:"",originalOverflow:"",visible:!1});function i(g){n.text=g}function a(){const g=n.parent,p=d.ns;if(!g.vLoadingAddClassList){let y=g.getAttribute("loading-number");y=Number.parseInt(y)-1,y?g.setAttribute("loading-number",y.toString()):(Pf(g,p.bm("parent","relative")),g.removeAttribute("loading-number")),Pf(g,p.bm("parent","hidden"))}o(),v.unmount()}function o(){var g,p;(p=(g=d.$el)==null?void 0:g.parentNode)==null||p.removeChild(d.$el)}function s(){var g;t.beforeClose&&!t.beforeClose()||(r.value=!0,clearTimeout(e),e=setTimeout(l,400),n.visible=!1,(g=t.closed)==null||g.call(t))}function l(){if(!r.value)return;const g=n.parent;r.value=!1,g.vLoadingAddClassList=void 0,a()}const f=he({name:"ElLoading",setup(g,{expose:p}){const{ns:y,zIndex:w}=Hx("loading");return p({ns:y,zIndex:w}),()=>{const b=n.spinner||n.svg,x=Zi("svg",{class:"circular",viewBox:n.svgViewBox?n.svgViewBox:"0 0 50 50",...b?{innerHTML:b}:{}},[Zi("circle",{class:"path",cx:"25",cy:"25",r:"20",fill:"none"})]),C=n.text?Zi("p",{class:y.b("text")},[n.text]):void 0;return Zi(gh,{name:y.b("fade"),onAfterLeave:l},{default:Ne(()=>[Mt(Ee("div",{style:{backgroundColor:n.background||""},class:[y.b("mask"),n.customClass,n.fullscreen?"is-fullscreen":""]},[Zi("div",{class:y.b("spinner")},[x,C])]),[[Ci,n.visible]])])})}}}),v=u2(f),d=v.mount(document.createElement("div"));return{...al(n),setText:i,removeElLoadingChild:o,close:s,handleAfterLeave:l,vm:d,get $el(){return d.$el}}}let nc;const mO=function(t={}){if(!Gt)return;const e=yO(t);if(e.fullscreen&&nc)return nc;const r=gO({...e,closed:()=>{var i;(i=e.closed)==null||i.call(e),e.fullscreen&&(nc=void 0)}});_O(e,e.parent,r),K0(e,e.parent,r),e.parent.vLoadingAddClassList=()=>K0(e,e.parent,r);let n=e.parent.getAttribute("loading-number");return n?n=`${Number.parseInt(n)+1}`:n="1",e.parent.setAttribute("loading-number",n),e.parent.appendChild(r.$el),Pt(()=>r.visible.value=e.visible),e.fullscreen&&(nc=r),r},yO=t=>{var e,r,n,i;let a;return It(t.target)?a=(e=document.querySelector(t.target))!=null?e:document.body:a=t.target||document.body,{parent:a===document.body||t.body?document.body:a,background:t.background||"",svg:t.svg||"",svgViewBox:t.svgViewBox||"",spinner:t.spinner||!1,text:t.text||"",fullscreen:a===document.body&&((r=t.fullscreen)!=null?r:!0),lock:(n=t.lock)!=null?n:!1,customClass:t.customClass||"",visible:(i=t.visible)!=null?i:!0,beforeClose:t.beforeClose,closed:t.closed,target:a}},_O=async(t,e,r)=>{const{nextZIndex:n}=r.vm.zIndex||r.vm._.exposed.zIndex,i={};if(t.fullscreen)r.originalPosition.value=ou(document.body,"position"),r.originalOverflow.value=ou(document.body,"overflow"),i.zIndex=n();else if(t.parent===document.body){r.originalPosition.value=ou(document.body,"position"),await Pt();for(const a of["top","left"]){const o=a==="top"?"scrollTop":"scrollLeft";i[a]=`${t.target.getBoundingClientRect()[a]+document.body[o]+document.documentElement[o]-Number.parseInt(ou(document.body,`margin-${a}`),10)}px`}for(const a of["height","width"])i[a]=`${t.target.getBoundingClientRect()[a]}px`}else r.originalPosition.value=ou(e,"position");for(const[a,o]of Object.entries(i))r.$el.style[a]=o},K0=(t,e,r)=>{const n=r.vm.ns||r.vm._.exposed.ns;["absolute","fixed","sticky"].includes(r.originalPosition.value)?Pf(e,n.bm("parent","relative")):v0(e,n.bm("parent","relative")),t.fullscreen&&t.lock?v0(e,n.bm("parent","hidden")):Pf(e,n.bm("parent","hidden"))},nf=Symbol("ElLoading"),Z0=(t,e)=>{var r,n,i,a;const o=e.instance,s=g=>ho(e.value)?e.value[g]:void 0,l=g=>{const p=It(g)&&(o==null?void 0:o[g])||g;return p&&ge(p)},f=g=>l(s(g)||t.getAttribute(`element-loading-${l2(g)}`)),v=(r=s("fullscreen"))!=null?r:e.modifiers.fullscreen,d={text:f("text"),svg:f("svg"),svgViewBox:f("svgViewBox"),spinner:f("spinner"),background:f("background"),customClass:f("customClass"),fullscreen:v,target:(n=s("target"))!=null?n:v?void 0:t,body:(i=s("body"))!=null?i:e.modifiers.body,lock:(a=s("lock"))!=null?a:e.modifiers.lock};t[nf]={options:d,instance:mO(d)}},wO=(t,e)=>{for(const r of Object.keys(e))ph(e[r])&&(e[r].value=t[r])},Fs={mounted(t,e){e.value&&Z0(t,e)},updated(t,e){const r=t[nf];e.oldValue!==e.value&&(e.value&&!e.oldValue?Z0(t,e):e.value&&e.oldValue?ho(e.value)&&wO(e.value,r.options):r==null||r.instance.close())},unmounted(t){var e;(e=t[nf])==null||e.instance.close(),t[nf]=null}},OS=["success","info","warning","error"],bO=ot({customClass:{type:String,default:""},dangerouslyUseHTMLString:Boolean,duration:{type:Number,default:4500},icon:{type:ms},id:{type:String,default:""},message:{type:Fe([String,Object,Function]),default:""},offset:{type:Number,default:0},onClick:{type:Fe(Function),default:()=>{}},onClose:{type:Fe(Function),required:!0},position:{type:String,values:["top-right","top-left","bottom-right","bottom-left"],default:"top-right"},showClose:{type:Boolean,default:!0},title:{type:String,default:""},type:{type:String,values:[...OS,""],default:""},zIndex:Number}),xO={destroy:()=>!0},SO=he({name:"ElNotification"}),CO=he({...SO,props:bO,emits:xO,setup(t,{expose:e}){const r=t,{ns:n,zIndex:i}=Hx("notification"),{nextZIndex:a,currentZIndex:o}=i,{Close:s}=OP,l=ge(!1);let f;const v=Z(()=>{const T=r.type;return T&&d0[r.type]?n.m(T):""}),d=Z(()=>r.type&&d0[r.type]||r.icon),g=Z(()=>r.position.endsWith("right")?"right":"left"),p=Z(()=>r.position.startsWith("top")?"top":"bottom"),y=Z(()=>{var T;return{[p.value]:`${r.offset}px`,zIndex:(T=r.zIndex)!=null?T:o.value}});function w(){r.duration>0&&({stop:f}=OL(()=>{l.value&&x()},r.duration))}function b(){f==null||f()}function x(){l.value=!1}function C({code:T}){T===pt.delete||T===pt.backspace?b():T===pt.esc?l.value&&x():w()}return Et(()=>{w(),a(),l.value=!0}),Sn(document,"keydown",C),e({visible:l,close:x}),(T,k)=>(ie(),Ge(gh,{name:P(n).b("fade"),onBeforeLeave:T.onClose,onAfterLeave:L=>T.$emit("destroy"),persisted:""},{default:Ne(()=>[Mt(re("div",{id:T.id,class:de([P(n).b(),T.customClass,P(g)]),style:kt(P(y)),role:"alert",onMouseenter:b,onMouseleave:w,onClick:T.onClick},[P(d)?(ie(),Ge(P(mr),{key:0,class:de([P(n).e("icon"),P(v)])},{default:Ne(()=>[(ie(),Ge(gi(P(d))))]),_:1},8,["class"])):Ve("v-if",!0),re("div",{class:de(P(n).e("group"))},[re("h2",{class:de(P(n).e("title")),textContent:At(T.title)},null,10,["textContent"]),Mt(re("div",{class:de(P(n).e("content")),style:kt(T.title?void 0:{margin:0})},[Ze(T.$slots,"default",{},()=>[T.dangerouslyUseHTMLString?(ie(),fe($t,{key:1},[Ve(" Caution here, message could've been compromised, never use user's input as message "),re("p",{innerHTML:T.message},null,8,["innerHTML"])],2112)):(ie(),fe("p",{key:0},At(T.message),1))])],6),[[Ci,T.message]]),T.showClose?(ie(),Ge(P(mr),{key:0,class:de(P(n).e("closeBtn")),onClick:xn(x,["stop"])},{default:Ne(()=>[Ee(P(s))]),_:1},8,["class","onClick"])):Ve("v-if",!0)],2)],46,["id","onClick"]),[[Ci,l.value]])]),_:3},8,["name","onBeforeLeave","onAfterLeave"]))}});var TO=st(CO,[["__file","notification.vue"]]);const Df={"top-left":[],"top-right":[],"bottom-left":[],"bottom-right":[]},up=16;let EO=1;const Ss=function(t={},e){if(!Gt)return{close:()=>{}};(It(t)||rp(t))&&(t={message:t});const r=t.position||"top-right";let n=t.offset||0;Df[r].forEach(({vm:v})=>{var d;n+=(((d=v.el)==null?void 0:d.offsetHeight)||0)+up}),n+=up;const i=`notification_${EO++}`,a=t.onClose,o={...t,offset:n,id:i,onClose:()=>{kO(i,r,a)}};let s=document.body;Yn(t.appendTo)?s=t.appendTo:It(t.appendTo)&&(s=document.querySelector(t.appendTo)),Yn(s)||(s=document.body);const l=document.createElement("div"),f=Ee(TO,o,Gn(o.message)?o.message:rp(o.message)?()=>o.message:null);return f.appContext=ts(e)?Ss._context:e,f.props.onDestroy=()=>{gs(null,l)},gs(f,l),Df[r].push({vm:f}),s.appendChild(l.firstElementChild),{close:()=>{f.component.exposed.visible.value=!1}}};OS.forEach(t=>{Ss[t]=(e={},r)=>((It(e)||rp(e))&&(e={message:e}),Ss({...e,type:t},r))});function kO(t,e,r){const n=Df[e],i=n.findIndex(({vm:f})=>{var v;return((v=f.component)==null?void 0:v.props.id)===t});if(i===-1)return;const{vm:a}=n[i];if(!a)return;r==null||r(a);const o=a.el.offsetHeight,s=e.split("-")[0];n.splice(i,1);const l=n.length;if(!(l<1))for(let f=i;f<l;f++){const{el:v,component:d}=n[f].vm,g=Number.parseInt(v.style[s],10)-o-up;d.props.offset=g}}function IO(){for(const t of Object.values(Df))t.forEach(({vm:e})=>{e.component.exposed.visible.value=!1})}Ss.closeAll=IO;Ss._context=null;const la=aP(Ss,"$notify"),MO=c2("mapStore",{state:()=>({activeAnalyse:""}),getters:{getActiveAnalyse:t=>t.activeAnalyse},actions:{setActiveAnalyse(t){if(this.activeAnalyse===t){this.activeAnalyse="";return}this.activeAnalyse=t}}}),ic=MO(f2),LO={class:"dialog-header"},PO={class:"title"},NO={class:"dialog-body"},AO=["id"],DO=he({__name:"Dialog",props:{title:{type:[String],default:()=>""},width:{type:[Number,String],default:()=>"30vw"},height:{type:[Number,String],default:()=>"40vw"},left:{type:[Number,String],default:()=>"10vw"},right:{type:[Number,String],default:()=>0},top:{type:[Number,String],default:()=>"20vw"},bottom:{type:[Number,String],default:()=>0},component:{type:Object,required:!0}},emits:["close"],setup(t,{emit:e}){const r=e,n=t,i=ge(null),a=Z(()=>{const v={width:o(n.width),"min-height":o(n.height)};return n.right===0?v.left=o(n.left):v.right=o(n.right),n.bottom===0?v.top=o(n.top):v.bottom=o(n.bottom),v});function o(v){return typeof n.width=="string"?v:`${Number(v)}px`}const s=()=>{if(i.value){i.value.innerHTML="";const v=Zi(n.component,{});return gs(v,i.value)}};function l(){i.value&&gs(null,i.value)}function f(){r("close"),l()}return Et(()=>{s()}),Qt(()=>{l()}),(v,d)=>(ie(),fe("div",{class:"dialog",style:kt(a.value)},[re("div",LO,[re("span",PO,At(n.title),1),re("span",{class:"close",name:"close",size:15,onClick:f},"")]),re("div",NO,[re("div",{class:"dialog-conent",ref_key:"content",ref:i,id:"dialog-content-"+n.title},null,8,AO)])],4))}}),RO=Ps(DO,[["__scopeId","data-v-a4cc054d"]]);function OO(){function t(r){const n=document.createElement("div"),i=Zi(RO,r);return gs(i,n),document.body.appendChild(n.firstElementChild),console.log("create dialog"),n}function e(r){gs(null,r),r.remove(),console.log("remove dialog")}return{createDialog:t,clearDialog:e}}const FO={class:"models"},BO=["onClick"],lu=window.Cesium,zO=he({__name:"Model",setup(t){const e=Jt({models:[{name:"",url:"https://md-1301600412.cos.ap-nanjing.myqcloud.com/GIS/3dtile/shanghai/tileset.json",status:!1}]}),r=new WeakMap;async function n(a){try{if(a.status){const o=r.get(a);if(!o)return;window.viewer.scene.primitives.remove(o),r.delete(a),a.status=!1}else{const o=await lu.Cesium3DTileset.fromUrl(a.url);window.viewer.scene.primitives.add(o),window.viewer.zoomTo(o,new lu.HeadingPitchRange(0,lu.Math.toRadians(-90),3e3)),a.status=!0,r.set(a,o)}}catch(o){console.log(`Error loading tileset: ${o}`)}}function i(a){const o=r.get(a);!o||!a.status||window.viewer.zoomTo(o,new lu.HeadingPitchRange(0,lu.Math.toRadians(-90),3e3))}return(a,o)=>{const s=_g;return ie(),fe("ul",FO,[(ie(!0),fe($t,null,wi(e.models,(l,f)=>(ie(),fe("li",{key:f},[Ee(s,{name:l.status?"check-active":"check",size:15,onClick:v=>n(l)},null,8,["name","onClick"]),Mt(Ee(s,{name:"locate-active",size:20,onClick:v=>i(l)},null,8,["onClick"]),[[Ci,l.status]]),re("span",{class:de([l.status?"active":""]),onClick:v=>n(l)},At(l.name),11,BO)]))),128))])}}}),GO=Ps(zO,[["__scopeId","data-v-21c2e499"]]);var fr=63710088e-1,FS={centimeters:fr*100,centimetres:fr*100,degrees:360/(2*Math.PI),feet:fr*3.28084,inches:fr*39.37,kilometers:fr/1e3,kilometres:fr/1e3,meters:fr,metres:fr,miles:fr/1609.344,millimeters:fr*1e3,millimetres:fr*1e3,nauticalmiles:fr/1852,radians:1,yards:fr*1.0936};function Ei(t,e,r={}){const n={type:"Feature"};return(r.id===0||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=e||{},n.geometry=t,n}function Rl(t,e,r={}){if(!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");if(t.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!Q0(t[0])||!Q0(t[1]))throw new Error("coordinates must contain numbers");return Ei({type:"Point",coordinates:t},e,r)}function Ih(t,e,r={}){for(const i of t){if(i.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(i[i.length-1].length!==i[0].length)throw new Error("First and last Position are not equivalent.");for(let a=0;a<i[i.length-1].length;a++)if(i[i.length-1][a]!==i[0][a])throw new Error("First and last Position are not equivalent.")}return Ei({type:"Polygon",coordinates:t},e,r)}function BS(t,e,r={}){if(t.length<2)throw new Error("coordinates must be an array of two or more positions");return Ei({type:"LineString",coordinates:t},e,r)}function jn(t,e={}){const r={type:"FeatureCollection"};return e.id&&(r.id=e.id),e.bbox&&(r.bbox=e.bbox),r.features=t,r}function zS(t,e,r={}){return Ei({type:"MultiLineString",coordinates:t},e,r)}function qg(t,e="kilometers"){const r=FS[e];if(!r)throw new Error(e+" units is invalid");return t*r}function GS(t,e="kilometers"){const r=FS[e];if(!r)throw new Error(e+" units is invalid");return t/r}function ac(t){return t%360*Math.PI/180}function j0(t,e="kilometers",r="kilometers"){if(!(t>=0))throw new Error("length must be a positive number");return qg(GS(t,e),r)}function Q0(t){return!isNaN(t)&&t!==null&&!Array.isArray(t)}function lp(t){return t!==null&&typeof t=="object"&&!Array.isArray(t)}function Rf(t){if(!t)throw new Error("coord is required");if(!Array.isArray(t)){if(t.type==="Feature"&&t.geometry!==null&&t.geometry.type==="Point")return[...t.geometry.coordinates];if(t.type==="Point")return[...t.coordinates]}if(Array.isArray(t)&&t.length>=2&&!Array.isArray(t[0])&&!Array.isArray(t[1]))return[...t];throw new Error("coord must be GeoJSON Point or an Array of numbers")}function qi(t){if(Array.isArray(t))return t;if(t.type==="Feature"){if(t.geometry!==null)return t.geometry.coordinates}else if(t.coordinates)return t.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function VS(t,e,r){if(!t)throw new Error("No featureCollection passed");if(!r)throw new Error(".collectionOf() requires a name");if(!t||t.type!=="FeatureCollection")throw new Error("Invalid input to "+r+", FeatureCollection required");for(const n of t.features){if(!n||n.type!=="Feature"||!n.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!n.geometry||n.geometry.type!==e)throw new Error("Invalid input to "+r+": must be a "+e+", given "+n.geometry.type)}}function Cs(t){return t.type==="Feature"?t.geometry:t}function J0(t,e,r={}){var n=Rf(t),i=Rf(e),a=ac(i[1]-n[1]),o=ac(i[0]-n[0]),s=ac(n[1]),l=ac(i[1]),f=Math.pow(Math.sin(a/2),2)+Math.pow(Math.sin(o/2),2)*Math.cos(s)*Math.cos(l);return qg(2*Math.atan2(Math.sqrt(f),Math.sqrt(1-f)),r.units)}function Mh(t,e,r){if(t!==null)for(var n,i,a,o,s,l,f,v=0,d=0,g,p=t.type,y=p==="FeatureCollection",w=p==="Feature",b=y?t.features.length:1,x=0;x<b;x++){f=y?t.features[x].geometry:w?t.geometry:t,g=f?f.type==="GeometryCollection":!1,s=g?f.geometries.length:1;for(var C=0;C<s;C++){var T=0,k=0;if(o=g?f.geometries[C]:f,o!==null){l=o.coordinates;var L=o.type;switch(v=r&&(L==="Polygon"||L==="MultiPolygon")?1:0,L){case null:break;case"Point":if(e(l,d,x,T,k)===!1)return!1;d++,T++;break;case"LineString":case"MultiPoint":for(n=0;n<l.length;n++){if(e(l[n],d,x,T,k)===!1)return!1;d++,L==="MultiPoint"&&T++}L==="LineString"&&T++;break;case"Polygon":case"MultiLineString":for(n=0;n<l.length;n++){for(i=0;i<l[n].length-v;i++){if(e(l[n][i],d,x,T,k)===!1)return!1;d++}L==="MultiLineString"&&T++,L==="Polygon"&&k++}L==="Polygon"&&T++;break;case"MultiPolygon":for(n=0;n<l.length;n++){for(k=0,i=0;i<l[n].length;i++){for(a=0;a<l[n][i].length-v;a++){if(e(l[n][i][a],d,x,T,k)===!1)return!1;d++}k++}T++}break;case"GeometryCollection":for(n=0;n<o.geometries.length;n++)if(Mh(o.geometries[n],e,r)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function cp(t,e){if(t.type==="Feature")e(t,0);else if(t.type==="FeatureCollection")for(var r=0;r<t.features.length&&e(t.features[r],r)!==!1;r++);}function Wg(t,e){var r,n,i,a,o,s,l,f,v,d,g=0,p=t.type==="FeatureCollection",y=t.type==="Feature",w=p?t.features.length:1;for(r=0;r<w;r++){for(s=p?t.features[r].geometry:y?t.geometry:t,f=p?t.features[r].properties:y?t.properties:{},v=p?t.features[r].bbox:y?t.bbox:void 0,d=p?t.features[r].id:y?t.id:void 0,l=s?s.type==="GeometryCollection":!1,o=l?s.geometries.length:1,i=0;i<o;i++){if(a=l?s.geometries[i]:s,a===null){if(e(null,g,f,v,d)===!1)return!1;continue}switch(a.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(e(a,g,f,v,d)===!1)return!1;break}case"GeometryCollection":{for(n=0;n<a.geometries.length;n++)if(e(a.geometries[n],g,f,v,d)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}g++}}function Of(t,e){Wg(t,function(r,n,i,a,o){var s=r===null?null:r.type;switch(s){case null:case"Point":case"LineString":case"Polygon":return e(Ei(r,i,{bbox:a,id:o}),n,0)===!1?!1:void 0}var l;switch(s){case"MultiPoint":l="Point";break;case"MultiLineString":l="LineString";break;case"MultiPolygon":l="Polygon";break}for(var f=0;f<r.coordinates.length;f++){var v=r.coordinates[f],d={type:l,coordinates:v};if(e(Ei(d,i),n,f)===!1)return!1}})}function ca(t,e={}){if(t.bbox!=null&&e.recompute!==!0)return t.bbox;const r=[1/0,1/0,-1/0,-1/0];return Mh(t,n=>{r[0]>n[0]&&(r[0]=n[0]),r[1]>n[1]&&(r[1]=n[1]),r[2]<n[0]&&(r[2]=n[0]),r[3]<n[1]&&(r[3]=n[1])}),r}const bi=11102230246251565e-32,Wt=134217729,VO=(3+8*bi)*bi;function Dv(t,e,r,n,i){let a,o,s,l,f=e[0],v=n[0],d=0,g=0;v>f==v>-f?(a=f,f=e[++d]):(a=v,v=n[++g]);let p=0;if(d<t&&g<r)for(v>f==v>-f?(o=f+a,s=a-(o-f),f=e[++d]):(o=v+a,s=a-(o-v),v=n[++g]),a=o,s!==0&&(i[p++]=s);d<t&&g<r;)v>f==v>-f?(o=a+f,l=o-a,s=a-(o-l)+(f-l),f=e[++d]):(o=a+v,l=o-a,s=a-(o-l)+(v-l),v=n[++g]),a=o,s!==0&&(i[p++]=s);for(;d<t;)o=a+f,l=o-a,s=a-(o-l)+(f-l),f=e[++d],a=o,s!==0&&(i[p++]=s);for(;g<r;)o=a+v,l=o-a,s=a-(o-l)+(v-l),v=n[++g],a=o,s!==0&&(i[p++]=s);return(a!==0||p===0)&&(i[p++]=a),p}function HO(t,e){let r=e[0];for(let n=1;n<t;n++)r+=e[n];return r}function Ol(t){return new Float64Array(t)}const $O=(3+16*bi)*bi,UO=(2+12*bi)*bi,YO=(9+64*bi)*bi*bi,Oo=Ol(4),e_=Ol(8),t_=Ol(12),r_=Ol(16),tr=Ol(4);function qO(t,e,r,n,i,a,o){let s,l,f,v,d,g,p,y,w,b,x,C,T,k,L,M,N,R;const D=t-i,F=r-i,z=e-a,G=n-a;k=D*G,g=Wt*D,p=g-(g-D),y=D-p,g=Wt*G,w=g-(g-G),b=G-w,L=y*b-(k-p*w-y*w-p*b),M=z*F,g=Wt*z,p=g-(g-z),y=z-p,g=Wt*F,w=g-(g-F),b=F-w,N=y*b-(M-p*w-y*w-p*b),x=L-N,d=L-x,Oo[0]=L-(x+d)+(d-N),C=k+x,d=C-k,T=k-(C-d)+(x-d),x=T-M,d=T-x,Oo[1]=T-(x+d)+(d-M),R=C+x,d=R-C,Oo[2]=C-(R-d)+(x-d),Oo[3]=R;let q=HO(4,Oo),H=UO*o;if(q>=H||-q>=H||(d=t-D,s=t-(D+d)+(d-i),d=r-F,f=r-(F+d)+(d-i),d=e-z,l=e-(z+d)+(d-a),d=n-G,v=n-(G+d)+(d-a),s===0&&l===0&&f===0&&v===0)||(H=YO*o+VO*Math.abs(q),q+=D*v+G*s-(z*f+F*l),q>=H||-q>=H))return q;k=s*G,g=Wt*s,p=g-(g-s),y=s-p,g=Wt*G,w=g-(g-G),b=G-w,L=y*b-(k-p*w-y*w-p*b),M=l*F,g=Wt*l,p=g-(g-l),y=l-p,g=Wt*F,w=g-(g-F),b=F-w,N=y*b-(M-p*w-y*w-p*b),x=L-N,d=L-x,tr[0]=L-(x+d)+(d-N),C=k+x,d=C-k,T=k-(C-d)+(x-d),x=T-M,d=T-x,tr[1]=T-(x+d)+(d-M),R=C+x,d=R-C,tr[2]=C-(R-d)+(x-d),tr[3]=R;const V=Dv(4,Oo,4,tr,e_);k=D*v,g=Wt*D,p=g-(g-D),y=D-p,g=Wt*v,w=g-(g-v),b=v-w,L=y*b-(k-p*w-y*w-p*b),M=z*f,g=Wt*z,p=g-(g-z),y=z-p,g=Wt*f,w=g-(g-f),b=f-w,N=y*b-(M-p*w-y*w-p*b),x=L-N,d=L-x,tr[0]=L-(x+d)+(d-N),C=k+x,d=C-k,T=k-(C-d)+(x-d),x=T-M,d=T-x,tr[1]=T-(x+d)+(d-M),R=C+x,d=R-C,tr[2]=C-(R-d)+(x-d),tr[3]=R;const U=Dv(V,e_,4,tr,t_);k=s*v,g=Wt*s,p=g-(g-s),y=s-p,g=Wt*v,w=g-(g-v),b=v-w,L=y*b-(k-p*w-y*w-p*b),M=l*f,g=Wt*l,p=g-(g-l),y=l-p,g=Wt*f,w=g-(g-f),b=f-w,N=y*b-(M-p*w-y*w-p*b),x=L-N,d=L-x,tr[0]=L-(x+d)+(d-N),C=k+x,d=C-k,T=k-(C-d)+(x-d),x=T-M,d=T-x,tr[1]=T-(x+d)+(d-M),R=C+x,d=R-C,tr[2]=C-(R-d)+(x-d),tr[3]=R;const W=Dv(U,t_,4,tr,r_);return r_[W-1]}function WO(t,e,r,n,i,a){const o=(e-a)*(r-i),s=(t-i)*(n-a),l=o-s,f=Math.abs(o+s);return Math.abs(l)>=$O*f?l:-qO(t,e,r,n,i,a,f)}function XO(t,e){var r,n,i=0,a,o,s,l,f,v,d,g=t[0],p=t[1],y=e.length;for(r=0;r<y;r++){n=0;var w=e[r],b=w.length-1;if(v=w[0],v[0]!==w[b][0]&&v[1]!==w[b][1])throw new Error("First and last coordinates in a ring must be the same");for(o=v[0]-g,s=v[1]-p,n;n<b;n++){if(d=w[n+1],l=d[0]-g,f=d[1]-p,s===0&&f===0){if(l<=0&&o>=0||o<=0&&l>=0)return 0}else if(f>=0&&s<0||f<0&&s>=0){if(a=WO(o,l,s,f,0,0),a===0)return 0;(a>0&&f>0&&s<=0||a<0&&f<=0&&s>0)&&i++}v=d,s=f,o=l}}return i%2!==0}function en(t,e,r={}){if(!t)throw new Error("point is required");if(!e)throw new Error("polygon is required");const n=Rf(t),i=Cs(e),a=i.type,o=e.bbox;let s=i.coordinates;if(o&&KO(n,o)===!1)return!1;a==="Polygon"&&(s=[s]);let l=!1;for(var f=0;f<s.length;++f){const v=XO(n,s[f]);if(v===0)return!r.ignoreBoundary;v&&(l=!0)}return l}function KO(t,e){return e[0]<=t[0]&&e[1]<=t[1]&&e[2]>=t[0]&&e[3]>=t[1]}function Ff(t,e,r={}){const n=Rf(t),i=qi(e);for(let a=0;a<i.length-1;a++){let o=!1;if(r.ignoreEndVertices&&(a===0&&(o="start"),a===i.length-2&&(o="end"),a===0&&a+1===i.length-1&&(o="both")),ZO(i[a],i[a+1],n,o,typeof r.epsilon>"u"?null:r.epsilon))return!0}return!1}function ZO(t,e,r,n,i){const a=r[0],o=r[1],s=t[0],l=t[1],f=e[0],v=e[1],d=r[0]-s,g=r[1]-l,p=f-s,y=v-l,w=d*y-g*p;if(i!==null){if(Math.abs(w)>i)return!1}else if(w!==0)return!1;if(Math.abs(p)===Math.abs(y)&&Math.abs(p)===0)return n?!1:r[0]===t[0]&&r[1]===t[1];if(n){if(n==="start")return Math.abs(p)>=Math.abs(y)?p>0?s<a&&a<=f:f<=a&&a<s:y>0?l<o&&o<=v:v<=o&&o<l;if(n==="end")return Math.abs(p)>=Math.abs(y)?p>0?s<=a&&a<f:f<a&&a<=s:y>0?l<=o&&o<v:v<o&&o<=l;if(n==="both")return Math.abs(p)>=Math.abs(y)?p>0?s<a&&a<f:f<a&&a<s:y>0?l<o&&o<v:v<o&&o<l}else return Math.abs(p)>=Math.abs(y)?p>0?s<=a&&a<=f:f<=a&&a<=s:y>0?l<=o&&o<=v:v<=o&&o<=l;return!1}class HS{constructor(e=[],r=jO){if(this.data=e,this.length=this.data.length,this.compare=r,this.length>0)for(let n=(this.length>>1)-1;n>=0;n--)this._down(n)}push(e){this.data.push(e),this.length++,this._up(this.length-1)}pop(){if(this.length===0)return;const e=this.data[0],r=this.data.pop();return this.length--,this.length>0&&(this.data[0]=r,this._down(0)),e}peek(){return this.data[0]}_up(e){const{data:r,compare:n}=this,i=r[e];for(;e>0;){const a=e-1>>1,o=r[a];if(n(i,o)>=0)break;r[e]=o,e=a}r[e]=i}_down(e){const{data:r,compare:n}=this,i=this.length>>1,a=r[e];for(;e<i;){let o=(e<<1)+1,s=r[o];const l=o+1;if(l<this.length&&n(r[l],s)<0&&(o=l,s=r[l]),n(s,a)>=0)break;r[e]=s,e=o}r[e]=a}}function jO(t,e){return t<e?-1:t>e?1:0}function $S(t,e){return t.p.x>e.p.x?1:t.p.x<e.p.x?-1:t.p.y!==e.p.y?t.p.y>e.p.y?1:-1:1}function QO(t,e){return t.rightSweepEvent.p.x>e.rightSweepEvent.p.x?1:t.rightSweepEvent.p.x<e.rightSweepEvent.p.x?-1:t.rightSweepEvent.p.y!==e.rightSweepEvent.p.y?t.rightSweepEvent.p.y<e.rightSweepEvent.p.y?1:-1:1}let n_=class{constructor(e,r,n,i){this.p={x:e[0],y:e[1]},this.featureId=r,this.ringId=n,this.eventId=i,this.otherEvent=null,this.isLeftEndpoint=null}isSamePoint(e){return this.p.x===e.p.x&&this.p.y===e.p.y}};function JO(t,e){if(t.type==="FeatureCollection"){const r=t.features;for(let n=0;n<r.length;n++)i_(r[n],e)}else i_(t,e)}let oc=0,sc=0,uc=0;function i_(t,e){const r=t.type==="Feature"?t.geometry:t;let n=r.coordinates;(r.type==="Polygon"||r.type==="MultiLineString")&&(n=[n]),r.type==="LineString"&&(n=[[n]]);for(let i=0;i<n.length;i++)for(let a=0;a<n[i].length;a++){let o=n[i][a][0],s=null;sc=sc+1;for(let l=0;l<n[i][a].length-1;l++){s=n[i][a][l+1];const f=new n_(o,oc,sc,uc),v=new n_(s,oc,sc,uc+1);f.otherEvent=v,v.otherEvent=f,$S(f,v)>0?(v.isLeftEndpoint=!0,f.isLeftEndpoint=!1):(f.isLeftEndpoint=!0,v.isLeftEndpoint=!1),e.push(f),e.push(v),o=s,uc=uc+1}}oc=oc+1}class e3{constructor(e){this.leftSweepEvent=e,this.rightSweepEvent=e.otherEvent}}function t3(t,e){if(t===null||e===null||t.leftSweepEvent.ringId===e.leftSweepEvent.ringId&&(t.rightSweepEvent.isSamePoint(e.leftSweepEvent)||t.rightSweepEvent.isSamePoint(e.leftSweepEvent)||t.rightSweepEvent.isSamePoint(e.rightSweepEvent)||t.leftSweepEvent.isSamePoint(e.leftSweepEvent)||t.leftSweepEvent.isSamePoint(e.rightSweepEvent)))return!1;const r=t.leftSweepEvent.p.x,n=t.leftSweepEvent.p.y,i=t.rightSweepEvent.p.x,a=t.rightSweepEvent.p.y,o=e.leftSweepEvent.p.x,s=e.leftSweepEvent.p.y,l=e.rightSweepEvent.p.x,f=e.rightSweepEvent.p.y,v=(f-s)*(i-r)-(l-o)*(a-n),d=(l-o)*(n-s)-(f-s)*(r-o),g=(i-r)*(n-s)-(a-n)*(r-o);if(v===0)return!1;const p=d/v,y=g/v;if(p>=0&&p<=1&&y>=0&&y<=1){const w=r+p*(i-r),b=n+p*(a-n);return[w,b]}return!1}function r3(t,e){e=e||!1;const r=[],n=new HS([],QO);for(;t.length;){const i=t.pop();if(i.isLeftEndpoint){const a=new e3(i);for(let o=0;o<n.data.length;o++){const s=n.data[o];if(e&&s.leftSweepEvent.featureId===i.featureId)continue;const l=t3(a,s);l!==!1&&r.push(l)}n.push(a)}else i.isLeftEndpoint===!1&&n.pop()}return r}function n3(t,e){const r=new HS([],$S);return JO(t,r),r3(r,e)}var i3=n3;function Xg(t,e,r={}){const{removeDuplicates:n=!0,ignoreSelfIntersections:i=!0}=r;let a=[];t.type==="FeatureCollection"?a=a.concat(t.features):t.type==="Feature"?a.push(t):(t.type==="LineString"||t.type==="Polygon"||t.type==="MultiLineString"||t.type==="MultiPolygon")&&a.push(Ei(t)),e.type==="FeatureCollection"?a=a.concat(e.features):e.type==="Feature"?a.push(e):(e.type==="LineString"||e.type==="Polygon"||e.type==="MultiLineString"||e.type==="MultiPolygon")&&a.push(Ei(e));const o=i3(jn(a),i);let s=[];if(n){const l={};o.forEach(f=>{const v=f.join(",");l[v]||(l[v]=!0,s.push(f))})}else s=o;return jn(s.map(l=>Rl(l)))}function fp(t,e={}){const r=Cs(t);switch(!e.properties&&t.type==="Feature"&&(e.properties=t.properties),r.type){case"Polygon":return a3(r,e);case"MultiPolygon":return o3(r,e);default:throw new Error("invalid poly")}}function a3(t,e={}){const n=Cs(t).coordinates,i=e.properties?e.properties:t.type==="Feature"?t.properties:{};return US(n,i)}function o3(t,e={}){const n=Cs(t).coordinates,i=e.properties?e.properties:t.type==="Feature"?t.properties:{},a=[];return n.forEach(o=>{a.push(US(o,i))}),jn(a)}function US(t,e){return t.length>1?zS(t,e):BS(t[0],e)}function s3(t,e,{ignoreSelfIntersections:r=!0}={ignoreSelfIntersections:!0}){let n=!0;return Of(t,i=>{Of(e,a=>{if(n===!1)return!1;n=u3(i.geometry,a.geometry,r)})}),n}function u3(t,e,r){switch(t.type){case"Point":switch(e.type){case"Point":return!h3(t.coordinates,e.coordinates);case"LineString":return!a_(e,t);case"Polygon":return!en(t,e)}break;case"LineString":switch(e.type){case"Point":return!a_(t,e);case"LineString":return!l3(t,e,r);case"Polygon":return!o_(e,t,r)}break;case"Polygon":switch(e.type){case"Point":return!en(e,t);case"LineString":return!o_(t,e,r);case"Polygon":return!c3(e,t,r)}}return!1}function a_(t,e){for(let r=0;r<t.coordinates.length-1;r++)if(f3(t.coordinates[r],t.coordinates[r+1],e.coordinates))return!0;return!1}function l3(t,e,r){return Xg(t,e,{ignoreSelfIntersections:r}).features.length>0}function o_(t,e,r){for(const i of e.coordinates)if(en(i,t))return!0;return Xg(e,fp(t),{ignoreSelfIntersections:r}).features.length>0}function c3(t,e,r){for(const i of t.coordinates[0])if(en(i,e))return!0;for(const i of e.coordinates[0])if(en(i,t))return!0;return Xg(fp(t),fp(e),{ignoreSelfIntersections:r}).features.length>0}function f3(t,e,r){const n=r[0]-t[0],i=r[1]-t[1],a=e[0]-t[0],o=e[1]-t[1];return n*o-i*a!==0?!1:Math.abs(a)>=Math.abs(o)?a>0?t[0]<=r[0]&&r[0]<=e[0]:e[0]<=r[0]&&r[0]<=t[0]:o>0?t[1]<=r[1]&&r[1]<=e[1]:e[1]<=r[1]&&r[1]<=t[1]}function h3(t,e){return t[0]===e[0]&&t[1]===e[1]}function v3(t,e,{ignoreSelfIntersections:r=!0}={}){let n=!1;return Of(t,i=>{Of(e,a=>{if(n===!0)return!0;n=!s3(i.geometry,a.geometry,{ignoreSelfIntersections:r})})}),n}function YS(t,e){var r=Cs(t),n=Cs(e),i=r.type,a=n.type;switch(i){case"Point":switch(a){case"MultiPoint":return d3(r,n);case"LineString":return Ff(r,n,{ignoreEndVertices:!0});case"Polygon":case"MultiPolygon":return en(r,n,{ignoreBoundary:!0});default:throw new Error("feature2 "+a+" geometry not supported")}case"MultiPoint":switch(a){case"MultiPoint":return p3(r,n);case"LineString":return g3(r,n);case"Polygon":case"MultiPolygon":return m3(r,n);default:throw new Error("feature2 "+a+" geometry not supported")}case"LineString":switch(a){case"LineString":return y3(r,n);case"Polygon":case"MultiPolygon":return _3(r,n);default:throw new Error("feature2 "+a+" geometry not supported")}case"Polygon":switch(a){case"Polygon":case"MultiPolygon":return w3(r,n);default:throw new Error("feature2 "+a+" geometry not supported")}default:throw new Error("feature1 "+i+" geometry not supported")}}function d3(t,e){var r,n=!1;for(r=0;r<e.coordinates.length;r++)if(WS(e.coordinates[r],t.coordinates)){n=!0;break}return n}function p3(t,e){for(var r=0;r<t.coordinates.length;r++){for(var n=!1,i=0;i<e.coordinates.length;i++)WS(t.coordinates[r],e.coordinates[i])&&(n=!0);if(!n)return!1}return!0}function g3(t,e){for(var r=!1,n=0;n<t.coordinates.length;n++){if(!Ff(t.coordinates[n],e))return!1;r||(r=Ff(t.coordinates[n],e,{ignoreEndVertices:!0}))}return r}function m3(t,e){for(var r=!0,n=!1,i=0;i<t.coordinates.length;i++){if(n=en(t.coordinates[i],e),!n){r=!1;break}n=en(t.coordinates[i],e,{ignoreBoundary:!0})}return r&&n}function y3(t,e){for(var r=0;r<t.coordinates.length;r++)if(!Ff(t.coordinates[r],e))return!1;return!0}function _3(t,e){var r=ca(e),n=ca(t);if(!qS(r,n))return!1;for(var i=!1,a=0;a<t.coordinates.length;a++){if(!en(t.coordinates[a],e))return!1;if(i||(i=en(t.coordinates[a],e,{ignoreBoundary:!0})),!i&&a<t.coordinates.length-1){var o=b3(t.coordinates[a],t.coordinates[a+1]);i=en(o,e,{ignoreBoundary:!0})}}return i}function w3(t,e){var r=ca(t),n=ca(e);if(!qS(n,r))return!1;for(var i=0;i<t.coordinates[0].length;i++)if(!en(t.coordinates[0][i],e))return!1;return!0}function qS(t,e){return!(t[0]>e[0]||t[2]<e[2]||t[1]>e[1]||t[3]<e[3])}function WS(t,e){return t[0]===e[0]&&t[1]===e[1]}function b3(t,e){return[(t[0]+e[0])/2,(t[1]+e[1])/2]}function x3(t,e={}){const r=ca(t),n=(r[0]+r[2])/2,i=(r[1]+r[3])/2;return Rl([n,i],e.properties,e)}var af={exports:{}},S3=af.exports,s_;function C3(){return s_||(s_=1,function(t,e){(function(r,n){t.exports=n()})(S3,function(){function r(_,u){if(!(_ instanceof u))throw new TypeError("Cannot call a class as a function")}function n(_,u){for(var c=0;c<u.length;c++){var h=u[c];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(_,h.key,h)}}function i(_,u,c){return u&&n(_.prototype,u),c&&n(_,c),_}function a(_,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(u&&u.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),u&&s(_,u)}function o(_){return o=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)},o(_)}function s(_,u){return s=Object.setPrototypeOf||function(c,h){return c.__proto__=h,c},s(_,u)}function l(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function f(_,u,c){return f=l()?Reflect.construct:function(h,m,S){var E=[null];E.push.apply(E,m);var I=new(Function.bind.apply(h,E));return S&&s(I,S.prototype),I},f.apply(null,arguments)}function v(_){var u=typeof Map=="function"?new Map:void 0;return v=function(c){if(c===null||(h=c,Function.toString.call(h).indexOf("[native code]")===-1))return c;var h;if(typeof c!="function")throw new TypeError("Super expression must either be null or a function");if(u!==void 0){if(u.has(c))return u.get(c);u.set(c,m)}function m(){return f(c,arguments,o(this).constructor)}return m.prototype=Object.create(c.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),s(m,c)},v(_)}function d(_){if(_===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _}function g(_,u){if(u&&(typeof u=="object"||typeof u=="function"))return u;if(u!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return d(_)}function p(_){var u=l();return function(){var c,h=o(_);if(u){var m=o(this).constructor;c=Reflect.construct(h,arguments,m)}else c=h.apply(this,arguments);return g(this,c)}}function y(_,u,c){return y=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(h,m,S){var E=function(A,O){for(;!Object.prototype.hasOwnProperty.call(A,O)&&(A=o(A))!==null;);return A}(h,m);if(E){var I=Object.getOwnPropertyDescriptor(E,m);return I.get?I.get.call(S):I.value}},y(_,u,c||_)}function w(_){return function(u){if(Array.isArray(u))return x(u)}(_)||function(u){if(typeof Symbol<"u"&&u[Symbol.iterator]!=null||u["@@iterator"]!=null)return Array.from(u)}(_)||b(_)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function b(_,u){if(_){if(typeof _=="string")return x(_,u);var c=Object.prototype.toString.call(_).slice(8,-1);return c==="Object"&&_.constructor&&(c=_.constructor.name),c==="Map"||c==="Set"?Array.from(_):c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?x(_,u):void 0}}function x(_,u){(u==null||u>_.length)&&(u=_.length);for(var c=0,h=new Array(u);c<u;c++)h[c]=_[c];return h}function C(_,u){var c=typeof Symbol<"u"&&_[Symbol.iterator]||_["@@iterator"];if(!c){if(Array.isArray(_)||(c=b(_))||u){c&&(_=c);var h=0,m=function(){};return{s:m,n:function(){return h>=_.length?{done:!0}:{done:!1,value:_[h++]}},e:function(A){throw A},f:m}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var S,E=!0,I=!1;return{s:function(){c=c.call(_)},n:function(){var A=c.next();return E=A.done,A},e:function(A){I=!0,S=A},f:function(){try{E||c.return==null||c.return()}finally{if(I)throw S}}}}var T=function(){function _(){r(this,_),_.constructor_.apply(this,arguments)}return i(_,[{key:"getEndCapStyle",value:function(){return this._endCapStyle}},{key:"isSingleSided",value:function(){return this._isSingleSided}},{key:"setQuadrantSegments",value:function(u){this._quadrantSegments=u,this._quadrantSegments===0&&(this._joinStyle=_.JOIN_BEVEL),this._quadrantSegments<0&&(this._joinStyle=_.JOIN_MITRE,this._mitreLimit=Math.abs(this._quadrantSegments)),u<=0&&(this._quadrantSegments=1),this._joinStyle!==_.JOIN_ROUND&&(this._quadrantSegments=_.DEFAULT_QUADRANT_SEGMENTS)}},{key:"getJoinStyle",value:function(){return this._joinStyle}},{key:"setJoinStyle",value:function(u){this._joinStyle=u}},{key:"setSimplifyFactor",value:function(u){this._simplifyFactor=u<0?0:u}},{key:"getSimplifyFactor",value:function(){return this._simplifyFactor}},{key:"getQuadrantSegments",value:function(){return this._quadrantSegments}},{key:"setEndCapStyle",value:function(u){this._endCapStyle=u}},{key:"getMitreLimit",value:function(){return this._mitreLimit}},{key:"setMitreLimit",value:function(u){this._mitreLimit=u}},{key:"setSingleSided",value:function(u){this._isSingleSided=u}}],[{key:"constructor_",value:function(){if(this._quadrantSegments=_.DEFAULT_QUADRANT_SEGMENTS,this._endCapStyle=_.CAP_ROUND,this._joinStyle=_.JOIN_ROUND,this._mitreLimit=_.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this._simplifyFactor=_.DEFAULT_SIMPLIFY_FACTOR,arguments.length!==0){if(arguments.length===1){var u=arguments[0];this.setQuadrantSegments(u)}else if(arguments.length===2){var c=arguments[0],h=arguments[1];this.setQuadrantSegments(c),this.setEndCapStyle(h)}else if(arguments.length===4){var m=arguments[0],S=arguments[1],E=arguments[2],I=arguments[3];this.setQuadrantSegments(m),this.setEndCapStyle(S),this.setJoinStyle(E),this.setMitreLimit(I)}}}},{key:"bufferDistanceError",value:function(u){var c=Math.PI/2/u;return 1-Math.cos(c/2)}}]),_}();T.CAP_ROUND=1,T.CAP_FLAT=2,T.CAP_SQUARE=3,T.JOIN_ROUND=1,T.JOIN_MITRE=2,T.JOIN_BEVEL=3,T.DEFAULT_QUADRANT_SEGMENTS=8,T.DEFAULT_MITRE_LIMIT=5,T.DEFAULT_SIMPLIFY_FACTOR=.01;var k=function(_){a(c,_);var u=p(c);function c(h){var m;return r(this,c),(m=u.call(this,h)).name=Object.keys({Exception:c})[0],m}return i(c,[{key:"toString",value:function(){return this.message}}]),c}(v(Error)),L=function(_){a(c,_);var u=p(c);function c(h){var m;return r(this,c),(m=u.call(this,h)).name=Object.keys({IllegalArgumentException:c})[0],m}return c}(k),M=function(){function _(){r(this,_)}return i(_,[{key:"filter",value:function(u){}}]),_}();function N(){}function R(){}function D(){}var F,z,G,q,H,V,U,W,Q=function(){function _(){r(this,_)}return i(_,null,[{key:"equalsWithTolerance",value:function(u,c,h){return Math.abs(u-c)<=h}}]),_}(),J=function(){function _(u,c){r(this,_),this.low=c||0,this.high=u||0}return i(_,null,[{key:"toBinaryString",value:function(u){var c,h="";for(c=2147483648;c>0;c>>>=1)h+=(u.high&c)===c?"1":"0";for(c=2147483648;c>0;c>>>=1)h+=(u.low&c)===c?"1":"0";return h}}]),_}();function j(){}function pe(){}j.NaN=NaN,j.isNaN=function(_){return Number.isNaN(_)},j.isInfinite=function(_){return!Number.isFinite(_)},j.MAX_VALUE=Number.MAX_VALUE,j.POSITIVE_INFINITY=Number.POSITIVE_INFINITY,j.NEGATIVE_INFINITY=Number.NEGATIVE_INFINITY,typeof Float64Array=="function"&&typeof Int32Array=="function"?(V=2146435072,U=new Float64Array(1),W=new Int32Array(U.buffer),j.doubleToLongBits=function(_){U[0]=_;var u=0|W[0],c=0|W[1];return(c&V)===V&&1048575&c&&u!==0&&(u=0,c=2146959360),new J(c,u)},j.longBitsToDouble=function(_){return W[0]=_.low,W[1]=_.high,U[0]}):(F=1023,z=Math.log2,G=Math.floor,q=Math.pow,H=function(){for(var _=53;_>0;_--){var u=q(2,_)-1;if(G(z(u))+1===_)return u}return 0}(),j.doubleToLongBits=function(_){var u,c,h,m,S,E,I,A,O;if(_<0||1/_===Number.NEGATIVE_INFINITY?(E=1<<31,_=-_):E=0,_===0)return new J(A=E,O=0);if(_===1/0)return new J(A=2146435072|E,O=0);if(_!=_)return new J(A=2146959360,O=0);if(m=0,O=0,(u=G(_))>1)if(u<=H)(m=G(z(u)))<=20?(O=0,A=u<<20-m&1048575):(O=u%(c=q(2,h=m-20))<<32-h,A=u/c&1048575);else for(h=u,O=0;(h=G(c=h/2))!==0;)m++,O>>>=1,O|=(1&A)<<31,A>>>=1,c!==h&&(A|=524288);if(I=m+F,S=u===0,u=_-u,m<52&&u!==0)for(h=0;;){if((c=2*u)>=1?(u=c-1,S?(I--,S=!1):(h<<=1,h|=1,m++)):(u=c,S?--I==0&&(m++,S=!1):(h<<=1,m++)),m===20)A|=h,h=0;else if(m===52){O|=h;break}if(c===1){m<20?A|=h<<20-m:m<52&&(O|=h<<52-m);break}}return A|=I<<20,new J(A|=E,O)},j.longBitsToDouble=function(_){var u,c,h,m,S=_.high,E=_.low,I=S&1<<31?-1:1;for(h=((2146435072&S)>>20)-F,m=0,c=1<<19,u=1;u<=20;u++)S&c&&(m+=q(2,-u)),c>>>=1;for(c=1<<31,u=21;u<=52;u++)E&c&&(m+=q(2,-u)),c>>>=1;if(h===-1023){if(m===0)return 0*I;h=-1022}else{if(h===1024)return m===0?I/0:NaN;m+=1}return I*m*q(2,h)});var ae=function(_){a(c,_);var u=p(c);function c(h){var m;return r(this,c),(m=u.call(this,h)).name=Object.keys({RuntimeException:c})[0],m}return c}(k),ce=function(_){a(c,_);var u=p(c);function c(){var h;return r(this,c),h=u.call(this),c.constructor_.apply(d(h),arguments),h}return i(c,null,[{key:"constructor_",value:function(){if(arguments.length===0)ae.constructor_.call(this);else if(arguments.length===1){var h=arguments[0];ae.constructor_.call(this,h)}}}]),c}(ae),oe=function(){function _(){r(this,_)}return i(_,null,[{key:"shouldNeverReachHere",value:function(){if(arguments.length===0)_.shouldNeverReachHere(null);else if(arguments.length===1){var u=arguments[0];throw new ce("Should never reach here"+(u!==null?": "+u:""))}}},{key:"isTrue",value:function(){if(arguments.length===1){var u=arguments[0];_.isTrue(u,null)}else if(arguments.length===2){var c=arguments[0],h=arguments[1];if(!c)throw h===null?new ce:new ce(h)}}},{key:"equals",value:function(){if(arguments.length===2){var u=arguments[0],c=arguments[1];_.equals(u,c,null)}else if(arguments.length===3){var h=arguments[0],m=arguments[1],S=arguments[2];if(!m.equals(h))throw new ce("Expected "+h+" but encountered "+m+(S!==null?": "+S:""))}}}]),_}(),be=new ArrayBuffer(8),et=new Float64Array(be),Se=new Int32Array(be),K=function(){function _(){r(this,_),_.constructor_.apply(this,arguments)}return i(_,[{key:"getM",value:function(){return j.NaN}},{key:"setOrdinate",value:function(u,c){switch(u){case _.X:this.x=c;break;case _.Y:this.y=c;break;case _.Z:this.setZ(c);break;default:throw new L("Invalid ordinate index: "+u)}}},{key:"equals2D",value:function(){if(arguments.length===1){var u=arguments[0];return this.x===u.x&&this.y===u.y}if(arguments.length===2){var c=arguments[0],h=arguments[1];return!!Q.equalsWithTolerance(this.x,c.x,h)&&!!Q.equalsWithTolerance(this.y,c.y,h)}}},{key:"setM",value:function(u){throw new L("Invalid ordinate index: "+_.M)}},{key:"getZ",value:function(){return this.z}},{key:"getOrdinate",value:function(u){switch(u){case _.X:return this.x;case _.Y:return this.y;case _.Z:return this.getZ()}throw new L("Invalid ordinate index: "+u)}},{key:"equals3D",value:function(u){return this.x===u.x&&this.y===u.y&&(this.getZ()===u.getZ()||j.isNaN(this.getZ())&&j.isNaN(u.getZ()))}},{key:"equals",value:function(u){return u instanceof _&&this.equals2D(u)}},{key:"equalInZ",value:function(u,c){return Q.equalsWithTolerance(this.getZ(),u.getZ(),c)}},{key:"setX",value:function(u){this.x=u}},{key:"compareTo",value:function(u){var c=u;return this.x<c.x?-1:this.x>c.x?1:this.y<c.y?-1:this.y>c.y?1:0}},{key:"getX",value:function(){return this.x}},{key:"setZ",value:function(u){this.z=u}},{key:"clone",value:function(){try{return null}catch(u){if(u instanceof CloneNotSupportedException)return oe.shouldNeverReachHere("this shouldn't happen because this class is Cloneable"),null;throw u}}},{key:"copy",value:function(){return new _(this)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+", "+this.getZ()+")"}},{key:"distance3D",value:function(u){var c=this.x-u.x,h=this.y-u.y,m=this.getZ()-u.getZ();return Math.sqrt(c*c+h*h+m*m)}},{key:"getY",value:function(){return this.y}},{key:"setY",value:function(u){this.y=u}},{key:"distance",value:function(u){var c=this.x-u.x,h=this.y-u.y;return Math.sqrt(c*c+h*h)}},{key:"hashCode",value:function(){var u=17;return u=37*(u=37*u+_.hashCode(this.x))+_.hashCode(this.y)}},{key:"setCoordinate",value:function(u){this.x=u.x,this.y=u.y,this.z=u.getZ()}},{key:"interfaces_",get:function(){return[N,R,D]}}],[{key:"constructor_",value:function(){if(this.x=null,this.y=null,this.z=null,arguments.length===0)_.constructor_.call(this,0,0);else if(arguments.length===1){var u=arguments[0];_.constructor_.call(this,u.x,u.y,u.getZ())}else if(arguments.length===2){var c=arguments[0],h=arguments[1];_.constructor_.call(this,c,h,_.NULL_ORDINATE)}else if(arguments.length===3){var m=arguments[0],S=arguments[1],E=arguments[2];this.x=m,this.y=S,this.z=E}}},{key:"hashCode",value:function(u){return et[0]=u,Se[0]^Se[1]}}]),_}(),me=function(){function _(){r(this,_),_.constructor_.apply(this,arguments)}return i(_,[{key:"compare",value:function(u,c){var h=_.compare(u.x,c.x);if(h!==0)return h;var m=_.compare(u.y,c.y);return m!==0?m:this._dimensionsToTest<=2?0:_.compare(u.getZ(),c.getZ())}},{key:"interfaces_",get:function(){return[pe]}}],[{key:"constructor_",value:function(){if(this._dimensionsToTest=2,arguments.length===0)_.constructor_.call(this,2);else if(arguments.length===1){var u=arguments[0];if(u!==2&&u!==3)throw new L("only 2 or 3 dimensions may be specified");this._dimensionsToTest=u}}},{key:"compare",value:function(u,c){return u<c?-1:u>c?1:j.isNaN(u)?j.isNaN(c)?0:-1:j.isNaN(c)?1:0}}]),_}();K.DimensionalComparator=me,K.NULL_ORDINATE=j.NaN,K.X=0,K.Y=1,K.Z=2,K.M=3;var _e=function(){function _(){r(this,_),_.constructor_.apply(this,arguments)}return i(_,[{key:"getArea",value:function(){return this.getWidth()*this.getHeight()}},{key:"equals",value:function(u){if(!(u instanceof _))return!1;var c=u;return this.isNull()?c.isNull():this._maxx===c.getMaxX()&&this._maxy===c.getMaxY()&&this._minx===c.getMinX()&&this._miny===c.getMinY()}},{key:"intersection",value:function(u){if(this.isNull()||u.isNull()||!this.intersects(u))return new _;var c=this._minx>u._minx?this._minx:u._minx,h=this._miny>u._miny?this._miny:u._miny;return new _(c,this._maxx<u._maxx?this._maxx:u._maxx,h,this._maxy<u._maxy?this._maxy:u._maxy)}},{key:"isNull",value:function(){return this._maxx<this._minx}},{key:"getMaxX",value:function(){return this._maxx}},{key:"covers",value:function(){if(arguments.length===1){if(arguments[0]instanceof K){var u=arguments[0];return this.covers(u.x,u.y)}if(arguments[0]instanceof _){var c=arguments[0];return!this.isNull()&&!c.isNull()&&c.getMinX()>=this._minx&&c.getMaxX()<=this._maxx&&c.getMinY()>=this._miny&&c.getMaxY()<=this._maxy}}else if(arguments.length===2){var h=arguments[0],m=arguments[1];return!this.isNull()&&h>=this._minx&&h<=this._maxx&&m>=this._miny&&m<=this._maxy}}},{key:"intersects",value:function(){if(arguments.length===1){if(arguments[0]instanceof _){var u=arguments[0];return!this.isNull()&&!u.isNull()&&!(u._minx>this._maxx||u._maxx<this._minx||u._miny>this._maxy||u._maxy<this._miny)}if(arguments[0]instanceof K){var c=arguments[0];return this.intersects(c.x,c.y)}}else if(arguments.length===2){if(arguments[0]instanceof K&&arguments[1]instanceof K){var h=arguments[0],m=arguments[1];if(this.isNull())return!1;var S=h.x<m.x?h.x:m.x;if(S>this._maxx)return!1;var E=h.x>m.x?h.x:m.x;if(E<this._minx)return!1;var I=h.y<m.y?h.y:m.y;if(I>this._maxy)return!1;var A=h.y>m.y?h.y:m.y;return!(A<this._miny)}if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var O=arguments[0],$=arguments[1];return!this.isNull()&&!(O>this._maxx||O<this._minx||$>this._maxy||$<this._miny)}}}},{key:"getMinY",value:function(){return this._miny}},{key:"getDiameter",value:function(){if(this.isNull())return 0;var u=this.getWidth(),c=this.getHeight();return Math.sqrt(u*u+c*c)}},{key:"getMinX",value:function(){return this._minx}},{key:"expandToInclude",value:function(){if(arguments.length===1){if(arguments[0]instanceof K){var u=arguments[0];this.expandToInclude(u.x,u.y)}else if(arguments[0]instanceof _){var c=arguments[0];if(c.isNull())return null;this.isNull()?(this._minx=c.getMinX(),this._maxx=c.getMaxX(),this._miny=c.getMinY(),this._maxy=c.getMaxY()):(c._minx<this._minx&&(this._minx=c._minx),c._maxx>this._maxx&&(this._maxx=c._maxx),c._miny<this._miny&&(this._miny=c._miny),c._maxy>this._maxy&&(this._maxy=c._maxy))}}else if(arguments.length===2){var h=arguments[0],m=arguments[1];this.isNull()?(this._minx=h,this._maxx=h,this._miny=m,this._maxy=m):(h<this._minx&&(this._minx=h),h>this._maxx&&(this._maxx=h),m<this._miny&&(this._miny=m),m>this._maxy&&(this._maxy=m))}}},{key:"minExtent",value:function(){if(this.isNull())return 0;var u=this.getWidth(),c=this.getHeight();return u<c?u:c}},{key:"getWidth",value:function(){return this.isNull()?0:this._maxx-this._minx}},{key:"compareTo",value:function(u){var c=u;return this.isNull()?c.isNull()?0:-1:c.isNull()?1:this._minx<c._minx?-1:this._minx>c._minx?1:this._miny<c._miny?-1:this._miny>c._miny?1:this._maxx<c._maxx?-1:this._maxx>c._maxx?1:this._maxy<c._maxy?-1:this._maxy>c._maxy?1:0}},{key:"translate",value:function(u,c){if(this.isNull())return null;this.init(this.getMinX()+u,this.getMaxX()+u,this.getMinY()+c,this.getMaxY()+c)}},{key:"copy",value:function(){return new _(this)}},{key:"toString",value:function(){return"Env["+this._minx+" : "+this._maxx+", "+this._miny+" : "+this._maxy+"]"}},{key:"setToNull",value:function(){this._minx=0,this._maxx=-1,this._miny=0,this._maxy=-1}},{key:"disjoint",value:function(u){return!(!this.isNull()&&!u.isNull())||u._minx>this._maxx||u._maxx<this._minx||u._miny>this._maxy||u._maxy<this._miny}},{key:"getHeight",value:function(){return this.isNull()?0:this._maxy-this._miny}},{key:"maxExtent",value:function(){if(this.isNull())return 0;var u=this.getWidth(),c=this.getHeight();return u>c?u:c}},{key:"expandBy",value:function(){if(arguments.length===1){var u=arguments[0];this.expandBy(u,u)}else if(arguments.length===2){var c=arguments[0],h=arguments[1];if(this.isNull())return null;this._minx-=c,this._maxx+=c,this._miny-=h,this._maxy+=h,(this._minx>this._maxx||this._miny>this._maxy)&&this.setToNull()}}},{key:"contains",value:function(){if(arguments.length===1){if(arguments[0]instanceof _){var u=arguments[0];return this.covers(u)}if(arguments[0]instanceof K){var c=arguments[0];return this.covers(c)}}else if(arguments.length===2){var h=arguments[0],m=arguments[1];return this.covers(h,m)}}},{key:"centre",value:function(){return this.isNull()?null:new K((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)}},{key:"init",value:function(){if(arguments.length===0)this.setToNull();else if(arguments.length===1){if(arguments[0]instanceof K){var u=arguments[0];this.init(u.x,u.x,u.y,u.y)}else if(arguments[0]instanceof _){var c=arguments[0];this._minx=c._minx,this._maxx=c._maxx,this._miny=c._miny,this._maxy=c._maxy}}else if(arguments.length===2){var h=arguments[0],m=arguments[1];this.init(h.x,m.x,h.y,m.y)}else if(arguments.length===4){var S=arguments[0],E=arguments[1],I=arguments[2],A=arguments[3];S<E?(this._minx=S,this._maxx=E):(this._minx=E,this._maxx=S),I<A?(this._miny=I,this._maxy=A):(this._miny=A,this._maxy=I)}}},{key:"getMaxY",value:function(){return this._maxy}},{key:"distance",value:function(u){if(this.intersects(u))return 0;var c=0;this._maxx<u._minx?c=u._minx-this._maxx:this._minx>u._maxx&&(c=this._minx-u._maxx);var h=0;return this._maxy<u._miny?h=u._miny-this._maxy:this._miny>u._maxy&&(h=this._miny-u._maxy),c===0?h:h===0?c:Math.sqrt(c*c+h*h)}},{key:"hashCode",value:function(){var u=17;return u=37*(u=37*(u=37*(u=37*u+K.hashCode(this._minx))+K.hashCode(this._maxx))+K.hashCode(this._miny))+K.hashCode(this._maxy)}},{key:"interfaces_",get:function(){return[N,D]}}],[{key:"constructor_",value:function(){if(this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,arguments.length===0)this.init();else if(arguments.length===1){if(arguments[0]instanceof K){var u=arguments[0];this.init(u.x,u.x,u.y,u.y)}else if(arguments[0]instanceof _){var c=arguments[0];this.init(c)}}else if(arguments.length===2){var h=arguments[0],m=arguments[1];this.init(h.x,m.x,h.y,m.y)}else if(arguments.length===4){var S=arguments[0],E=arguments[1],I=arguments[2],A=arguments[3];this.init(S,E,I,A)}}},{key:"intersects",value:function(){if(arguments.length===3){var u=arguments[0],c=arguments[1],h=arguments[2];return h.x>=(u.x<c.x?u.x:c.x)&&h.x<=(u.x>c.x?u.x:c.x)&&h.y>=(u.y<c.y?u.y:c.y)&&h.y<=(u.y>c.y?u.y:c.y)}if(arguments.length===4){var m=arguments[0],S=arguments[1],E=arguments[2],I=arguments[3],A=Math.min(E.x,I.x),O=Math.max(E.x,I.x),$=Math.min(m.x,S.x),X=Math.max(m.x,S.x);return!($>O)&&!(X<A)&&(A=Math.min(E.y,I.y),O=Math.max(E.y,I.y),$=Math.min(m.y,S.y),X=Math.max(m.y,S.y),!($>O)&&!(X<A))}}}]),_}(),ne=function(){function _(){r(this,_),_.constructor_.apply(this,arguments)}return i(_,[{key:"isGeometryCollection",value:function(){return this.getTypeCode()===_.TYPECODE_GEOMETRYCOLLECTION}},{key:"getFactory",value:function(){return this._factory}},{key:"getGeometryN",value:function(u){return this}},{key:"getArea",value:function(){return 0}},{key:"isRectangle",value:function(){return!1}},{key:"equalsExact",value:function(u){return this===u||this.equalsExact(u,0)}},{key:"geometryChanged",value:function(){this.apply(_.geometryChangedFilter)}},{key:"geometryChangedAction",value:function(){this._envelope=null}},{key:"equalsNorm",value:function(u){return u!==null&&this.norm().equalsExact(u.norm())}},{key:"getLength",value:function(){return 0}},{key:"getNumGeometries",value:function(){return 1}},{key:"compareTo",value:function(){var u;if(arguments.length===1){var c=arguments[0];return u=c,this.getTypeCode()!==u.getTypeCode()?this.getTypeCode()-u.getTypeCode():this.isEmpty()&&u.isEmpty()?0:this.isEmpty()?-1:u.isEmpty()?1:this.compareToSameClass(c)}if(arguments.length===2){var h=arguments[0],m=arguments[1];return u=h,this.getTypeCode()!==u.getTypeCode()?this.getTypeCode()-u.getTypeCode():this.isEmpty()&&u.isEmpty()?0:this.isEmpty()?-1:u.isEmpty()?1:this.compareToSameClass(h,m)}}},{key:"getUserData",value:function(){return this._userData}},{key:"getSRID",value:function(){return this._SRID}},{key:"getEnvelope",value:function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())}},{key:"checkNotGeometryCollection",value:function(u){if(u.getTypeCode()===_.TYPECODE_GEOMETRYCOLLECTION)throw new L("This method does not support GeometryCollection arguments")}},{key:"equal",value:function(u,c,h){return h===0?u.equals(c):u.distance(c)<=h}},{key:"norm",value:function(){var u=this.copy();return u.normalize(),u}},{key:"reverse",value:function(){var u=this.reverseInternal();return this.envelope!=null&&(u.envelope=this.envelope.copy()),u.setSRID(this.getSRID()),u}},{key:"copy",value:function(){var u=this.copyInternal();return u.envelope=this._envelope==null?null:this._envelope.copy(),u._SRID=this._SRID,u._userData=this._userData,u}},{key:"getPrecisionModel",value:function(){return this._factory.getPrecisionModel()}},{key:"getEnvelopeInternal",value:function(){return this._envelope===null&&(this._envelope=this.computeEnvelopeInternal()),new _e(this._envelope)}},{key:"setSRID",value:function(u){this._SRID=u}},{key:"setUserData",value:function(u){this._userData=u}},{key:"compare",value:function(u,c){for(var h=u.iterator(),m=c.iterator();h.hasNext()&&m.hasNext();){var S=h.next(),E=m.next(),I=S.compareTo(E);if(I!==0)return I}return h.hasNext()?1:m.hasNext()?-1:0}},{key:"hashCode",value:function(){return this.getEnvelopeInternal().hashCode()}},{key:"isEquivalentClass",value:function(u){return this.getClass()===u.getClass()}},{key:"isGeometryCollectionOrDerived",value:function(){return this.getTypeCode()===_.TYPECODE_GEOMETRYCOLLECTION||this.getTypeCode()===_.TYPECODE_MULTIPOINT||this.getTypeCode()===_.TYPECODE_MULTILINESTRING||this.getTypeCode()===_.TYPECODE_MULTIPOLYGON}},{key:"interfaces_",get:function(){return[R,N,D]}},{key:"getClass",value:function(){return _}}],[{key:"hasNonEmptyElements",value:function(u){for(var c=0;c<u.length;c++)if(!u[c].isEmpty())return!0;return!1}},{key:"hasNullElements",value:function(u){for(var c=0;c<u.length;c++)if(u[c]===null)return!0;return!1}}]),_}();ne.constructor_=function(_){_&&(this._envelope=null,this._userData=null,this._factory=_,this._SRID=_.getSRID())},ne.TYPECODE_POINT=0,ne.TYPECODE_MULTIPOINT=1,ne.TYPECODE_LINESTRING=2,ne.TYPECODE_LINEARRING=3,ne.TYPECODE_MULTILINESTRING=4,ne.TYPECODE_POLYGON=5,ne.TYPECODE_MULTIPOLYGON=6,ne.TYPECODE_GEOMETRYCOLLECTION=7,ne.TYPENAME_POINT="Point",ne.TYPENAME_MULTIPOINT="MultiPoint",ne.TYPENAME_LINESTRING="LineString",ne.TYPENAME_LINEARRING="LinearRing",ne.TYPENAME_MULTILINESTRING="MultiLineString",ne.TYPENAME_POLYGON="Polygon",ne.TYPENAME_MULTIPOLYGON="MultiPolygon",ne.TYPENAME_GEOMETRYCOLLECTION="GeometryCollection",ne.geometryChangedFilter={get interfaces_(){return[M]},filter:function(_){_.geometryChangedAction()}};var B=function(){function _(){r(this,_)}return i(_,null,[{key:"toLocationSymbol",value:function(u){switch(u){case _.EXTERIOR:return"e";case _.BOUNDARY:return"b";case _.INTERIOR:return"i";case _.NONE:return"-"}throw new L("Unknown location value: "+u)}}]),_}();B.INTERIOR=0,B.BOUNDARY=1,B.EXTERIOR=2,B.NONE=-1;var nt=function(){function _(){r(this,_)}return i(_,[{key:"add",value:function(){}},{key:"addAll",value:function(){}},{key:"isEmpty",value:function(){}},{key:"iterator",value:function(){}},{key:"size",value:function(){}},{key:"toArray",value:function(){}},{key:"remove",value:function(){}}]),_}(),ft=function(_){a(c,_);var u=p(c);function c(h){var m;return r(this,c),(m=u.call(this,h)).name=Object.keys({NoSuchElementException:c})[0],m}return c}(k),Yt=function(_){a(c,_);var u=p(c);function c(h){var m;return r(this,c),(m=u.call(this,h)).name=Object.keys({UnsupportedOperationException:c})[0],m}return c}(k),kn=function(_){a(c,_);var u=p(c);function c(){return r(this,c),u.apply(this,arguments)}return i(c,[{key:"contains",value:function(){}}]),c}(nt),Ni=function(_,u){a(h,_);var c=p(h);function h(m){var S;return r(this,h),(S=c.call(this)).map=new Map,m instanceof nt&&S.addAll(m),S}return i(h,[{key:"contains",value:function(m){var S=m.hashCode?m.hashCode():m;return!!this.map.has(S)}},{key:"add",value:function(m){var S=m.hashCode?m.hashCode():m;return!this.map.has(S)&&!!this.map.set(S,m)}},{key:"addAll",value:function(m){var S,E=C(m);try{for(E.s();!(S=E.n()).done;){var I=S.value;this.add(I)}}catch(A){E.e(A)}finally{E.f()}return!0}},{key:"remove",value:function(){throw new Yt}},{key:"size",value:function(){return this.map.size}},{key:"isEmpty",value:function(){return this.map.size===0}},{key:"toArray",value:function(){return Array.from(this.map.values())}},{key:"iterator",value:function(){return new Xs(this.map)}},{key:u,value:function(){return this.map}}]),h}(kn,Symbol.iterator),Xs=function(){function _(u){r(this,_),this.iterator=u.values();var c=this.iterator.next(),h=c.done,m=c.value;this.done=h,this.value=m}return i(_,[{key:"next",value:function(){if(this.done)throw new ft;var u=this.value,c=this.iterator.next(),h=c.done,m=c.value;return this.done=h,this.value=m,u}},{key:"hasNext",value:function(){return!this.done}},{key:"remove",value:function(){throw new Yt}}]),_}(),ue=function(){function _(){r(this,_)}return i(_,null,[{key:"opposite",value:function(u){return u===_.LEFT?_.RIGHT:u===_.RIGHT?_.LEFT:u}}]),_}();ue.ON=0,ue.LEFT=1,ue.RIGHT=2;var Or=function(_){a(c,_);var u=p(c);function c(h){var m;return r(this,c),(m=u.call(this,h)).name=Object.keys({EmptyStackException:c})[0],m}return c}(k),In=function(_){a(c,_);var u=p(c);function c(h){var m;return r(this,c),(m=u.call(this,h)).name=Object.keys({IndexOutOfBoundsException:c})[0],m}return c}(k),Fr=function(_){a(c,_);var u=p(c);function c(){return r(this,c),u.apply(this,arguments)}return i(c,[{key:"get",value:function(){}},{key:"set",value:function(){}},{key:"isEmpty",value:function(){}}]),c}(nt),_a=function(_){a(c,_);var u=p(c);function c(){var h;return r(this,c),(h=u.call(this)).array=[],h}return i(c,[{key:"add",value:function(h){return this.array.push(h),!0}},{key:"get",value:function(h){if(h<0||h>=this.size())throw new In;return this.array[h]}},{key:"push",value:function(h){return this.array.push(h),h}},{key:"pop",value:function(){if(this.array.length===0)throw new Or;return this.array.pop()}},{key:"peek",value:function(){if(this.array.length===0)throw new Or;return this.array[this.array.length-1]}},{key:"empty",value:function(){return this.array.length===0}},{key:"isEmpty",value:function(){return this.empty()}},{key:"search",value:function(h){return this.array.indexOf(h)}},{key:"size",value:function(){return this.array.length}},{key:"toArray",value:function(){return this.array.slice()}}]),c}(Fr);function te(_,u){return _.interfaces_&&_.interfaces_.indexOf(u)>-1}var Xe=function(){function _(u){r(this,_),this.str=u}return i(_,[{key:"append",value:function(u){this.str+=u}},{key:"setCharAt",value:function(u,c){this.str=this.str.substr(0,u)+c+this.str.substr(u+1)}},{key:"toString",value:function(){return this.str}}]),_}(),sr=function(){function _(u){r(this,_),this.value=u}return i(_,[{key:"intValue",value:function(){return this.value}},{key:"compareTo",value:function(u){return this.value<u?-1:this.value>u?1:0}}],[{key:"compare",value:function(u,c){return u<c?-1:u>c?1:0}},{key:"isNan",value:function(u){return Number.isNaN(u)}},{key:"valueOf",value:function(u){return new _(u)}}]),_}(),ii=function(){function _(){r(this,_)}return i(_,null,[{key:"isWhitespace",value:function(u){return u<=32&&u>=0||u===127}},{key:"toUpperCase",value:function(u){return u.toUpperCase()}}]),_}(),Te=function(){function _(){r(this,_),_.constructor_.apply(this,arguments)}return i(_,[{key:"le",value:function(u){return this._hi<u._hi||this._hi===u._hi&&this._lo<=u._lo}},{key:"extractSignificantDigits",value:function(u,c){var h=this.abs(),m=_.magnitude(h._hi),S=_.TEN.pow(m);(h=h.divide(S)).gt(_.TEN)?(h=h.divide(_.TEN),m+=1):h.lt(_.ONE)&&(h=h.multiply(_.TEN),m-=1);for(var E=m+1,I=new Xe,A=_.MAX_PRINT_DIGITS-1,O=0;O<=A;O++){u&&O===E&&I.append(".");var $=Math.trunc(h._hi);if($<0)break;var X=!1,ee=0;$>9?(X=!0,ee="9"):ee="0"+$,I.append(ee),h=h.subtract(_.valueOf($)).multiply(_.TEN),X&&h.selfAdd(_.TEN);var le=!0,se=_.magnitude(h._hi);if(se<0&&Math.abs(se)>=A-O&&(le=!1),!le)break}return c[0]=m,I.toString()}},{key:"sqr",value:function(){return this.multiply(this)}},{key:"doubleValue",value:function(){return this._hi+this._lo}},{key:"subtract",value:function(){if(arguments[0]instanceof _){var u=arguments[0];return this.add(u.negate())}if(typeof arguments[0]=="number"){var c=arguments[0];return this.add(-c)}}},{key:"equals",value:function(){if(arguments.length===1&&arguments[0]instanceof _){var u=arguments[0];return this._hi===u._hi&&this._lo===u._lo}}},{key:"isZero",value:function(){return this._hi===0&&this._lo===0}},{key:"selfSubtract",value:function(){if(arguments[0]instanceof _){var u=arguments[0];return this.isNaN()?this:this.selfAdd(-u._hi,-u._lo)}if(typeof arguments[0]=="number"){var c=arguments[0];return this.isNaN()?this:this.selfAdd(-c,0)}}},{key:"getSpecialNumberString",value:function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null}},{key:"min",value:function(u){return this.le(u)?this:u}},{key:"selfDivide",value:function(){if(arguments.length===1){if(arguments[0]instanceof _){var u=arguments[0];return this.selfDivide(u._hi,u._lo)}if(typeof arguments[0]=="number"){var c=arguments[0];return this.selfDivide(c,0)}}else if(arguments.length===2){var h=arguments[0],m=arguments[1],S=null,E=null,I=null,A=null,O=null,$=null,X=null,ee=null;return O=this._hi/h,ee=(S=($=_.SPLIT*O)-(S=$-O))*(I=(ee=_.SPLIT*h)-(I=ee-h))-(X=O*h)+S*(A=h-I)+(E=O-S)*I+E*A,ee=O+($=(this._hi-X-ee+this._lo-O*m)/h),this._hi=ee,this._lo=O-ee+$,this}}},{key:"dump",value:function(){return"DD<"+this._hi+", "+this._lo+">"}},{key:"divide",value:function(){if(arguments[0]instanceof _){var u=arguments[0],c=null,h=null,m=null,S=null,E=null,I=null,A=null,O=null;h=(E=this._hi/u._hi)-(c=(I=_.SPLIT*E)-(c=I-E)),O=c*(m=(O=_.SPLIT*u._hi)-(m=O-u._hi))-(A=E*u._hi)+c*(S=u._hi-m)+h*m+h*S;var $=O=E+(I=(this._hi-A-O+this._lo-E*u._lo)/u._hi),X=E-O+I;return new _($,X)}if(typeof arguments[0]=="number"){var ee=arguments[0];return j.isNaN(ee)?_.createNaN():_.copy(this).selfDivide(ee,0)}}},{key:"ge",value:function(u){return this._hi>u._hi||this._hi===u._hi&&this._lo>=u._lo}},{key:"pow",value:function(u){if(u===0)return _.valueOf(1);var c=new _(this),h=_.valueOf(1),m=Math.abs(u);if(m>1)for(;m>0;)m%2==1&&h.selfMultiply(c),(m/=2)>0&&(c=c.sqr());else h=c;return u<0?h.reciprocal():h}},{key:"ceil",value:function(){if(this.isNaN())return _.NaN;var u=Math.ceil(this._hi),c=0;return u===this._hi&&(c=Math.ceil(this._lo)),new _(u,c)}},{key:"compareTo",value:function(u){var c=u;return this._hi<c._hi?-1:this._hi>c._hi?1:this._lo<c._lo?-1:this._lo>c._lo?1:0}},{key:"rint",value:function(){return this.isNaN()?this:this.add(.5).floor()}},{key:"setValue",value:function(){if(arguments[0]instanceof _){var u=arguments[0];return this.init(u),this}if(typeof arguments[0]=="number"){var c=arguments[0];return this.init(c),this}}},{key:"max",value:function(u){return this.ge(u)?this:u}},{key:"sqrt",value:function(){if(this.isZero())return _.valueOf(0);if(this.isNegative())return _.NaN;var u=1/Math.sqrt(this._hi),c=this._hi*u,h=_.valueOf(c),m=this.subtract(h.sqr())._hi*(.5*u);return h.add(m)}},{key:"selfAdd",value:function(){if(arguments.length===1){if(arguments[0]instanceof _){var u=arguments[0];return this.selfAdd(u._hi,u._lo)}if(typeof arguments[0]=="number"){var c=arguments[0],h=null,m=null,S=null,E=null,I=null,A=null;return E=(S=this._hi+c)-(I=S-this._hi),m=(A=(E=c-I+(this._hi-E))+this._lo)+(S-(h=S+A)),this._hi=h+m,this._lo=m+(h-this._hi),this}}else if(arguments.length===2){var O=arguments[0],$=arguments[1],X=null,ee=null,le=null,se=null,Ce=null,Ie=null,Re=null;se=this._hi+O,ee=this._lo+$,Ce=se-(Ie=se-this._hi),le=ee-(Re=ee-this._lo);var rt=(X=se+(Ie=(Ce=O-Ie+(this._hi-Ce))+ee))+(Ie=(le=$-Re+(this._lo-le))+(Ie+(se-X))),_t=Ie+(X-rt);return this._hi=rt,this._lo=_t,this}}},{key:"selfMultiply",value:function(){if(arguments.length===1){if(arguments[0]instanceof _){var u=arguments[0];return this.selfMultiply(u._hi,u._lo)}if(typeof arguments[0]=="number"){var c=arguments[0];return this.selfMultiply(c,0)}}else if(arguments.length===2){var h=arguments[0],m=arguments[1],S=null,E=null,I=null,A=null,O=null,$=null;S=(O=_.SPLIT*this._hi)-this._hi,$=_.SPLIT*h,S=O-S,E=this._hi-S,I=$-h;var X=(O=this._hi*h)+($=S*(I=$-I)-O+S*(A=h-I)+E*I+E*A+(this._hi*m+this._lo*h)),ee=$+(S=O-X);return this._hi=X,this._lo=ee,this}}},{key:"selfSqr",value:function(){return this.selfMultiply(this)}},{key:"floor",value:function(){if(this.isNaN())return _.NaN;var u=Math.floor(this._hi),c=0;return u===this._hi&&(c=Math.floor(this._lo)),new _(u,c)}},{key:"negate",value:function(){return this.isNaN()?this:new _(-this._hi,-this._lo)}},{key:"clone",value:function(){try{return null}catch(u){if(u instanceof CloneNotSupportedException)return null;throw u}}},{key:"multiply",value:function(){if(arguments[0]instanceof _){var u=arguments[0];return u.isNaN()?_.createNaN():_.copy(this).selfMultiply(u)}if(typeof arguments[0]=="number"){var c=arguments[0];return j.isNaN(c)?_.createNaN():_.copy(this).selfMultiply(c,0)}}},{key:"isNaN",value:function(){return j.isNaN(this._hi)}},{key:"intValue",value:function(){return Math.trunc(this._hi)}},{key:"toString",value:function(){var u=_.magnitude(this._hi);return u>=-3&&u<=20?this.toStandardNotation():this.toSciNotation()}},{key:"toStandardNotation",value:function(){var u=this.getSpecialNumberString();if(u!==null)return u;var c=new Array(1).fill(null),h=this.extractSignificantDigits(!0,c),m=c[0]+1,S=h;if(h.charAt(0)===".")S="0"+h;else if(m<0)S="0."+_.stringOfChar("0",-m)+h;else if(h.indexOf(".")===-1){var E=m-h.length;S=h+_.stringOfChar("0",E)+".0"}return this.isNegative()?"-"+S:S}},{key:"reciprocal",value:function(){var u,c,h,m,S=null,E=null,I=null,A=null;u=(h=1/this._hi)-(S=(I=_.SPLIT*h)-(S=I-h)),E=(A=_.SPLIT*this._hi)-this._hi;var O=h+(I=(1-(m=h*this._hi)-(A=S*(E=A-E)-m+S*(c=this._hi-E)+u*E+u*c)-h*this._lo)/this._hi);return new _(O,h-O+I)}},{key:"toSciNotation",value:function(){if(this.isZero())return _.SCI_NOT_ZERO;var u=this.getSpecialNumberString();if(u!==null)return u;var c=new Array(1).fill(null),h=this.extractSignificantDigits(!1,c),m=_.SCI_NOT_EXPONENT_CHAR+c[0];if(h.charAt(0)==="0")throw new IllegalStateException("Found leading zero: "+h);var S="";h.length>1&&(S=h.substring(1));var E=h.charAt(0)+"."+S;return this.isNegative()?"-"+E+m:E+m}},{key:"abs",value:function(){return this.isNaN()?_.NaN:this.isNegative()?this.negate():new _(this)}},{key:"isPositive",value:function(){return this._hi>0||this._hi===0&&this._lo>0}},{key:"lt",value:function(u){return this._hi<u._hi||this._hi===u._hi&&this._lo<u._lo}},{key:"add",value:function(){if(arguments[0]instanceof _){var u=arguments[0];return _.copy(this).selfAdd(u)}if(typeof arguments[0]=="number"){var c=arguments[0];return _.copy(this).selfAdd(c)}}},{key:"init",value:function(){if(arguments.length===1){if(typeof arguments[0]=="number"){var u=arguments[0];this._hi=u,this._lo=0}else if(arguments[0]instanceof _){var c=arguments[0];this._hi=c._hi,this._lo=c._lo}}else if(arguments.length===2){var h=arguments[0],m=arguments[1];this._hi=h,this._lo=m}}},{key:"gt",value:function(u){return this._hi>u._hi||this._hi===u._hi&&this._lo>u._lo}},{key:"isNegative",value:function(){return this._hi<0||this._hi===0&&this._lo<0}},{key:"trunc",value:function(){return this.isNaN()?_.NaN:this.isPositive()?this.floor():this.ceil()}},{key:"signum",value:function(){return this._hi>0?1:this._hi<0?-1:this._lo>0?1:this._lo<0?-1:0}},{key:"interfaces_",get:function(){return[D,N,R]}}],[{key:"constructor_",value:function(){if(this._hi=0,this._lo=0,arguments.length===0)this.init(0);else if(arguments.length===1){if(typeof arguments[0]=="number"){var u=arguments[0];this.init(u)}else if(arguments[0]instanceof _){var c=arguments[0];this.init(c)}else if(typeof arguments[0]=="string"){var h=arguments[0];_.constructor_.call(this,_.parse(h))}}else if(arguments.length===2){var m=arguments[0],S=arguments[1];this.init(m,S)}}},{key:"determinant",value:function(){if(typeof arguments[3]=="number"&&typeof arguments[2]=="number"&&typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var u=arguments[0],c=arguments[1],h=arguments[2],m=arguments[3];return _.determinant(_.valueOf(u),_.valueOf(c),_.valueOf(h),_.valueOf(m))}if(arguments[3]instanceof _&&arguments[2]instanceof _&&arguments[0]instanceof _&&arguments[1]instanceof _){var S=arguments[0],E=arguments[1],I=arguments[2],A=arguments[3],O=S.multiply(A).selfSubtract(E.multiply(I));return O}}},{key:"sqr",value:function(u){return _.valueOf(u).selfMultiply(u)}},{key:"valueOf",value:function(){if(typeof arguments[0]=="string"){var u=arguments[0];return _.parse(u)}if(typeof arguments[0]=="number"){var c=arguments[0];return new _(c)}}},{key:"sqrt",value:function(u){return _.valueOf(u).sqrt()}},{key:"parse",value:function(u){for(var c=0,h=u.length;ii.isWhitespace(u.charAt(c));)c++;var m=!1;if(c<h){var S=u.charAt(c);S!=="-"&&S!=="+"||(c++,S==="-"&&(m=!0))}for(var E=new _,I=0,A=0,O=0,$=!1;!(c>=h);){var X=u.charAt(c);if(c++,ii.isDigit(X)){var ee=X-"0";E.selfMultiply(_.TEN),E.selfAdd(ee),I++}else{if(X!=="."){if(X==="e"||X==="E"){var le=u.substring(c);try{O=sr.parseInt(le)}catch(rt){throw rt instanceof NumberFormatException?new NumberFormatException("Invalid exponent "+le+" in string "+u):rt}break}throw new NumberFormatException("Unexpected character '"+X+"' at position "+c+" in string "+u)}A=I,$=!0}}var se=E;$||(A=I);var Ce=I-A-O;if(Ce===0)se=E;else if(Ce>0){var Ie=_.TEN.pow(Ce);se=E.divide(Ie)}else if(Ce<0){var Re=_.TEN.pow(-Ce);se=E.multiply(Re)}return m?se.negate():se}},{key:"createNaN",value:function(){return new _(j.NaN,j.NaN)}},{key:"copy",value:function(u){return new _(u)}},{key:"magnitude",value:function(u){var c=Math.abs(u),h=Math.log(c)/Math.log(10),m=Math.trunc(Math.floor(h));return 10*Math.pow(10,m)<=c&&(m+=1),m}},{key:"stringOfChar",value:function(u,c){for(var h=new Xe,m=0;m<c;m++)h.append(u);return h.toString()}}]),_}();Te.PI=new Te(3.141592653589793,12246467991473532e-32),Te.TWO_PI=new Te(6.283185307179586,24492935982947064e-32),Te.PI_2=new Te(1.5707963267948966,6123233995736766e-32),Te.E=new Te(2.718281828459045,14456468917292502e-32),Te.NaN=new Te(j.NaN,j.NaN),Te.EPS=123259516440783e-46,Te.SPLIT=134217729,Te.MAX_PRINT_DIGITS=32,Te.TEN=Te.valueOf(10),Te.ONE=Te.valueOf(1),Te.SCI_NOT_EXPONENT_CHAR="E",Te.SCI_NOT_ZERO="0.0E0";var iv=function(){function _(){r(this,_)}return i(_,null,[{key:"orientationIndex",value:function(u,c,h){var m=_.orientationIndexFilter(u,c,h);if(m<=1)return m;var S=Te.valueOf(c.x).selfAdd(-u.x),E=Te.valueOf(c.y).selfAdd(-u.y),I=Te.valueOf(h.x).selfAdd(-c.x),A=Te.valueOf(h.y).selfAdd(-c.y);return S.selfMultiply(A).selfSubtract(E.selfMultiply(I)).signum()}},{key:"signOfDet2x2",value:function(){if(arguments[3]instanceof Te&&arguments[2]instanceof Te&&arguments[0]instanceof Te&&arguments[1]instanceof Te){var u=arguments[0],c=arguments[1],h=arguments[2],m=arguments[3],S=u.multiply(m).selfSubtract(c.multiply(h));return S.signum()}if(typeof arguments[3]=="number"&&typeof arguments[2]=="number"&&typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var E=arguments[0],I=arguments[1],A=arguments[2],O=arguments[3],$=Te.valueOf(E),X=Te.valueOf(I),ee=Te.valueOf(A),le=Te.valueOf(O),se=$.multiply(le).selfSubtract(X.multiply(ee));return se.signum()}}},{key:"intersection",value:function(u,c,h,m){var S=new Te(u.y).selfSubtract(c.y),E=new Te(c.x).selfSubtract(u.x),I=new Te(u.x).selfMultiply(c.y).selfSubtract(new Te(c.x).selfMultiply(u.y)),A=new Te(h.y).selfSubtract(m.y),O=new Te(m.x).selfSubtract(h.x),$=new Te(h.x).selfMultiply(m.y).selfSubtract(new Te(m.x).selfMultiply(h.y)),X=E.multiply($).selfSubtract(O.multiply(I)),ee=A.multiply(I).selfSubtract(S.multiply($)),le=S.multiply(O).selfSubtract(A.multiply(E)),se=X.selfDivide(le).doubleValue(),Ce=ee.selfDivide(le).doubleValue();return j.isNaN(se)||j.isInfinite(se)||j.isNaN(Ce)||j.isInfinite(Ce)?null:new K(se,Ce)}},{key:"orientationIndexFilter",value:function(u,c,h){var m=null,S=(u.x-h.x)*(c.y-h.y),E=(u.y-h.y)*(c.x-h.x),I=S-E;if(S>0){if(E<=0)return _.signum(I);m=S+E}else{if(!(S<0)||E>=0)return _.signum(I);m=-S-E}var A=_.DP_SAFE_EPSILON*m;return I>=A||-I>=A?_.signum(I):2}},{key:"signum",value:function(u){return u>0?1:u<0?-1:0}}]),_}();iv.DP_SAFE_EPSILON=1e-15;var Ue=function(){function _(){r(this,_)}return i(_,[{key:"getM",value:function(u){if(this.hasM()){var c=this.getDimension()-this.getMeasures();return this.getOrdinate(u,c)}return j.NaN}},{key:"setOrdinate",value:function(u,c,h){}},{key:"getZ",value:function(u){return this.hasZ()?this.getOrdinate(u,2):j.NaN}},{key:"size",value:function(){}},{key:"getOrdinate",value:function(u,c){}},{key:"getCoordinate",value:function(){}},{key:"getCoordinateCopy",value:function(u){}},{key:"createCoordinate",value:function(){}},{key:"getDimension",value:function(){}},{key:"hasM",value:function(){return this.getMeasures()>0}},{key:"getX",value:function(u){}},{key:"hasZ",value:function(){return this.getDimension()-this.getMeasures()>2}},{key:"getMeasures",value:function(){return 0}},{key:"expandEnvelope",value:function(u){}},{key:"copy",value:function(){}},{key:"getY",value:function(u){}},{key:"toCoordinateArray",value:function(){}},{key:"interfaces_",get:function(){return[R]}}]),_}();Ue.X=0,Ue.Y=1,Ue.Z=2,Ue.M=3;var De=function(){function _(){r(this,_)}return i(_,null,[{key:"index",value:function(u,c,h){return iv.orientationIndex(u,c,h)}},{key:"isCCW",value:function(){if(arguments[0]instanceof Array){var u=arguments[0],c=u.length-1;if(c<3)throw new L("Ring has fewer than 4 points, so orientation cannot be determined");for(var h=u[0],m=0,S=1;S<=c;S++){var E=u[S];E.y>h.y&&(h=E,m=S)}var I=m;do(I-=1)<0&&(I=c);while(u[I].equals2D(h)&&I!==m);var A=m;do A=(A+1)%c;while(u[A].equals2D(h)&&A!==m);var O=u[I],$=u[A];if(O.equals2D(h)||$.equals2D(h)||O.equals2D($))return!1;var X=_.index(O,h,$),ee=null;return ee=X===0?O.x>$.x:X>0,ee}if(te(arguments[0],Ue)){var le=arguments[0],se=le.size()-1;if(se<3)throw new L("Ring has fewer than 4 points, so orientation cannot be determined");for(var Ce=le.getCoordinate(0),Ie=0,Re=1;Re<=se;Re++){var rt=le.getCoordinate(Re);rt.y>Ce.y&&(Ce=rt,Ie=Re)}var _t=null,qt=Ie;do(qt-=1)<0&&(qt=se),_t=le.getCoordinate(qt);while(_t.equals2D(Ce)&&qt!==Ie);var Mr=null,fn=Ie;do fn=(fn+1)%se,Mr=le.getCoordinate(fn);while(Mr.equals2D(Ce)&&fn!==Ie);if(_t.equals2D(Ce)||Mr.equals2D(Ce)||_t.equals2D(Mr))return!1;var ui=_.index(_t,Ce,Mr);return ui===0?_t.x>Mr.x:ui>0}}}]),_}();De.CLOCKWISE=-1,De.RIGHT=De.CLOCKWISE,De.COUNTERCLOCKWISE=1,De.LEFT=De.COUNTERCLOCKWISE,De.COLLINEAR=0,De.STRAIGHT=De.COLLINEAR;var Uk=function(){function _(){r(this,_),_.constructor_.apply(this,arguments)}return i(_,[{key:"getCoordinate",value:function(){return this._minCoord}},{key:"getRightmostSide",value:function(u,c){var h=this.getRightmostSideOfSegment(u,c);return h<0&&(h=this.getRightmostSideOfSegment(u,c-1)),h<0&&(this._minCoord=null,this.checkForRightmostCoordinate(u)),h}},{key:"findRightmostEdgeAtVertex",value:function(){var u=this._minDe.getEdge().getCoordinates();oe.isTrue(this._minIndex>0&&this._minIndex<u.length,"rightmost point expected to be interior vertex of edge");var c=u[this._minIndex-1],h=u[this._minIndex+1],m=De.index(this._minCoord,h,c),S=!1;(c.y<this._minCoord.y&&h.y<this._minCoord.y&&m===De.COUNTERCLOCKWISE||c.y>this._minCoord.y&&h.y>this._minCoord.y&&m===De.CLOCKWISE)&&(S=!0),S&&(this._minIndex=this._minIndex-1)}},{key:"getRightmostSideOfSegment",value:function(u,c){var h=u.getEdge().getCoordinates();if(c<0||c+1>=h.length||h[c].y===h[c+1].y)return-1;var m=ue.LEFT;return h[c].y<h[c+1].y&&(m=ue.RIGHT),m}},{key:"getEdge",value:function(){return this._orientedDe}},{key:"checkForRightmostCoordinate",value:function(u){for(var c=u.getEdge().getCoordinates(),h=0;h<c.length-1;h++)(this._minCoord===null||c[h].x>this._minCoord.x)&&(this._minDe=u,this._minIndex=h,this._minCoord=c[h])}},{key:"findRightmostEdgeAtNode",value:function(){var u=this._minDe.getNode().getEdges();this._minDe=u.getRightmostEdge(),this._minDe.isForward()||(this._minDe=this._minDe.getSym(),this._minIndex=this._minDe.getEdge().getCoordinates().length-1)}},{key:"findEdge",value:function(u){for(var c=u.iterator();c.hasNext();){var h=c.next();h.isForward()&&this.checkForRightmostCoordinate(h)}oe.isTrue(this._minIndex!==0||this._minCoord.equals(this._minDe.getCoordinate()),"inconsistency in rightmost processing"),this._minIndex===0?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this._orientedDe=this._minDe,this.getRightmostSide(this._minDe,this._minIndex)===ue.LEFT&&(this._orientedDe=this._minDe.getSym())}}],[{key:"constructor_",value:function(){this._minIndex=-1,this._minCoord=null,this._minDe=null,this._orientedDe=null}}]),_}(),ai=function(_){a(c,_);var u=p(c);function c(h,m){var S;return r(this,c),(S=u.call(this,m?h+" [ "+m+" ]":h)).pt=m?new K(m):void 0,S.name=Object.keys({TopologyException:c})[0],S}return i(c,[{key:"getCoordinate",value:function(){return this.pt}}]),c}(ae),Yk=function(){function _(){r(this,_),this.array=[]}return i(_,[{key:"addLast",value:function(u){this.array.push(u)}},{key:"removeFirst",value:function(){return this.array.shift()}},{key:"isEmpty",value:function(){return this.array.length===0}}]),_}(),Pe=function(_,u){a(h,_);var c=p(h);function h(m){var S;return r(this,h),(S=c.call(this)).array=[],m instanceof nt&&S.addAll(m),S}return i(h,[{key:"interfaces_",get:function(){return[Fr,nt]}},{key:"ensureCapacity",value:function(){}},{key:"add",value:function(m){return arguments.length===1?this.array.push(m):this.array.splice(arguments[0],0,arguments[1]),!0}},{key:"clear",value:function(){this.array=[]}},{key:"addAll",value:function(m){var S,E=C(m);try{for(E.s();!(S=E.n()).done;){var I=S.value;this.array.push(I)}}catch(A){E.e(A)}finally{E.f()}}},{key:"set",value:function(m,S){var E=this.array[m];return this.array[m]=S,E}},{key:"iterator",value:function(){return new qk(this)}},{key:"get",value:function(m){if(m<0||m>=this.size())throw new In;return this.array[m]}},{key:"isEmpty",value:function(){return this.array.length===0}},{key:"sort",value:function(m){m?this.array.sort(function(S,E){return m.compare(S,E)}):this.array.sort()}},{key:"size",value:function(){return this.array.length}},{key:"toArray",value:function(){return this.array.slice()}},{key:"remove",value:function(m){for(var S=0,E=this.array.length;S<E;S++)if(this.array[S]===m)return!!this.array.splice(S,1);return!1}},{key:u,value:function(){return this.array.values()}}]),h}(Fr,Symbol.iterator),qk=function(){function _(u){r(this,_),this.arrayList=u,this.position=0}return i(_,[{key:"next",value:function(){if(this.position===this.arrayList.size())throw new ft;return this.arrayList.get(this.position++)}},{key:"hasNext",value:function(){return this.position<this.arrayList.size()}},{key:"set",value:function(u){return this.arrayList.set(this.position-1,u)}},{key:"remove",value:function(){this.arrayList.remove(this.arrayList.get(this.position))}}]),_}(),Wk=function(){function _(){r(this,_),_.constructor_.apply(this,arguments)}return i(_,[{key:"clearVisitedEdges",value:function(){for(var u=this._dirEdgeList.iterator();u.hasNext();)u.next().setVisited(!1)}},{key:"getRightmostCoordinate",value:function(){return this._rightMostCoord}},{key:"computeNodeDepth",value:function(u){for(var c=null,h=u.getEdges().iterator();h.hasNext();){var m=h.next();if(m.isVisited()||m.getSym().isVisited()){c=m;break}}if(c===null)throw new ai("unable to find edge to compute depths at "+u.getCoordinate());u.getEdges().computeDepths(c);for(var S=u.getEdges().iterator();S.hasNext();){var E=S.next();E.setVisited(!0),this.copySymDepths(E)}}},{key:"computeDepth",value:function(u){this.clearVisitedEdges();var c=this._finder.getEdge();c.getNode(),c.getLabel(),c.setEdgeDepths(ue.RIGHT,u),this.copySymDepths(c),this.computeDepths(c)}},{key:"create",value:function(u){this.addReachable(u),this._finder.findEdge(this._dirEdgeList),this._rightMostCoord=this._finder.getCoordinate()}},{key:"findResultEdges",value:function(){for(var u=this._dirEdgeList.iterator();u.hasNext();){var c=u.next();c.getDepth(ue.RIGHT)>=1&&c.getDepth(ue.LEFT)<=0&&!c.isInteriorAreaEdge()&&c.setInResult(!0)}}},{key:"computeDepths",value:function(u){var c=new Ni,h=new Yk,m=u.getNode();for(h.addLast(m),c.add(m),u.setVisited(!0);!h.isEmpty();){var S=h.removeFirst();c.add(S),this.computeNodeDepth(S);for(var E=S.getEdges().iterator();E.hasNext();){var I=E.next().getSym();if(!I.isVisited()){var A=I.getNode();c.contains(A)||(h.addLast(A),c.add(A))}}}}},{key:"compareTo",value:function(u){var c=u;return this._rightMostCoord.x<c._rightMostCoord.x?-1:this._rightMostCoord.x>c._rightMostCoord.x?1:0}},{key:"getEnvelope",value:function(){if(this._env===null){for(var u=new _e,c=this._dirEdgeList.iterator();c.hasNext();)for(var h=c.next().getEdge().getCoordinates(),m=0;m<h.length-1;m++)u.expandToInclude(h[m]);this._env=u}return this._env}},{key:"addReachable",value:function(u){var c=new _a;for(c.add(u);!c.empty();){var h=c.pop();this.add(h,c)}}},{key:"copySymDepths",value:function(u){var c=u.getSym();c.setDepth(ue.LEFT,u.getDepth(ue.RIGHT)),c.setDepth(ue.RIGHT,u.getDepth(ue.LEFT))}},{key:"add",value:function(u,c){u.setVisited(!0),this._nodes.add(u);for(var h=u.getEdges().iterator();h.hasNext();){var m=h.next();this._dirEdgeList.add(m);var S=m.getSym().getNode();S.isVisited()||c.push(S)}}},{key:"getNodes",value:function(){return this._nodes}},{key:"getDirectedEdges",value:function(){return this._dirEdgeList}},{key:"interfaces_",get:function(){return[N]}}],[{key:"constructor_",value:function(){this._finder=null,this._dirEdgeList=new Pe,this._nodes=new Pe,this._rightMostCoord=null,this._env=null,this._finder=new Uk}}]),_}(),av=function(){function _(){r(this,_)}return i(_,null,[{key:"intersection",value:function(u,c,h,m){var S=u.x<c.x?u.x:c.x,E=u.y<c.y?u.y:c.y,I=u.x>c.x?u.x:c.x,A=u.y>c.y?u.y:c.y,O=h.x<m.x?h.x:m.x,$=h.y<m.y?h.y:m.y,X=h.x>m.x?h.x:m.x,ee=h.y>m.y?h.y:m.y,le=((S>O?S:O)+(I<X?I:X))/2,se=((E>$?E:$)+(A<ee?A:ee))/2,Ce=u.x-le,Ie=u.y-se,Re=c.x-le,rt=c.y-se,_t=h.x-le,qt=h.y-se,Mr=m.x-le,fn=m.y-se,ui=Ie-rt,Ea=Re-Ce,nu=Ce*rt-Re*Ie,iu=qt-fn,Ao=Mr-_t,By=_t*fn-Mr*qt,zy=ui*Ao-iu*Ea,bv=(Ea*By-Ao*nu)/zy,xv=(iu*nu-ui*By)/zy;return j.isNaN(bv)||j.isInfinite(bv)||j.isNaN(xv)||j.isInfinite(xv)?null:new K(bv+le,xv+se)}}]),_}(),Br=function(){function _(){r(this,_)}return i(_,null,[{key:"arraycopy",value:function(u,c,h,m,S){for(var E=0,I=c;I<c+S;I++)h[m+E]=u[I],E++}},{key:"getProperty",value:function(u){return{"line.separator":`
`}[u]}}]),_}(),Ks=function(){function _(){r(this,_)}return i(_,null,[{key:"log10",value:function(u){var c=Math.log(u);return j.isInfinite(c)||j.isNaN(c)?c:c/_.LOG_10}},{key:"min",value:function(u,c,h,m){var S=u;return c<S&&(S=c),h<S&&(S=h),m<S&&(S=m),S}},{key:"clamp",value:function(){if(typeof arguments[2]=="number"&&typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var u=arguments[0],c=arguments[1],h=arguments[2];return u<c?c:u>h?h:u}if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var m=arguments[0],S=arguments[1],E=arguments[2];return m<S?S:m>E?E:m}}},{key:"wrap",value:function(u,c){return u<0?c- -u%c:u%c}},{key:"max",value:function(){if(arguments.length===3){var u=arguments[0],c=arguments[1],h=arguments[2],m=u;return c>m&&(m=c),h>m&&(m=h),m}if(arguments.length===4){var S=arguments[0],E=arguments[1],I=arguments[2],A=arguments[3],O=S;return E>O&&(O=E),I>O&&(O=I),A>O&&(O=A),O}}},{key:"average",value:function(u,c){return(u+c)/2}}]),_}();Ks.LOG_10=Math.log(10);var Mn=function(){function _(){r(this,_)}return i(_,null,[{key:"segmentToSegment",value:function(u,c,h,m){if(u.equals(c))return _.pointToSegment(u,h,m);if(h.equals(m))return _.pointToSegment(m,u,c);var S=!1;if(_e.intersects(u,c,h,m)){var E=(c.x-u.x)*(m.y-h.y)-(c.y-u.y)*(m.x-h.x);if(E===0)S=!0;else{var I=(u.y-h.y)*(m.x-h.x)-(u.x-h.x)*(m.y-h.y),A=((u.y-h.y)*(c.x-u.x)-(u.x-h.x)*(c.y-u.y))/E,O=I/E;(O<0||O>1||A<0||A>1)&&(S=!0)}}else S=!0;return S?Ks.min(_.pointToSegment(u,h,m),_.pointToSegment(c,h,m),_.pointToSegment(h,u,c),_.pointToSegment(m,u,c)):0}},{key:"pointToSegment",value:function(u,c,h){if(c.x===h.x&&c.y===h.y)return u.distance(c);var m=(h.x-c.x)*(h.x-c.x)+(h.y-c.y)*(h.y-c.y),S=((u.x-c.x)*(h.x-c.x)+(u.y-c.y)*(h.y-c.y))/m;if(S<=0)return u.distance(c);if(S>=1)return u.distance(h);var E=((c.y-u.y)*(h.x-c.x)-(c.x-u.x)*(h.y-c.y))/m;return Math.abs(E)*Math.sqrt(m)}},{key:"pointToLinePerpendicular",value:function(u,c,h){var m=(h.x-c.x)*(h.x-c.x)+(h.y-c.y)*(h.y-c.y),S=((c.y-u.y)*(h.x-c.x)-(c.x-u.x)*(h.y-c.y))/m;return Math.abs(S)*Math.sqrt(m)}},{key:"pointToSegmentString",value:function(u,c){if(c.length===0)throw new L("Line array must contain at least one vertex");for(var h=u.distance(c[0]),m=0;m<c.length-1;m++){var S=_.pointToSegment(u,c[m],c[m+1]);S<h&&(h=S)}return h}}]),_}(),Jm=function(){function _(){r(this,_)}return i(_,[{key:"create",value:function(){if(arguments.length===1)arguments[0]instanceof Array||te(arguments[0],Ue);else if(arguments.length!==2){if(arguments.length===3){var u=arguments[0],c=arguments[1];return this.create(u,c)}}}}]),_}(),Vl=function(){function _(){r(this,_)}return i(_,[{key:"filter",value:function(u){}}]),_}(),Xk=function(){function _(){r(this,_)}return i(_,null,[{key:"ofLine",value:function(u){var c=u.size();if(c<=1)return 0;var h=0,m=new K;u.getCoordinate(0,m);for(var S=m.x,E=m.y,I=1;I<c;I++){u.getCoordinate(I,m);var A=m.x,O=m.y,$=A-S,X=O-E;h+=Math.sqrt($*$+X*X),S=A,E=O}return h}}]),_}(),ey=function _(){r(this,_)},wa=function(){function _(){r(this,_)}return i(_,null,[{key:"copyCoord",value:function(u,c,h,m){for(var S=Math.min(u.getDimension(),h.getDimension()),E=0;E<S;E++)h.setOrdinate(m,E,u.getOrdinate(c,E))}},{key:"isRing",value:function(u){var c=u.size();return c===0||!(c<=3)&&u.getOrdinate(0,Ue.X)===u.getOrdinate(c-1,Ue.X)&&u.getOrdinate(0,Ue.Y)===u.getOrdinate(c-1,Ue.Y)}},{key:"scroll",value:function(){if(arguments.length===2){if(te(arguments[0],Ue)&&Number.isInteger(arguments[1])){var u=arguments[0],c=arguments[1];_.scroll(u,c,_.isRing(u))}else if(te(arguments[0],Ue)&&arguments[1]instanceof K){var h=arguments[0],m=arguments[1],S=_.indexOf(m,h);if(S<=0)return null;_.scroll(h,S)}}else if(arguments.length===3){var E=arguments[0],I=arguments[1],A=arguments[2],O=I;if(O<=0)return null;for(var $=E.copy(),X=A?E.size()-1:E.size(),ee=0;ee<X;ee++)for(var le=0;le<E.getDimension();le++)E.setOrdinate(ee,le,$.getOrdinate((I+ee)%X,le));if(A)for(var se=0;se<E.getDimension();se++)E.setOrdinate(X,se,E.getOrdinate(0,se))}}},{key:"isEqual",value:function(u,c){var h=u.size();if(h!==c.size())return!1;for(var m=Math.min(u.getDimension(),c.getDimension()),S=0;S<h;S++)for(var E=0;E<m;E++){var I=u.getOrdinate(S,E),A=c.getOrdinate(S,E);if(u.getOrdinate(S,E)!==c.getOrdinate(S,E)&&(!j.isNaN(I)||!j.isNaN(A)))return!1}return!0}},{key:"minCoordinateIndex",value:function(){if(arguments.length===1){var u=arguments[0];return _.minCoordinateIndex(u,0,u.size()-1)}if(arguments.length===3){for(var c=arguments[0],h=arguments[1],m=arguments[2],S=-1,E=null,I=h;I<=m;I++){var A=c.getCoordinate(I);(E===null||E.compareTo(A)>0)&&(E=A,S=I)}return S}}},{key:"extend",value:function(u,c,h){var m=u.create(h,c.getDimension()),S=c.size();if(_.copy(c,0,m,0,S),S>0)for(var E=S;E<h;E++)_.copy(c,S-1,m,E,1);return m}},{key:"reverse",value:function(u){for(var c=u.size()-1,h=Math.trunc(c/2),m=0;m<=h;m++)_.swap(u,m,c-m)}},{key:"swap",value:function(u,c,h){if(c===h)return null;for(var m=0;m<u.getDimension();m++){var S=u.getOrdinate(c,m);u.setOrdinate(c,m,u.getOrdinate(h,m)),u.setOrdinate(h,m,S)}}},{key:"copy",value:function(u,c,h,m,S){for(var E=0;E<S;E++)_.copyCoord(u,c+E,h,m+E)}},{key:"ensureValidRing",value:function(u,c){var h=c.size();return h===0?c:h<=3?_.createClosedRing(u,c,4):c.getOrdinate(0,Ue.X)===c.getOrdinate(h-1,Ue.X)&&c.getOrdinate(0,Ue.Y)===c.getOrdinate(h-1,Ue.Y)?c:_.createClosedRing(u,c,h+1)}},{key:"indexOf",value:function(u,c){for(var h=0;h<c.size();h++)if(u.x===c.getOrdinate(h,Ue.X)&&u.y===c.getOrdinate(h,Ue.Y))return h;return-1}},{key:"createClosedRing",value:function(u,c,h){var m=u.create(h,c.getDimension()),S=c.size();_.copy(c,0,m,0,S);for(var E=S;E<h;E++)_.copy(c,0,m,E,1);return m}},{key:"minCoordinate",value:function(u){for(var c=null,h=0;h<u.size();h++){var m=u.getCoordinate(h);(c===null||c.compareTo(m)>0)&&(c=m)}return c}}]),_}(),ve=function(){function _(){r(this,_)}return i(_,null,[{key:"toDimensionSymbol",value:function(u){switch(u){case _.FALSE:return _.SYM_FALSE;case _.TRUE:return _.SYM_TRUE;case _.DONTCARE:return _.SYM_DONTCARE;case _.P:return _.SYM_P;case _.L:return _.SYM_L;case _.A:return _.SYM_A}throw new L("Unknown dimension value: "+u)}},{key:"toDimensionValue",value:function(u){switch(ii.toUpperCase(u)){case _.SYM_FALSE:return _.FALSE;case _.SYM_TRUE:return _.TRUE;case _.SYM_DONTCARE:return _.DONTCARE;case _.SYM_P:return _.P;case _.SYM_L:return _.L;case _.SYM_A:return _.A}throw new L("Unknown dimension symbol: "+u)}}]),_}();ve.P=0,ve.L=1,ve.A=2,ve.FALSE=-1,ve.TRUE=-2,ve.DONTCARE=-3,ve.SYM_FALSE="F",ve.SYM_TRUE="T",ve.SYM_DONTCARE="*",ve.SYM_P="0",ve.SYM_L="1",ve.SYM_A="2";var Hl=function(){function _(){r(this,_)}return i(_,[{key:"filter",value:function(u){}}]),_}(),$l=function(){function _(){r(this,_)}return i(_,[{key:"filter",value:function(u,c){}},{key:"isDone",value:function(){}},{key:"isGeometryChanged",value:function(){}}]),_}(),Zs=function(_){a(c,_);var u=p(c);function c(){var h;return r(this,c),h=u.call(this),c.constructor_.apply(d(h),arguments),h}return i(c,[{key:"computeEnvelopeInternal",value:function(){return this.isEmpty()?new _e:this._points.expandEnvelope(new _e)}},{key:"isRing",value:function(){return this.isClosed()&&this.isSimple()}},{key:"getCoordinates",value:function(){return this._points.toCoordinateArray()}},{key:"copyInternal",value:function(){return new c(this._points.copy(),this._factory)}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof ne){var h=arguments[0],m=arguments[1];if(!this.isEquivalentClass(h))return!1;var S=h;if(this._points.size()!==S._points.size())return!1;for(var E=0;E<this._points.size();E++)if(!this.equal(this._points.getCoordinate(E),S._points.getCoordinate(E),m))return!1;return!0}return y(o(c.prototype),"equalsExact",this).apply(this,arguments)}},{key:"normalize",value:function(){for(var h=0;h<Math.trunc(this._points.size()/2);h++){var m=this._points.size()-1-h;if(!this._points.getCoordinate(h).equals(this._points.getCoordinate(m))){if(this._points.getCoordinate(h).compareTo(this._points.getCoordinate(m))>0){var S=this._points.copy();wa.reverse(S),this._points=S}return null}}}},{key:"getCoordinate",value:function(){return this.isEmpty()?null:this._points.getCoordinate(0)}},{key:"getBoundaryDimension",value:function(){return this.isClosed()?ve.FALSE:0}},{key:"isClosed",value:function(){return!this.isEmpty()&&this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))}},{key:"reverseInternal",value:function(){var h=this._points.copy();return wa.reverse(h),this.getFactory().createLineString(h)}},{key:"getEndPoint",value:function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)}},{key:"getTypeCode",value:function(){return ne.TYPECODE_LINESTRING}},{key:"getDimension",value:function(){return 1}},{key:"getLength",value:function(){return Xk.ofLine(this._points)}},{key:"getNumPoints",value:function(){return this._points.size()}},{key:"compareToSameClass",value:function(){if(arguments.length===1){for(var h=arguments[0],m=h,S=0,E=0;S<this._points.size()&&E<m._points.size();){var I=this._points.getCoordinate(S).compareTo(m._points.getCoordinate(E));if(I!==0)return I;S++,E++}return S<this._points.size()?1:E<m._points.size()?-1:0}if(arguments.length===2){var A=arguments[0],O=arguments[1],$=A;return O.compare(this._points,$._points)}}},{key:"apply",value:function(){if(te(arguments[0],Vl))for(var h=arguments[0],m=0;m<this._points.size();m++)h.filter(this._points.getCoordinate(m));else if(te(arguments[0],$l)){var S=arguments[0];if(this._points.size()===0)return null;for(var E=0;E<this._points.size()&&(S.filter(this._points,E),!S.isDone());E++);S.isGeometryChanged()&&this.geometryChanged()}else if(te(arguments[0],Hl)){var I=arguments[0];I.filter(this)}else if(te(arguments[0],M)){var A=arguments[0];A.filter(this)}}},{key:"getBoundary",value:function(){throw new Yt}},{key:"isEquivalentClass",value:function(h){return h instanceof c}},{key:"getCoordinateN",value:function(h){return this._points.getCoordinate(h)}},{key:"getGeometryType",value:function(){return ne.TYPENAME_LINESTRING}},{key:"getCoordinateSequence",value:function(){return this._points}},{key:"isEmpty",value:function(){return this._points.size()===0}},{key:"init",value:function(h){if(h===null&&(h=this.getFactory().getCoordinateSequenceFactory().create([])),h.size()===1)throw new L("Invalid number of points in LineString (found "+h.size()+" - must be 0 or >= 2)");this._points=h}},{key:"isCoordinate",value:function(h){for(var m=0;m<this._points.size();m++)if(this._points.getCoordinate(m).equals(h))return!0;return!1}},{key:"getStartPoint",value:function(){return this.isEmpty()?null:this.getPointN(0)}},{key:"getPointN",value:function(h){return this.getFactory().createPoint(this._points.getCoordinate(h))}},{key:"interfaces_",get:function(){return[ey]}}],[{key:"constructor_",value:function(){if(this._points=null,arguments.length!==0){if(arguments.length===2){var h=arguments[0],m=arguments[1];ne.constructor_.call(this,m),this.init(h)}}}}]),c}(ne),ty=function _(){r(this,_)},ov=function(_){a(c,_);var u=p(c);function c(){var h;return r(this,c),h=u.call(this),c.constructor_.apply(d(h),arguments),h}return i(c,[{key:"computeEnvelopeInternal",value:function(){if(this.isEmpty())return new _e;var h=new _e;return h.expandToInclude(this._coordinates.getX(0),this._coordinates.getY(0)),h}},{key:"getCoordinates",value:function(){return this.isEmpty()?[]:[this.getCoordinate()]}},{key:"copyInternal",value:function(){return new c(this._coordinates.copy(),this._factory)}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof ne){var h=arguments[0],m=arguments[1];return!!this.isEquivalentClass(h)&&(!(!this.isEmpty()||!h.isEmpty())||this.isEmpty()===h.isEmpty()&&this.equal(h.getCoordinate(),this.getCoordinate(),m))}return y(o(c.prototype),"equalsExact",this).apply(this,arguments)}},{key:"normalize",value:function(){}},{key:"getCoordinate",value:function(){return this._coordinates.size()!==0?this._coordinates.getCoordinate(0):null}},{key:"getBoundaryDimension",value:function(){return ve.FALSE}},{key:"reverseInternal",value:function(){return this.getFactory().createPoint(this._coordinates.copy())}},{key:"getTypeCode",value:function(){return ne.TYPECODE_POINT}},{key:"getDimension",value:function(){return 0}},{key:"getNumPoints",value:function(){return this.isEmpty()?0:1}},{key:"getX",value:function(){if(this.getCoordinate()===null)throw new IllegalStateException("getX called on empty Point");return this.getCoordinate().x}},{key:"compareToSameClass",value:function(){if(arguments.length===1){var h=arguments[0],m=h;return this.getCoordinate().compareTo(m.getCoordinate())}if(arguments.length===2){var S=arguments[0],E=arguments[1],I=S;return E.compare(this._coordinates,I._coordinates)}}},{key:"apply",value:function(){if(te(arguments[0],Vl)){var h=arguments[0];if(this.isEmpty())return null;h.filter(this.getCoordinate())}else if(te(arguments[0],$l)){var m=arguments[0];if(this.isEmpty())return null;m.filter(this._coordinates,0),m.isGeometryChanged()&&this.geometryChanged()}else if(te(arguments[0],Hl)){var S=arguments[0];S.filter(this)}else if(te(arguments[0],M)){var E=arguments[0];E.filter(this)}}},{key:"getBoundary",value:function(){return this.getFactory().createGeometryCollection()}},{key:"getGeometryType",value:function(){return ne.TYPENAME_POINT}},{key:"getCoordinateSequence",value:function(){return this._coordinates}},{key:"getY",value:function(){if(this.getCoordinate()===null)throw new IllegalStateException("getY called on empty Point");return this.getCoordinate().y}},{key:"isEmpty",value:function(){return this._coordinates.size()===0}},{key:"init",value:function(h){h===null&&(h=this.getFactory().getCoordinateSequenceFactory().create([])),oe.isTrue(h.size()<=1),this._coordinates=h}},{key:"isSimple",value:function(){return!0}},{key:"interfaces_",get:function(){return[ty]}}],[{key:"constructor_",value:function(){this._coordinates=null;var h=arguments[0],m=arguments[1];ne.constructor_.call(this,m),this.init(h)}}]),c}(ne),ry=function(){function _(){r(this,_)}return i(_,null,[{key:"ofRing",value:function(){if(arguments[0]instanceof Array){var u=arguments[0];return Math.abs(_.ofRingSigned(u))}if(te(arguments[0],Ue)){var c=arguments[0];return Math.abs(_.ofRingSigned(c))}}},{key:"ofRingSigned",value:function(){if(arguments[0]instanceof Array){var u=arguments[0];if(u.length<3)return 0;for(var c=0,h=u[0].x,m=1;m<u.length-1;m++){var S=u[m].x-h,E=u[m+1].y,I=u[m-1].y;c+=S*(I-E)}return c/2}if(te(arguments[0],Ue)){var A=arguments[0],O=A.size();if(O<3)return 0;var $=new K,X=new K,ee=new K;A.getCoordinate(0,X),A.getCoordinate(1,ee);var le=X.x;ee.x-=le;for(var se=0,Ce=1;Ce<O-1;Ce++)$.y=X.y,X.x=ee.x,X.y=ee.y,A.getCoordinate(Ce+1,ee),ee.x-=le,se+=X.x*($.y-ee.y);return se/2}}}]),_}(),ba=function(){function _(){r(this,_)}return i(_,null,[{key:"sort",value:function(){var u=arguments,c=arguments[0];if(arguments.length===1)c.sort(function(le,se){return le.compareTo(se)});else if(arguments.length===2)c.sort(function(le,se){return u[1].compare(le,se)});else if(arguments.length===3){var h=c.slice(arguments[1],arguments[2]);h.sort();var m=c.slice(0,arguments[1]).concat(h,c.slice(arguments[2],c.length));c.splice(0,c.length);var S,E=C(m);try{for(E.s();!(S=E.n()).done;){var I=S.value;c.push(I)}}catch(le){E.e(le)}finally{E.f()}}else if(arguments.length===4){var A=c.slice(arguments[1],arguments[2]);A.sort(function(le,se){return u[3].compare(le,se)});var O=c.slice(0,arguments[1]).concat(A,c.slice(arguments[2],c.length));c.splice(0,c.length);var $,X=C(O);try{for(X.s();!($=X.n()).done;){var ee=$.value;c.push(ee)}}catch(le){X.e(le)}finally{X.f()}}}},{key:"asList",value:function(u){var c,h=new Pe,m=C(u);try{for(m.s();!(c=m.n()).done;){var S=c.value;h.add(S)}}catch(E){m.e(E)}finally{m.f()}return h}},{key:"copyOf",value:function(u,c){return u.slice(0,c)}}]),_}(),ny=function _(){r(this,_)},Ul=function(_){a(c,_);var u=p(c);function c(){var h;return r(this,c),h=u.call(this),c.constructor_.apply(d(h),arguments),h}return i(c,[{key:"computeEnvelopeInternal",value:function(){return this._shell.getEnvelopeInternal()}},{key:"getCoordinates",value:function(){if(this.isEmpty())return[];for(var h=new Array(this.getNumPoints()).fill(null),m=-1,S=this._shell.getCoordinates(),E=0;E<S.length;E++)h[++m]=S[E];for(var I=0;I<this._holes.length;I++)for(var A=this._holes[I].getCoordinates(),O=0;O<A.length;O++)h[++m]=A[O];return h}},{key:"getArea",value:function(){var h=0;h+=ry.ofRing(this._shell.getCoordinateSequence());for(var m=0;m<this._holes.length;m++)h-=ry.ofRing(this._holes[m].getCoordinateSequence());return h}},{key:"copyInternal",value:function(){for(var h=this._shell.copy(),m=new Array(this._holes.length).fill(null),S=0;S<this._holes.length;S++)m[S]=this._holes[S].copy();return new c(h,m,this._factory)}},{key:"isRectangle",value:function(){if(this.getNumInteriorRing()!==0||this._shell===null||this._shell.getNumPoints()!==5)return!1;for(var h=this._shell.getCoordinateSequence(),m=this.getEnvelopeInternal(),S=0;S<5;S++){var E=h.getX(S);if(E!==m.getMinX()&&E!==m.getMaxX())return!1;var I=h.getY(S);if(I!==m.getMinY()&&I!==m.getMaxY())return!1}for(var A=h.getX(0),O=h.getY(0),$=1;$<=4;$++){var X=h.getX($),ee=h.getY($);if(X!==A==(ee!==O))return!1;A=X,O=ee}return!0}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof ne){var h=arguments[0],m=arguments[1];if(!this.isEquivalentClass(h))return!1;var S=h,E=this._shell,I=S._shell;if(!E.equalsExact(I,m)||this._holes.length!==S._holes.length)return!1;for(var A=0;A<this._holes.length;A++)if(!this._holes[A].equalsExact(S._holes[A],m))return!1;return!0}return y(o(c.prototype),"equalsExact",this).apply(this,arguments)}},{key:"normalize",value:function(){if(arguments.length===0){this._shell=this.normalized(this._shell,!0);for(var h=0;h<this._holes.length;h++)this._holes[h]=this.normalized(this._holes[h],!1);ba.sort(this._holes)}else if(arguments.length===2){var m=arguments[0],S=arguments[1];if(m.isEmpty())return null;var E=m.getCoordinateSequence(),I=wa.minCoordinateIndex(E,0,E.size()-2);wa.scroll(E,I,!0),De.isCCW(E)===S&&wa.reverse(E)}}},{key:"getCoordinate",value:function(){return this._shell.getCoordinate()}},{key:"getNumInteriorRing",value:function(){return this._holes.length}},{key:"getBoundaryDimension",value:function(){return 1}},{key:"reverseInternal",value:function(){for(var h=this.getExteriorRing().reverse(),m=new Array(this.getNumInteriorRing()).fill(null),S=0;S<m.length;S++)m[S]=this.getInteriorRingN(S).reverse();return this.getFactory().createPolygon(h,m)}},{key:"getTypeCode",value:function(){return ne.TYPECODE_POLYGON}},{key:"getDimension",value:function(){return 2}},{key:"getLength",value:function(){var h=0;h+=this._shell.getLength();for(var m=0;m<this._holes.length;m++)h+=this._holes[m].getLength();return h}},{key:"getNumPoints",value:function(){for(var h=this._shell.getNumPoints(),m=0;m<this._holes.length;m++)h+=this._holes[m].getNumPoints();return h}},{key:"convexHull",value:function(){return this.getExteriorRing().convexHull()}},{key:"normalized",value:function(h,m){var S=h.copy();return this.normalize(S,m),S}},{key:"compareToSameClass",value:function(){if(arguments.length===1){var h=arguments[0],m=this._shell,S=h._shell;return m.compareToSameClass(S)}if(arguments.length===2){var E=arguments[0],I=arguments[1],A=E,O=this._shell,$=A._shell,X=O.compareToSameClass($,I);if(X!==0)return X;for(var ee=this.getNumInteriorRing(),le=A.getNumInteriorRing(),se=0;se<ee&&se<le;){var Ce=this.getInteriorRingN(se),Ie=A.getInteriorRingN(se),Re=Ce.compareToSameClass(Ie,I);if(Re!==0)return Re;se++}return se<ee?1:se<le?-1:0}}},{key:"apply",value:function(){if(te(arguments[0],Vl)){var h=arguments[0];this._shell.apply(h);for(var m=0;m<this._holes.length;m++)this._holes[m].apply(h)}else if(te(arguments[0],$l)){var S=arguments[0];if(this._shell.apply(S),!S.isDone())for(var E=0;E<this._holes.length&&(this._holes[E].apply(S),!S.isDone());E++);S.isGeometryChanged()&&this.geometryChanged()}else if(te(arguments[0],Hl)){var I=arguments[0];I.filter(this)}else if(te(arguments[0],M)){var A=arguments[0];A.filter(this),this._shell.apply(A);for(var O=0;O<this._holes.length;O++)this._holes[O].apply(A)}}},{key:"getBoundary",value:function(){if(this.isEmpty())return this.getFactory().createMultiLineString();var h=new Array(this._holes.length+1).fill(null);h[0]=this._shell;for(var m=0;m<this._holes.length;m++)h[m+1]=this._holes[m];return h.length<=1?this.getFactory().createLinearRing(h[0].getCoordinateSequence()):this.getFactory().createMultiLineString(h)}},{key:"getGeometryType",value:function(){return ne.TYPENAME_POLYGON}},{key:"getExteriorRing",value:function(){return this._shell}},{key:"isEmpty",value:function(){return this._shell.isEmpty()}},{key:"getInteriorRingN",value:function(h){return this._holes[h]}},{key:"interfaces_",get:function(){return[ny]}}],[{key:"constructor_",value:function(){this._shell=null,this._holes=null;var h=arguments[0],m=arguments[1],S=arguments[2];if(ne.constructor_.call(this,S),h===null&&(h=this.getFactory().createLinearRing()),m===null&&(m=[]),ne.hasNullElements(m))throw new L("holes must not contain null elements");if(h.isEmpty()&&ne.hasNonEmptyElements(m))throw new L("shell is empty but holes are not");this._shell=h,this._holes=m}}]),c}(ne),Kk=function(_){a(c,_);var u=p(c);function c(){return r(this,c),u.apply(this,arguments)}return c}(kn),iy=function(_){a(c,_);var u=p(c);function c(h){var m;return r(this,c),(m=u.call(this)).array=[],h instanceof nt&&m.addAll(h),m}return i(c,[{key:"contains",value:function(h){var m,S=C(this.array);try{for(S.s();!(m=S.n()).done;)if(m.value.compareTo(h)===0)return!0}catch(E){S.e(E)}finally{S.f()}return!1}},{key:"add",value:function(h){if(this.contains(h))return!1;for(var m=0,S=this.array.length;m<S;m++)if(this.array[m].compareTo(h)===1)return!!this.array.splice(m,0,h);return this.array.push(h),!0}},{key:"addAll",value:function(h){var m,S=C(h);try{for(S.s();!(m=S.n()).done;){var E=m.value;this.add(E)}}catch(I){S.e(I)}finally{S.f()}return!0}},{key:"remove",value:function(){throw new Yt}},{key:"size",value:function(){return this.array.length}},{key:"isEmpty",value:function(){return this.array.length===0}},{key:"toArray",value:function(){return this.array.slice()}},{key:"iterator",value:function(){return new Zk(this.array)}}]),c}(Kk),Zk=function(){function _(u){r(this,_),this.array=u,this.position=0}return i(_,[{key:"next",value:function(){if(this.position===this.array.length)throw new ft;return this.array[this.position++]}},{key:"hasNext",value:function(){return this.position<this.array.length}},{key:"remove",value:function(){throw new Yt}}]),_}(),Er=function(_){a(c,_);var u=p(c);function c(){var h;return r(this,c),h=u.call(this),c.constructor_.apply(d(h),arguments),h}return i(c,[{key:"computeEnvelopeInternal",value:function(){for(var h=new _e,m=0;m<this._geometries.length;m++)h.expandToInclude(this._geometries[m].getEnvelopeInternal());return h}},{key:"getGeometryN",value:function(h){return this._geometries[h]}},{key:"getCoordinates",value:function(){for(var h=new Array(this.getNumPoints()).fill(null),m=-1,S=0;S<this._geometries.length;S++)for(var E=this._geometries[S].getCoordinates(),I=0;I<E.length;I++)h[++m]=E[I];return h}},{key:"getArea",value:function(){for(var h=0,m=0;m<this._geometries.length;m++)h+=this._geometries[m].getArea();return h}},{key:"copyInternal",value:function(){for(var h=new Array(this._geometries.length).fill(null),m=0;m<h.length;m++)h[m]=this._geometries[m].copy();return new c(h,this._factory)}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof ne){var h=arguments[0],m=arguments[1];if(!this.isEquivalentClass(h))return!1;var S=h;if(this._geometries.length!==S._geometries.length)return!1;for(var E=0;E<this._geometries.length;E++)if(!this._geometries[E].equalsExact(S._geometries[E],m))return!1;return!0}return y(o(c.prototype),"equalsExact",this).apply(this,arguments)}},{key:"normalize",value:function(){for(var h=0;h<this._geometries.length;h++)this._geometries[h].normalize();ba.sort(this._geometries)}},{key:"getCoordinate",value:function(){return this.isEmpty()?null:this._geometries[0].getCoordinate()}},{key:"getBoundaryDimension",value:function(){for(var h=ve.FALSE,m=0;m<this._geometries.length;m++)h=Math.max(h,this._geometries[m].getBoundaryDimension());return h}},{key:"reverseInternal",value:function(){for(var h=this._geometries.length,m=new Pe(h),S=0;S<h;S++)m.add(this._geometries[S].reverse());return this.getFactory().buildGeometry(m)}},{key:"getTypeCode",value:function(){return ne.TYPECODE_GEOMETRYCOLLECTION}},{key:"getDimension",value:function(){for(var h=ve.FALSE,m=0;m<this._geometries.length;m++)h=Math.max(h,this._geometries[m].getDimension());return h}},{key:"getLength",value:function(){for(var h=0,m=0;m<this._geometries.length;m++)h+=this._geometries[m].getLength();return h}},{key:"getNumPoints",value:function(){for(var h=0,m=0;m<this._geometries.length;m++)h+=this._geometries[m].getNumPoints();return h}},{key:"getNumGeometries",value:function(){return this._geometries.length}},{key:"compareToSameClass",value:function(){if(arguments.length===1){var h=arguments[0],m=new iy(ba.asList(this._geometries)),S=new iy(ba.asList(h._geometries));return this.compare(m,S)}if(arguments.length===2){for(var E=arguments[0],I=arguments[1],A=E,O=this.getNumGeometries(),$=A.getNumGeometries(),X=0;X<O&&X<$;){var ee=this.getGeometryN(X),le=A.getGeometryN(X),se=ee.compareToSameClass(le,I);if(se!==0)return se;X++}return X<O?1:X<$?-1:0}}},{key:"apply",value:function(){if(te(arguments[0],Vl))for(var h=arguments[0],m=0;m<this._geometries.length;m++)this._geometries[m].apply(h);else if(te(arguments[0],$l)){var S=arguments[0];if(this._geometries.length===0)return null;for(var E=0;E<this._geometries.length&&(this._geometries[E].apply(S),!S.isDone());E++);S.isGeometryChanged()&&this.geometryChanged()}else if(te(arguments[0],Hl)){var I=arguments[0];I.filter(this);for(var A=0;A<this._geometries.length;A++)this._geometries[A].apply(I)}else if(te(arguments[0],M)){var O=arguments[0];O.filter(this);for(var $=0;$<this._geometries.length;$++)this._geometries[$].apply(O)}}},{key:"getBoundary",value:function(){return ne.checkNotGeometryCollection(this),oe.shouldNeverReachHere(),null}},{key:"getGeometryType",value:function(){return ne.TYPENAME_GEOMETRYCOLLECTION}},{key:"isEmpty",value:function(){for(var h=0;h<this._geometries.length;h++)if(!this._geometries[h].isEmpty())return!1;return!0}}],[{key:"constructor_",value:function(){if(this._geometries=null,arguments.length!==0){if(arguments.length===2){var h=arguments[0],m=arguments[1];if(ne.constructor_.call(this,m),h===null&&(h=[]),ne.hasNullElements(h))throw new L("geometries must not contain null elements");this._geometries=h}}}}]),c}(ne),sv=function(_){a(c,_);var u=p(c);function c(){var h;return r(this,c),h=u.call(this),c.constructor_.apply(d(h),arguments),h}return i(c,[{key:"copyInternal",value:function(){for(var h=new Array(this._geometries.length).fill(null),m=0;m<h.length;m++)h[m]=this._geometries[m].copy();return new c(h,this._factory)}},{key:"isValid",value:function(){return!0}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof ne){var h=arguments[0],m=arguments[1];return!!this.isEquivalentClass(h)&&y(o(c.prototype),"equalsExact",this).call(this,h,m)}return y(o(c.prototype),"equalsExact",this).apply(this,arguments)}},{key:"getCoordinate",value:function(){if(arguments.length===1&&Number.isInteger(arguments[0])){var h=arguments[0];return this._geometries[h].getCoordinate()}return y(o(c.prototype),"getCoordinate",this).apply(this,arguments)}},{key:"getBoundaryDimension",value:function(){return ve.FALSE}},{key:"getTypeCode",value:function(){return ne.TYPECODE_MULTIPOINT}},{key:"getDimension",value:function(){return 0}},{key:"getBoundary",value:function(){return this.getFactory().createGeometryCollection()}},{key:"getGeometryType",value:function(){return ne.TYPENAME_MULTIPOINT}},{key:"interfaces_",get:function(){return[ty]}}],[{key:"constructor_",value:function(){var h=arguments[0],m=arguments[1];Er.constructor_.call(this,h,m)}}]),c}(Er),js=function(_){a(c,_);var u=p(c);function c(){var h;return r(this,c),h=u.call(this),c.constructor_.apply(d(h),arguments),h}return i(c,[{key:"copyInternal",value:function(){return new c(this._points.copy(),this._factory)}},{key:"getBoundaryDimension",value:function(){return ve.FALSE}},{key:"isClosed",value:function(){return!!this.isEmpty()||y(o(c.prototype),"isClosed",this).call(this)}},{key:"reverseInternal",value:function(){var h=this._points.copy();return wa.reverse(h),this.getFactory().createLinearRing(h)}},{key:"getTypeCode",value:function(){return ne.TYPECODE_LINEARRING}},{key:"validateConstruction",value:function(){if(!this.isEmpty()&&!y(o(c.prototype),"isClosed",this).call(this))throw new L("Points of LinearRing do not form a closed linestring");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<c.MINIMUM_VALID_SIZE)throw new L("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")}},{key:"getGeometryType",value:function(){return ne.TYPENAME_LINEARRING}}],[{key:"constructor_",value:function(){var h=arguments[0],m=arguments[1];Zs.constructor_.call(this,h,m),this.validateConstruction()}}]),c}(Zs);js.MINIMUM_VALID_SIZE=4;var xa=function(_){a(c,_);var u=p(c);function c(){var h;return r(this,c),h=u.call(this),c.constructor_.apply(d(h),arguments),h}return i(c,[{key:"setOrdinate",value:function(h,m){switch(h){case c.X:this.x=m;break;case c.Y:this.y=m;break;default:throw new L("Invalid ordinate index: "+h)}}},{key:"getZ",value:function(){return K.NULL_ORDINATE}},{key:"getOrdinate",value:function(h){switch(h){case c.X:return this.x;case c.Y:return this.y}throw new L("Invalid ordinate index: "+h)}},{key:"setZ",value:function(h){throw new L("CoordinateXY dimension 2 does not support z-ordinate")}},{key:"copy",value:function(){return new c(this)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+")"}},{key:"setCoordinate",value:function(h){this.x=h.x,this.y=h.y,this.z=h.getZ()}}],[{key:"constructor_",value:function(){if(arguments.length===0)K.constructor_.call(this);else if(arguments.length===1){if(arguments[0]instanceof c){var h=arguments[0];K.constructor_.call(this,h.x,h.y)}else if(arguments[0]instanceof K){var m=arguments[0];K.constructor_.call(this,m.x,m.y)}}else if(arguments.length===2){var S=arguments[0],E=arguments[1];K.constructor_.call(this,S,E,K.NULL_ORDINATE)}}}]),c}(K);xa.X=0,xa.Y=1,xa.Z=-1,xa.M=-1;var Sa=function(_){a(c,_);var u=p(c);function c(){var h;return r(this,c),h=u.call(this),c.constructor_.apply(d(h),arguments),h}return i(c,[{key:"getM",value:function(){return this._m}},{key:"setOrdinate",value:function(h,m){switch(h){case c.X:this.x=m;break;case c.Y:this.y=m;break;case c.M:this._m=m;break;default:throw new L("Invalid ordinate index: "+h)}}},{key:"setM",value:function(h){this._m=h}},{key:"getZ",value:function(){return K.NULL_ORDINATE}},{key:"getOrdinate",value:function(h){switch(h){case c.X:return this.x;case c.Y:return this.y;case c.M:return this._m}throw new L("Invalid ordinate index: "+h)}},{key:"setZ",value:function(h){throw new L("CoordinateXY dimension 2 does not support z-ordinate")}},{key:"copy",value:function(){return new c(this)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+" m="+this.getM()+")"}},{key:"setCoordinate",value:function(h){this.x=h.x,this.y=h.y,this.z=h.getZ(),this._m=h.getM()}}],[{key:"constructor_",value:function(){if(this._m=null,arguments.length===0)K.constructor_.call(this),this._m=0;else if(arguments.length===1){if(arguments[0]instanceof c){var h=arguments[0];K.constructor_.call(this,h.x,h.y),this._m=h._m}else if(arguments[0]instanceof K){var m=arguments[0];K.constructor_.call(this,m.x,m.y),this._m=this.getM()}}else if(arguments.length===3){var S=arguments[0],E=arguments[1],I=arguments[2];K.constructor_.call(this,S,E,K.NULL_ORDINATE),this._m=I}}}]),c}(K);Sa.X=0,Sa.Y=1,Sa.Z=-1,Sa.M=2;var uv=function(_){a(c,_);var u=p(c);function c(){var h;return r(this,c),h=u.call(this),c.constructor_.apply(d(h),arguments),h}return i(c,[{key:"getM",value:function(){return this._m}},{key:"setOrdinate",value:function(h,m){switch(h){case K.X:this.x=m;break;case K.Y:this.y=m;break;case K.Z:this.z=m;break;case K.M:this._m=m;break;default:throw new L("Invalid ordinate index: "+h)}}},{key:"setM",value:function(h){this._m=h}},{key:"getOrdinate",value:function(h){switch(h){case K.X:return this.x;case K.Y:return this.y;case K.Z:return this.getZ();case K.M:return this.getM()}throw new L("Invalid ordinate index: "+h)}},{key:"copy",value:function(){return new c(this)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+", "+this.getZ()+" m="+this.getM()+")"}},{key:"setCoordinate",value:function(h){this.x=h.x,this.y=h.y,this.z=h.getZ(),this._m=h.getM()}}],[{key:"constructor_",value:function(){if(this._m=null,arguments.length===0)K.constructor_.call(this),this._m=0;else if(arguments.length===1){if(arguments[0]instanceof c){var h=arguments[0];K.constructor_.call(this,h),this._m=h._m}else if(arguments[0]instanceof K){var m=arguments[0];K.constructor_.call(this,m),this._m=this.getM()}}else if(arguments.length===4){var S=arguments[0],E=arguments[1],I=arguments[2],A=arguments[3];K.constructor_.call(this,S,E,I),this._m=A}}}]),c}(K),Yl=function(){function _(){r(this,_)}return i(_,null,[{key:"measures",value:function(u){return u instanceof xa?0:u instanceof Sa||u instanceof uv?1:0}},{key:"dimension",value:function(u){return u instanceof xa?2:u instanceof Sa?3:u instanceof uv?4:3}},{key:"create",value:function(){if(arguments.length===1){var u=arguments[0];return _.create(u,0)}if(arguments.length===2){var c=arguments[0],h=arguments[1];return c===2?new xa:c===3&&h===0?new K:c===3&&h===1?new Sa:c===4&&h===1?new uv:new K}}}]),_}(),Qs=function(_){a(c,_);var u=p(c);function c(){var h;return r(this,c),h=u.call(this),c.constructor_.apply(d(h),arguments),h}return i(c,[{key:"getCoordinate",value:function(h){return this.get(h)}},{key:"addAll",value:function(){if(arguments.length===2&&typeof arguments[1]=="boolean"&&te(arguments[0],nt)){for(var h=arguments[0],m=arguments[1],S=!1,E=h.iterator();E.hasNext();)this.add(E.next(),m),S=!0;return S}return y(o(c.prototype),"addAll",this).apply(this,arguments)}},{key:"clone",value:function(){for(var h=y(o(c.prototype),"clone",this).call(this),m=0;m<this.size();m++)h.add(m,this.get(m).clone());return h}},{key:"toCoordinateArray",value:function(){if(arguments.length===0)return this.toArray(c.coordArrayType);if(arguments.length===1){var h=arguments[0];if(h)return this.toArray(c.coordArrayType);for(var m=this.size(),S=new Array(m).fill(null),E=0;E<m;E++)S[E]=this.get(m-E-1);return S}}},{key:"add",value:function(){if(arguments.length===1){var h=arguments[0];return y(o(c.prototype),"add",this).call(this,h)}if(arguments.length===2){if(arguments[0]instanceof Array&&typeof arguments[1]=="boolean"){var m=arguments[0],S=arguments[1];return this.add(m,S,!0),!0}if(arguments[0]instanceof K&&typeof arguments[1]=="boolean"){var E=arguments[0],I=arguments[1];if(!I&&this.size()>=1){var A=this.get(this.size()-1);if(A.equals2D(E))return null}y(o(c.prototype),"add",this).call(this,E)}else if(arguments[0]instanceof Object&&typeof arguments[1]=="boolean"){var O=arguments[0],$=arguments[1];return this.add(O,$),!0}}else if(arguments.length===3){if(typeof arguments[2]=="boolean"&&arguments[0]instanceof Array&&typeof arguments[1]=="boolean"){var X=arguments[0],ee=arguments[1],le=arguments[2];if(le)for(var se=0;se<X.length;se++)this.add(X[se],ee);else for(var Ce=X.length-1;Ce>=0;Ce--)this.add(X[Ce],ee);return!0}if(typeof arguments[2]=="boolean"&&Number.isInteger(arguments[0])&&arguments[1]instanceof K){var Ie=arguments[0],Re=arguments[1],rt=arguments[2];if(!rt){var _t=this.size();if(_t>0){if(Ie>0){var qt=this.get(Ie-1);if(qt.equals2D(Re))return null}if(Ie<_t){var Mr=this.get(Ie);if(Mr.equals2D(Re))return null}}}y(o(c.prototype),"add",this).call(this,Ie,Re)}}else if(arguments.length===4){var fn=arguments[0],ui=arguments[1],Ea=arguments[2],nu=arguments[3],iu=1;Ea>nu&&(iu=-1);for(var Ao=Ea;Ao!==nu;Ao+=iu)this.add(fn[Ao],ui);return!0}}},{key:"closeRing",value:function(){if(this.size()>0){var h=this.get(0).copy();this.add(h,!1)}}}],[{key:"constructor_",value:function(){if(arguments.length!==0){if(arguments.length===1){var h=arguments[0];this.ensureCapacity(h.length),this.add(h,!0)}else if(arguments.length===2){var m=arguments[0],S=arguments[1];this.ensureCapacity(m.length),this.add(m,S)}}}}]),c}(Pe);Qs.coordArrayType=new Array(0).fill(null);var Ft=function(){function _(){r(this,_)}return i(_,null,[{key:"isRing",value:function(u){return!(u.length<4)&&!!u[0].equals2D(u[u.length-1])}},{key:"ptNotInList",value:function(u,c){for(var h=0;h<u.length;h++){var m=u[h];if(_.indexOf(m,c)<0)return m}return null}},{key:"scroll",value:function(u,c){var h=_.indexOf(c,u);if(h<0)return null;var m=new Array(u.length).fill(null);Br.arraycopy(u,h,m,0,u.length-h),Br.arraycopy(u,0,m,u.length-h,h),Br.arraycopy(m,0,u,0,u.length)}},{key:"equals",value:function(){if(arguments.length===2){var u=arguments[0],c=arguments[1];if(u===c)return!0;if(u===null||c===null||u.length!==c.length)return!1;for(var h=0;h<u.length;h++)if(!u[h].equals(c[h]))return!1;return!0}if(arguments.length===3){var m=arguments[0],S=arguments[1],E=arguments[2];if(m===S)return!0;if(m===null||S===null||m.length!==S.length)return!1;for(var I=0;I<m.length;I++)if(E.compare(m[I],S[I])!==0)return!1;return!0}}},{key:"intersection",value:function(u,c){for(var h=new Qs,m=0;m<u.length;m++)c.intersects(u[m])&&h.add(u[m],!0);return h.toCoordinateArray()}},{key:"measures",value:function(u){if(u===null||u.length===0)return 0;var c,h=0,m=C(u);try{for(m.s();!(c=m.n()).done;){var S=c.value;h=Math.max(h,Yl.measures(S))}}catch(E){m.e(E)}finally{m.f()}return h}},{key:"hasRepeatedPoints",value:function(u){for(var c=1;c<u.length;c++)if(u[c-1].equals(u[c]))return!0;return!1}},{key:"removeRepeatedPoints",value:function(u){return _.hasRepeatedPoints(u)?new Qs(u,!1).toCoordinateArray():u}},{key:"reverse",value:function(u){for(var c=u.length-1,h=Math.trunc(c/2),m=0;m<=h;m++){var S=u[m];u[m]=u[c-m],u[c-m]=S}}},{key:"removeNull",value:function(u){for(var c=0,h=0;h<u.length;h++)u[h]!==null&&c++;var m=new Array(c).fill(null);if(c===0)return m;for(var S=0,E=0;E<u.length;E++)u[E]!==null&&(m[S++]=u[E]);return m}},{key:"copyDeep",value:function(){if(arguments.length===1){for(var u=arguments[0],c=new Array(u.length).fill(null),h=0;h<u.length;h++)c[h]=u[h].copy();return c}if(arguments.length===5)for(var m=arguments[0],S=arguments[1],E=arguments[2],I=arguments[3],A=arguments[4],O=0;O<A;O++)E[I+O]=m[S+O].copy()}},{key:"isEqualReversed",value:function(u,c){for(var h=0;h<u.length;h++){var m=u[h],S=c[u.length-h-1];if(m.compareTo(S)!==0)return!1}return!0}},{key:"envelope",value:function(u){for(var c=new _e,h=0;h<u.length;h++)c.expandToInclude(u[h]);return c}},{key:"toCoordinateArray",value:function(u){return u.toArray(_.coordArrayType)}},{key:"dimension",value:function(u){if(u===null||u.length===0)return 3;var c,h=0,m=C(u);try{for(m.s();!(c=m.n()).done;){var S=c.value;h=Math.max(h,Yl.dimension(S))}}catch(E){m.e(E)}finally{m.f()}return h}},{key:"atLeastNCoordinatesOrNothing",value:function(u,c){return c.length>=u?c:[]}},{key:"indexOf",value:function(u,c){for(var h=0;h<c.length;h++)if(u.equals(c[h]))return h;return-1}},{key:"increasingDirection",value:function(u){for(var c=0;c<Math.trunc(u.length/2);c++){var h=u.length-1-c,m=u[c].compareTo(u[h]);if(m!==0)return m}return 1}},{key:"compare",value:function(u,c){for(var h=0;h<u.length&&h<c.length;){var m=u[h].compareTo(c[h]);if(m!==0)return m;h++}return h<c.length?-1:h<u.length?1:0}},{key:"minCoordinate",value:function(u){for(var c=null,h=0;h<u.length;h++)(c===null||c.compareTo(u[h])>0)&&(c=u[h]);return c}},{key:"extract",value:function(u,c,h){c=Ks.clamp(c,0,u.length);var m=(h=Ks.clamp(h,-1,u.length))-c+1;h<0&&(m=0),c>=u.length&&(m=0),h<c&&(m=0);var S=new Array(m).fill(null);if(m===0)return S;for(var E=0,I=c;I<=h;I++)S[E++]=u[I];return S}}]),_}(),jk=function(){function _(){r(this,_)}return i(_,[{key:"compare",value:function(u,c){var h=u,m=c;return Ft.compare(h,m)}},{key:"interfaces_",get:function(){return[pe]}}]),_}(),Qk=function(){function _(){r(this,_)}return i(_,[{key:"compare",value:function(u,c){var h=u,m=c;if(h.length<m.length)return-1;if(h.length>m.length)return 1;if(h.length===0)return 0;var S=Ft.compare(h,m);return Ft.isEqualReversed(h,m)?0:S}},{key:"OLDcompare",value:function(u,c){var h=u,m=c;if(h.length<m.length)return-1;if(h.length>m.length)return 1;if(h.length===0)return 0;for(var S=Ft.increasingDirection(h),E=Ft.increasingDirection(m),I=S>0?0:h.length-1,A=E>0?0:h.length-1,O=0;O<h.length;O++){var $=h[I].compareTo(m[A]);if($!==0)return $;I+=S,A+=E}return 0}},{key:"interfaces_",get:function(){return[pe]}}]),_}();Ft.ForwardComparator=jk,Ft.BidirectionalComparator=Qk,Ft.coordArrayType=new Array(0).fill(null);var ql=function(){function _(u){r(this,_),this.str=u}return i(_,[{key:"append",value:function(u){this.str+=u}},{key:"setCharAt",value:function(u,c){this.str=this.str.substr(0,u)+c+this.str.substr(u+1)}},{key:"toString",value:function(){return this.str}}]),_}(),Js=function(){function _(){r(this,_),_.constructor_.apply(this,arguments)}return i(_,[{key:"getM",value:function(u){return this.hasM()?this._coordinates[u].getM():j.NaN}},{key:"setOrdinate",value:function(u,c,h){switch(c){case Ue.X:this._coordinates[u].x=h;break;case Ue.Y:this._coordinates[u].y=h;break;default:this._coordinates[u].setOrdinate(c,h)}}},{key:"getZ",value:function(u){return this.hasZ()?this._coordinates[u].getZ():j.NaN}},{key:"size",value:function(){return this._coordinates.length}},{key:"getOrdinate",value:function(u,c){switch(c){case Ue.X:return this._coordinates[u].x;case Ue.Y:return this._coordinates[u].y;default:return this._coordinates[u].getOrdinate(c)}}},{key:"getCoordinate",value:function(){if(arguments.length===1){var u=arguments[0];return this._coordinates[u]}if(arguments.length===2){var c=arguments[0],h=arguments[1];h.setCoordinate(this._coordinates[c])}}},{key:"getCoordinateCopy",value:function(u){var c=this.createCoordinate();return c.setCoordinate(this._coordinates[u]),c}},{key:"createCoordinate",value:function(){return Yl.create(this.getDimension(),this.getMeasures())}},{key:"getDimension",value:function(){return this._dimension}},{key:"getX",value:function(u){return this._coordinates[u].x}},{key:"getMeasures",value:function(){return this._measures}},{key:"expandEnvelope",value:function(u){for(var c=0;c<this._coordinates.length;c++)u.expandToInclude(this._coordinates[c]);return u}},{key:"copy",value:function(){for(var u=new Array(this.size()).fill(null),c=0;c<this._coordinates.length;c++){var h=this.createCoordinate();h.setCoordinate(this._coordinates[c]),u[c]=h}return new _(u,this._dimension,this._measures)}},{key:"toString",value:function(){if(this._coordinates.length>0){var u=new ql(17*this._coordinates.length);u.append("("),u.append(this._coordinates[0]);for(var c=1;c<this._coordinates.length;c++)u.append(", "),u.append(this._coordinates[c]);return u.append(")"),u.toString()}return"()"}},{key:"getY",value:function(u){return this._coordinates[u].y}},{key:"toCoordinateArray",value:function(){return this._coordinates}},{key:"interfaces_",get:function(){return[Ue,D]}}],[{key:"constructor_",value:function(){if(this._dimension=3,this._measures=0,this._coordinates=null,arguments.length===1){if(arguments[0]instanceof Array){var u=arguments[0];_.constructor_.call(this,u,Ft.dimension(u),Ft.measures(u))}else if(Number.isInteger(arguments[0])){var c=arguments[0];this._coordinates=new Array(c).fill(null);for(var h=0;h<c;h++)this._coordinates[h]=new K}else if(te(arguments[0],Ue)){var m=arguments[0];if(m===null)return this._coordinates=new Array(0).fill(null),null;this._dimension=m.getDimension(),this._measures=m.getMeasures(),this._coordinates=new Array(m.size()).fill(null);for(var S=0;S<this._coordinates.length;S++)this._coordinates[S]=m.getCoordinateCopy(S)}}else if(arguments.length===2){if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var E=arguments[0],I=arguments[1];_.constructor_.call(this,E,I,Ft.measures(E))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var A=arguments[0],O=arguments[1];this._coordinates=new Array(A).fill(null),this._dimension=O;for(var $=0;$<A;$++)this._coordinates[$]=Yl.create(O)}}else if(arguments.length===3){if(Number.isInteger(arguments[2])&&arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var X=arguments[0],ee=arguments[1],le=arguments[2];this._dimension=ee,this._measures=le,this._coordinates=X===null?new Array(0).fill(null):X}else if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var se=arguments[0],Ce=arguments[1],Ie=arguments[2];this._coordinates=new Array(se).fill(null),this._dimension=Ce,this._measures=Ie;for(var Re=0;Re<se;Re++)this._coordinates[Re]=this.createCoordinate()}}}}]),_}(),lv=function(){function _(){r(this,_)}return i(_,[{key:"readResolve",value:function(){return _.instance()}},{key:"create",value:function(){if(arguments.length===1){if(arguments[0]instanceof Array){var u=arguments[0];return new Js(u)}if(te(arguments[0],Ue)){var c=arguments[0];return new Js(c)}}else{if(arguments.length===2){var h=arguments[0],m=arguments[1];return m>3&&(m=3),m<2&&(m=2),new Js(h,m)}if(arguments.length===3){var S=arguments[0],E=arguments[1],I=arguments[2],A=E-I;return I>1&&(I=1),A>3&&(A=3),A<2&&(A=2),new Js(S,A+I,I)}}}},{key:"interfaces_",get:function(){return[Jm,D]}}],[{key:"instance",value:function(){return _.instanceObject}}]),_}();lv.instanceObject=new lv;var cv=function(_){a(c,_);var u=p(c);function c(){var h;return r(this,c),h=u.call(this),c.constructor_.apply(d(h),arguments),h}return i(c,[{key:"copyInternal",value:function(){for(var h=new Array(this._geometries.length).fill(null),m=0;m<h.length;m++)h[m]=this._geometries[m].copy();return new c(h,this._factory)}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof ne){var h=arguments[0],m=arguments[1];return!!this.isEquivalentClass(h)&&y(o(c.prototype),"equalsExact",this).call(this,h,m)}return y(o(c.prototype),"equalsExact",this).apply(this,arguments)}},{key:"getBoundaryDimension",value:function(){return 1}},{key:"getTypeCode",value:function(){return ne.TYPECODE_MULTIPOLYGON}},{key:"getDimension",value:function(){return 2}},{key:"getBoundary",value:function(){if(this.isEmpty())return this.getFactory().createMultiLineString();for(var h=new Pe,m=0;m<this._geometries.length;m++)for(var S=this._geometries[m].getBoundary(),E=0;E<S.getNumGeometries();E++)h.add(S.getGeometryN(E));var I=new Array(h.size()).fill(null);return this.getFactory().createMultiLineString(h.toArray(I))}},{key:"getGeometryType",value:function(){return ne.TYPENAME_MULTIPOLYGON}},{key:"interfaces_",get:function(){return[ny]}}],[{key:"constructor_",value:function(){var h=arguments[0],m=arguments[1];Er.constructor_.call(this,h,m)}}]),c}(Er),ay=function(){function _(){r(this,_)}return i(_,[{key:"get",value:function(){}},{key:"put",value:function(){}},{key:"size",value:function(){}},{key:"values",value:function(){}},{key:"entrySet",value:function(){}}]),_}(),Jk=function(_){a(c,_);var u=p(c);function c(){var h;return r(this,c),(h=u.call(this)).map=new Map,h}return i(c,[{key:"get",value:function(h){return this.map.get(h)||null}},{key:"put",value:function(h,m){return this.map.set(h,m),m}},{key:"values",value:function(){for(var h=new Pe,m=this.map.values(),S=m.next();!S.done;)h.add(S.value),S=m.next();return h}},{key:"entrySet",value:function(){var h=new Ni;return this.map.entries().forEach(function(m){return h.add(m)}),h}},{key:"size",value:function(){return this.map.size()}}]),c}(ay),ln=function(){function _(){r(this,_),_.constructor_.apply(this,arguments)}return i(_,[{key:"equals",value:function(u){if(!(u instanceof _))return!1;var c=u;return this._modelType===c._modelType&&this._scale===c._scale}},{key:"compareTo",value:function(u){var c=u,h=this.getMaximumSignificantDigits(),m=c.getMaximumSignificantDigits();return sr.compare(h,m)}},{key:"getScale",value:function(){return this._scale}},{key:"isFloating",value:function(){return this._modelType===_.FLOATING||this._modelType===_.FLOATING_SINGLE}},{key:"getType",value:function(){return this._modelType}},{key:"toString",value:function(){var u="UNKNOWN";return this._modelType===_.FLOATING?u="Floating":this._modelType===_.FLOATING_SINGLE?u="Floating-Single":this._modelType===_.FIXED&&(u="Fixed (Scale="+this.getScale()+")"),u}},{key:"makePrecise",value:function(){if(typeof arguments[0]=="number"){var u=arguments[0];return j.isNaN(u)||this._modelType===_.FLOATING_SINGLE?u:this._modelType===_.FIXED?Math.round(u*this._scale)/this._scale:u}if(arguments[0]instanceof K){var c=arguments[0];if(this._modelType===_.FLOATING)return null;c.x=this.makePrecise(c.x),c.y=this.makePrecise(c.y)}}},{key:"getMaximumSignificantDigits",value:function(){var u=16;return this._modelType===_.FLOATING?u=16:this._modelType===_.FLOATING_SINGLE?u=6:this._modelType===_.FIXED&&(u=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),u}},{key:"setScale",value:function(u){this._scale=Math.abs(u)}},{key:"interfaces_",get:function(){return[D,N]}}],[{key:"constructor_",value:function(){if(this._modelType=null,this._scale=null,arguments.length===0)this._modelType=_.FLOATING;else if(arguments.length===1){if(arguments[0]instanceof Eo){var u=arguments[0];this._modelType=u,u===_.FIXED&&this.setScale(1)}else if(typeof arguments[0]=="number"){var c=arguments[0];this._modelType=_.FIXED,this.setScale(c)}else if(arguments[0]instanceof _){var h=arguments[0];this._modelType=h._modelType,this._scale=h._scale}}}},{key:"mostPrecise",value:function(u,c){return u.compareTo(c)>=0?u:c}}]),_}(),Eo=function(){function _(){r(this,_),_.constructor_.apply(this,arguments)}return i(_,[{key:"readResolve",value:function(){return _.nameToTypeMap.get(this._name)}},{key:"toString",value:function(){return this._name}},{key:"interfaces_",get:function(){return[D]}}],[{key:"constructor_",value:function(){this._name=null;var u=arguments[0];this._name=u,_.nameToTypeMap.put(u,this)}}]),_}();Eo.nameToTypeMap=new Jk,ln.Type=Eo,ln.FIXED=new Eo("FIXED"),ln.FLOATING=new Eo("FLOATING"),ln.FLOATING_SINGLE=new Eo("FLOATING SINGLE"),ln.maximumPreciseValue=9007199254740992;var fv=function(_){a(c,_);var u=p(c);function c(){var h;return r(this,c),h=u.call(this),c.constructor_.apply(d(h),arguments),h}return i(c,[{key:"copyInternal",value:function(){for(var h=new Array(this._geometries.length).fill(null),m=0;m<h.length;m++)h[m]=this._geometries[m].copy();return new c(h,this._factory)}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof ne){var h=arguments[0],m=arguments[1];return!!this.isEquivalentClass(h)&&y(o(c.prototype),"equalsExact",this).call(this,h,m)}return y(o(c.prototype),"equalsExact",this).apply(this,arguments)}},{key:"getBoundaryDimension",value:function(){return this.isClosed()?ve.FALSE:0}},{key:"isClosed",value:function(){if(this.isEmpty())return!1;for(var h=0;h<this._geometries.length;h++)if(!this._geometries[h].isClosed())return!1;return!0}},{key:"getTypeCode",value:function(){return ne.TYPECODE_MULTILINESTRING}},{key:"getDimension",value:function(){return 1}},{key:"getBoundary",value:function(){throw new Yt}},{key:"getGeometryType",value:function(){return ne.TYPENAME_MULTILINESTRING}},{key:"interfaces_",get:function(){return[ey]}}],[{key:"constructor_",value:function(){var h=arguments[0],m=arguments[1];Er.constructor_.call(this,h,m)}}]),c}(Er),ko=function(){function _(){r(this,_),_.constructor_.apply(this,arguments)}return i(_,[{key:"createEmpty",value:function(u){switch(u){case-1:return this.createGeometryCollection();case 0:return this.createPoint();case 1:return this.createLineString();case 2:return this.createPolygon();default:throw new L("Invalid dimension: "+u)}}},{key:"toGeometry",value:function(u){return u.isNull()?this.createPoint():u.getMinX()===u.getMaxX()&&u.getMinY()===u.getMaxY()?this.createPoint(new K(u.getMinX(),u.getMinY())):u.getMinX()===u.getMaxX()||u.getMinY()===u.getMaxY()?this.createLineString([new K(u.getMinX(),u.getMinY()),new K(u.getMaxX(),u.getMaxY())]):this.createPolygon(this.createLinearRing([new K(u.getMinX(),u.getMinY()),new K(u.getMinX(),u.getMaxY()),new K(u.getMaxX(),u.getMaxY()),new K(u.getMaxX(),u.getMinY()),new K(u.getMinX(),u.getMinY())]),null)}},{key:"createLineString",value:function(){if(arguments.length===0)return this.createLineString(this.getCoordinateSequenceFactory().create([]));if(arguments.length===1){if(arguments[0]instanceof Array){var u=arguments[0];return this.createLineString(u!==null?this.getCoordinateSequenceFactory().create(u):null)}if(te(arguments[0],Ue)){var c=arguments[0];return new Zs(c,this)}}}},{key:"createMultiLineString",value:function(){if(arguments.length===0)return new fv(null,this);if(arguments.length===1){var u=arguments[0];return new fv(u,this)}}},{key:"buildGeometry",value:function(u){for(var c=null,h=!1,m=!1,S=u.iterator();S.hasNext();){var E=S.next(),I=E.getTypeCode();c===null&&(c=I),I!==c&&(h=!0),E instanceof Er&&(m=!0)}if(c===null)return this.createGeometryCollection();if(h||m)return this.createGeometryCollection(_.toGeometryArray(u));var A=u.iterator().next();if(u.size()>1){if(A instanceof Ul)return this.createMultiPolygon(_.toPolygonArray(u));if(A instanceof Zs)return this.createMultiLineString(_.toLineStringArray(u));if(A instanceof ov)return this.createMultiPoint(_.toPointArray(u));oe.shouldNeverReachHere("Unhandled geometry type: "+A.getGeometryType())}return A}},{key:"createMultiPointFromCoords",value:function(u){return this.createMultiPoint(u!==null?this.getCoordinateSequenceFactory().create(u):null)}},{key:"createPoint",value:function(){if(arguments.length===0)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(arguments.length===1){if(arguments[0]instanceof K){var u=arguments[0];return this.createPoint(u!==null?this.getCoordinateSequenceFactory().create([u]):null)}if(te(arguments[0],Ue)){var c=arguments[0];return new ov(c,this)}}}},{key:"getCoordinateSequenceFactory",value:function(){return this._coordinateSequenceFactory}},{key:"createPolygon",value:function(){if(arguments.length===0)return this.createPolygon(null,null);if(arguments.length===1){if(te(arguments[0],Ue)){var u=arguments[0];return this.createPolygon(this.createLinearRing(u))}if(arguments[0]instanceof Array){var c=arguments[0];return this.createPolygon(this.createLinearRing(c))}if(arguments[0]instanceof js){var h=arguments[0];return this.createPolygon(h,null)}}else if(arguments.length===2){var m=arguments[0],S=arguments[1];return new Ul(m,S,this)}}},{key:"getSRID",value:function(){return this._SRID}},{key:"createGeometryCollection",value:function(){if(arguments.length===0)return new Er(null,this);if(arguments.length===1){var u=arguments[0];return new Er(u,this)}}},{key:"getPrecisionModel",value:function(){return this._precisionModel}},{key:"createLinearRing",value:function(){if(arguments.length===0)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(arguments.length===1){if(arguments[0]instanceof Array){var u=arguments[0];return this.createLinearRing(u!==null?this.getCoordinateSequenceFactory().create(u):null)}if(te(arguments[0],Ue)){var c=arguments[0];return new js(c,this)}}}},{key:"createMultiPolygon",value:function(){if(arguments.length===0)return new cv(null,this);if(arguments.length===1){var u=arguments[0];return new cv(u,this)}}},{key:"createMultiPoint",value:function(){if(arguments.length===0)return new sv(null,this);if(arguments.length===1){if(arguments[0]instanceof Array){var u=arguments[0];return new sv(u,this)}if(te(arguments[0],Ue)){var c=arguments[0];if(c===null)return this.createMultiPoint(new Array(0).fill(null));for(var h=new Array(c.size()).fill(null),m=0;m<c.size();m++){var S=this.getCoordinateSequenceFactory().create(1,c.getDimension(),c.getMeasures());wa.copy(c,m,S,0,1),h[m]=this.createPoint(S)}return this.createMultiPoint(h)}}}},{key:"interfaces_",get:function(){return[D]}}],[{key:"constructor_",value:function(){if(this._precisionModel=null,this._coordinateSequenceFactory=null,this._SRID=null,arguments.length===0)_.constructor_.call(this,new ln,0);else if(arguments.length===1){if(te(arguments[0],Jm)){var u=arguments[0];_.constructor_.call(this,new ln,0,u)}else if(arguments[0]instanceof ln){var c=arguments[0];_.constructor_.call(this,c,0,_.getDefaultCoordinateSequenceFactory())}}else if(arguments.length===2){var h=arguments[0],m=arguments[1];_.constructor_.call(this,h,m,_.getDefaultCoordinateSequenceFactory())}else if(arguments.length===3){var S=arguments[0],E=arguments[1],I=arguments[2];this._precisionModel=S,this._coordinateSequenceFactory=I,this._SRID=E}}},{key:"toMultiPolygonArray",value:function(u){var c=new Array(u.size()).fill(null);return u.toArray(c)}},{key:"toGeometryArray",value:function(u){if(u===null)return null;var c=new Array(u.size()).fill(null);return u.toArray(c)}},{key:"getDefaultCoordinateSequenceFactory",value:function(){return lv.instance()}},{key:"toMultiLineStringArray",value:function(u){var c=new Array(u.size()).fill(null);return u.toArray(c)}},{key:"toLineStringArray",value:function(u){var c=new Array(u.size()).fill(null);return u.toArray(c)}},{key:"toMultiPointArray",value:function(u){var c=new Array(u.size()).fill(null);return u.toArray(c)}},{key:"toLinearRingArray",value:function(u){var c=new Array(u.size()).fill(null);return u.toArray(c)}},{key:"toPointArray",value:function(u){var c=new Array(u.size()).fill(null);return u.toArray(c)}},{key:"toPolygonArray",value:function(u){var c=new Array(u.size()).fill(null);return u.toArray(c)}},{key:"createPointFromInternalCoord",value:function(u,c){return c.getPrecisionModel().makePrecise(u),c.getFactory().createPoint(u)}}]),_}(),hv="XY",eI="XYZ",tI="XYM",rI="XYZM",oy={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"},sy="EMPTY",Wl=1,oi=2,Ai=3,uy=4,Io=5,nI=6;for(var iI in oy)oy[iI].toUpperCase();var aI=function(){function _(u){r(this,_),this.wkt=u,this.index_=-1}return i(_,[{key:"isAlpha_",value:function(u){return u>="a"&&u<="z"||u>="A"&&u<="Z"}},{key:"isNumeric_",value:function(u,c){return u>="0"&&u<="9"||u=="."&&!(c!==void 0&&c)}},{key:"isWhiteSpace_",value:function(u){return u==" "||u=="	"||u=="\r"||u==`
`}},{key:"nextChar_",value:function(){return this.wkt.charAt(++this.index_)}},{key:"nextToken",value:function(){var u,c=this.nextChar_(),h=this.index_,m=c;if(c=="(")u=oi;else if(c==",")u=Io;else if(c==")")u=Ai;else if(this.isNumeric_(c)||c=="-")u=uy,m=this.readNumber_();else if(this.isAlpha_(c))u=Wl,m=this.readText_();else{if(this.isWhiteSpace_(c))return this.nextToken();if(c!=="")throw new Error("Unexpected character: "+c);u=nI}return{position:h,value:m,type:u}}},{key:"readNumber_",value:function(){var u,c=this.index_,h=!1,m=!1;do u=="."?h=!0:u!="e"&&u!="E"||(m=!0),u=this.nextChar_();while(this.isNumeric_(u,h)||!m&&(u=="e"||u=="E")||m&&(u=="-"||u=="+"));return parseFloat(this.wkt.substring(c,this.index_--))}},{key:"readText_",value:function(){var u,c=this.index_;do u=this.nextChar_();while(this.isAlpha_(u));return this.wkt.substring(c,this.index_--).toUpperCase()}}]),_}(),oI=function(){function _(u,c){r(this,_),this.lexer_=u,this.token_,this.layout_=hv,this.factory=c}return i(_,[{key:"consume_",value:function(){this.token_=this.lexer_.nextToken()}},{key:"isTokenType",value:function(u){return this.token_.type==u}},{key:"match",value:function(u){var c=this.isTokenType(u);return c&&this.consume_(),c}},{key:"parse",value:function(){return this.consume_(),this.parseGeometry_()}},{key:"parseGeometryLayout_",value:function(){var u=hv,c=this.token_;if(this.isTokenType(Wl)){var h=c.value;h==="Z"?u=eI:h==="M"?u=tI:h==="ZM"&&(u=rI),u!==hv&&this.consume_()}return u}},{key:"parseGeometryCollectionText_",value:function(){if(this.match(oi)){var u=[];do u.push(this.parseGeometry_());while(this.match(Io));if(this.match(Ai))return u}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parsePointText_",value:function(){if(this.match(oi)){var u=this.parsePoint_();if(this.match(Ai))return u}else if(this.isEmptyGeometry_())return null;throw new Error(this.formatErrorMessage_())}},{key:"parseLineStringText_",value:function(){if(this.match(oi)){var u=this.parsePointList_();if(this.match(Ai))return u}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parsePolygonText_",value:function(){if(this.match(oi)){var u=this.parseLineStringTextList_();if(this.match(Ai))return u}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parseMultiPointText_",value:function(){var u;if(this.match(oi)){if(u=this.token_.type==oi?this.parsePointTextList_():this.parsePointList_(),this.match(Ai))return u}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parseMultiLineStringText_",value:function(){if(this.match(oi)){var u=this.parseLineStringTextList_();if(this.match(Ai))return u}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parseMultiPolygonText_",value:function(){if(this.match(oi)){var u=this.parsePolygonTextList_();if(this.match(Ai))return u}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parsePoint_",value:function(){for(var u=[],c=this.layout_.length,h=0;h<c;++h){var m=this.token_;if(!this.match(uy))break;u.push(m.value)}if(u.length==c)return u;throw new Error(this.formatErrorMessage_())}},{key:"parsePointList_",value:function(){for(var u=[this.parsePoint_()];this.match(Io);)u.push(this.parsePoint_());return u}},{key:"parsePointTextList_",value:function(){for(var u=[this.parsePointText_()];this.match(Io);)u.push(this.parsePointText_());return u}},{key:"parseLineStringTextList_",value:function(){for(var u=[this.parseLineStringText_()];this.match(Io);)u.push(this.parseLineStringText_());return u}},{key:"parsePolygonTextList_",value:function(){for(var u=[this.parsePolygonText_()];this.match(Io);)u.push(this.parsePolygonText_());return u}},{key:"isEmptyGeometry_",value:function(){var u=this.isTokenType(Wl)&&this.token_.value==sy;return u&&this.consume_(),u}},{key:"formatErrorMessage_",value:function(){return"Unexpected `"+this.token_.value+"` at position "+this.token_.position+" in `"+this.lexer_.wkt+"`"}},{key:"parseGeometry_",value:function(){var u=this.factory,c=function(Ie){return f(K,w(Ie))},h=function(Ie){var Re=Ie.map(function(rt){return u.createLinearRing(rt.map(c))});return Re.length>1?u.createPolygon(Re[0],Re.slice(1)):u.createPolygon(Re[0])},m=this.token_;if(this.match(Wl)){var S=m.value;if(this.layout_=this.parseGeometryLayout_(),S=="GEOMETRYCOLLECTION"){var E=this.parseGeometryCollectionText_();return u.createGeometryCollection(E)}switch(S){case"POINT":var I=this.parsePointText_();return I?u.createPoint(f(K,w(I))):u.createPoint();case"LINESTRING":var A=this.parseLineStringText_().map(c);return u.createLineString(A);case"LINEARRING":var O=this.parseLineStringText_().map(c);return u.createLinearRing(O);case"POLYGON":var $=this.parsePolygonText_();return $&&$.length!==0?h($):u.createPolygon();case"MULTIPOINT":var X=this.parseMultiPointText_();if(!X||X.length===0)return u.createMultiPoint();var ee=X.map(c).map(function(Ie){return u.createPoint(Ie)});return u.createMultiPoint(ee);case"MULTILINESTRING":var le=this.parseMultiLineStringText_().map(function(Ie){return u.createLineString(Ie.map(c))});return u.createMultiLineString(le);case"MULTIPOLYGON":var se=this.parseMultiPolygonText_();if(!se||se.length===0)return u.createMultiPolygon();var Ce=se.map(h);return u.createMultiPolygon(Ce);default:throw new Error("Invalid geometry type: "+S)}}throw new Error(this.formatErrorMessage_())}}]),_}();function ly(_){if(_.isEmpty())return"";var u=_.getCoordinate(),c=[u.x,u.y];return u.z===void 0||Number.isNaN(u.z)||c.push(u.z),u.m===void 0||Number.isNaN(u.m)||c.push(u.m),c.join(" ")}function eu(_){for(var u=_.getCoordinates().map(function(S){var E=[S.x,S.y];return S.z===void 0||Number.isNaN(S.z)||E.push(S.z),S.m===void 0||Number.isNaN(S.m)||E.push(S.m),E}),c=[],h=0,m=u.length;h<m;++h)c.push(u[h].join(" "));return c.join(", ")}function cy(_){var u=[];u.push("("+eu(_.getExteriorRing())+")");for(var c=0,h=_.getNumInteriorRing();c<h;++c)u.push("("+eu(_.getInteriorRingN(c))+")");return u.join(", ")}var sI={Point:ly,LineString:eu,LinearRing:eu,Polygon:cy,MultiPoint:function(_){for(var u=[],c=0,h=_.getNumGeometries();c<h;++c)u.push("("+ly(_.getGeometryN(c))+")");return u.join(", ")},MultiLineString:function(_){for(var u=[],c=0,h=_.getNumGeometries();c<h;++c)u.push("("+eu(_.getGeometryN(c))+")");return u.join(", ")},MultiPolygon:function(_){for(var u=[],c=0,h=_.getNumGeometries();c<h;++c)u.push("("+cy(_.getGeometryN(c))+")");return u.join(", ")},GeometryCollection:function(_){for(var u=[],c=0,h=_.getNumGeometries();c<h;++c)u.push(fy(_.getGeometryN(c)));return u.join(", ")}};function fy(_){var u=_.getGeometryType(),c=sI[u];u=u.toUpperCase();var h=function(m){var S="";if(m.isEmpty())return S;var E=m.getCoordinate();return E.z===void 0||Number.isNaN(E.z)||(S+="Z"),E.m===void 0||Number.isNaN(E.m)||(S+="M"),S}(_);return h.length>0&&(u+=" "+h),_.isEmpty()?u+" "+sy:u+" ("+c(_)+")"}var uI=function(){function _(u){r(this,_),this.geometryFactory=u||new ko,this.precisionModel=this.geometryFactory.getPrecisionModel()}return i(_,[{key:"read",value:function(u){var c=new aI(u);return new oI(c,this.geometryFactory).parse()}},{key:"write",value:function(u){return fy(u)}}]),_}(),vv=function(){function _(u){r(this,_),this.parser=new uI(u)}return i(_,[{key:"write",value:function(u){return this.parser.write(u)}}],[{key:"toLineString",value:function(u,c){if(arguments.length!==2)throw new Error("Not implemented");return"LINESTRING ( "+u.x+" "+u.y+", "+c.x+" "+c.y+" )"}}]),_}(),dt=function(){function _(){r(this,_),_.constructor_.apply(this,arguments)}return i(_,[{key:"getIndexAlongSegment",value:function(u,c){return this.computeIntLineIndex(),this._intLineIndex[u][c]}},{key:"getTopologySummary",value:function(){var u=new ql;return this.isEndPoint()&&u.append(" endpoint"),this._isProper&&u.append(" proper"),this.isCollinear()&&u.append(" collinear"),u.toString()}},{key:"computeIntersection",value:function(u,c,h,m){this._inputLines[0][0]=u,this._inputLines[0][1]=c,this._inputLines[1][0]=h,this._inputLines[1][1]=m,this._result=this.computeIntersect(u,c,h,m)}},{key:"getIntersectionNum",value:function(){return this._result}},{key:"computeIntLineIndex",value:function(){if(arguments.length===0)this._intLineIndex===null&&(this._intLineIndex=Array(2).fill().map(function(){return Array(2)}),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(arguments.length===1){var u=arguments[0],c=this.getEdgeDistance(u,0),h=this.getEdgeDistance(u,1);c>h?(this._intLineIndex[u][0]=0,this._intLineIndex[u][1]=1):(this._intLineIndex[u][0]=1,this._intLineIndex[u][1]=0)}}},{key:"isProper",value:function(){return this.hasIntersection()&&this._isProper}},{key:"setPrecisionModel",value:function(u){this._precisionModel=u}},{key:"isInteriorIntersection",value:function(){if(arguments.length===0)return!!this.isInteriorIntersection(0)||!!this.isInteriorIntersection(1);if(arguments.length===1){for(var u=arguments[0],c=0;c<this._result;c++)if(!this._intPt[c].equals2D(this._inputLines[u][0])&&!this._intPt[c].equals2D(this._inputLines[u][1]))return!0;return!1}}},{key:"getIntersection",value:function(u){return this._intPt[u]}},{key:"isEndPoint",value:function(){return this.hasIntersection()&&!this._isProper}},{key:"hasIntersection",value:function(){return this._result!==_.NO_INTERSECTION}},{key:"getEdgeDistance",value:function(u,c){return _.computeEdgeDistance(this._intPt[c],this._inputLines[u][0],this._inputLines[u][1])}},{key:"isCollinear",value:function(){return this._result===_.COLLINEAR_INTERSECTION}},{key:"toString",value:function(){return vv.toLineString(this._inputLines[0][0],this._inputLines[0][1])+" - "+vv.toLineString(this._inputLines[1][0],this._inputLines[1][1])+this.getTopologySummary()}},{key:"getEndpoint",value:function(u,c){return this._inputLines[u][c]}},{key:"isIntersection",value:function(u){for(var c=0;c<this._result;c++)if(this._intPt[c].equals2D(u))return!0;return!1}},{key:"getIntersectionAlongSegment",value:function(u,c){return this.computeIntLineIndex(),this._intPt[this._intLineIndex[u][c]]}}],[{key:"constructor_",value:function(){this._result=null,this._inputLines=Array(2).fill().map(function(){return Array(2)}),this._intPt=new Array(2).fill(null),this._intLineIndex=null,this._isProper=null,this._pa=null,this._pb=null,this._precisionModel=null,this._intPt[0]=new K,this._intPt[1]=new K,this._pa=this._intPt[0],this._pb=this._intPt[1],this._result=0}},{key:"computeEdgeDistance",value:function(u,c,h){var m=Math.abs(h.x-c.x),S=Math.abs(h.y-c.y),E=-1;if(u.equals(c))E=0;else if(u.equals(h))E=m>S?m:S;else{var I=Math.abs(u.x-c.x),A=Math.abs(u.y-c.y);(E=m>S?I:A)!==0||u.equals(c)||(E=Math.max(I,A))}return oe.isTrue(!(E===0&&!u.equals(c)),"Bad distance calculation"),E}},{key:"nonRobustComputeEdgeDistance",value:function(u,c,h){var m=u.x-c.x,S=u.y-c.y,E=Math.sqrt(m*m+S*S);return oe.isTrue(!(E===0&&!u.equals(c)),"Invalid distance calculation"),E}}]),_}();dt.DONT_INTERSECT=0,dt.DO_INTERSECT=1,dt.COLLINEAR=2,dt.NO_INTERSECTION=0,dt.POINT_INTERSECTION=1,dt.COLLINEAR_INTERSECTION=2;var Ca=function(_){a(c,_);var u=p(c);function c(){return r(this,c),u.call(this)}return i(c,[{key:"isInSegmentEnvelopes",value:function(h){var m=new _e(this._inputLines[0][0],this._inputLines[0][1]),S=new _e(this._inputLines[1][0],this._inputLines[1][1]);return m.contains(h)&&S.contains(h)}},{key:"computeIntersection",value:function(){if(arguments.length!==3)return y(o(c.prototype),"computeIntersection",this).apply(this,arguments);var h=arguments[0],m=arguments[1],S=arguments[2];if(this._isProper=!1,_e.intersects(m,S,h)&&De.index(m,S,h)===0&&De.index(S,m,h)===0)return this._isProper=!0,(h.equals(m)||h.equals(S))&&(this._isProper=!1),this._result=dt.POINT_INTERSECTION,null;this._result=dt.NO_INTERSECTION}},{key:"intersection",value:function(h,m,S,E){var I=this.intersectionSafe(h,m,S,E);return this.isInSegmentEnvelopes(I)||(I=new K(c.nearestEndpoint(h,m,S,E))),this._precisionModel!==null&&this._precisionModel.makePrecise(I),I}},{key:"checkDD",value:function(h,m,S,E,I){var A=iv.intersection(h,m,S,E),O=this.isInSegmentEnvelopes(A);Br.out.println("DD in env = "+O+"  --------------------- "+A),I.distance(A)>1e-4&&Br.out.println("Distance = "+I.distance(A))}},{key:"intersectionSafe",value:function(h,m,S,E){var I=av.intersection(h,m,S,E);return I===null&&(I=c.nearestEndpoint(h,m,S,E)),I}},{key:"computeCollinearIntersection",value:function(h,m,S,E){var I=_e.intersects(h,m,S),A=_e.intersects(h,m,E),O=_e.intersects(S,E,h),$=_e.intersects(S,E,m);return I&&A?(this._intPt[0]=S,this._intPt[1]=E,dt.COLLINEAR_INTERSECTION):O&&$?(this._intPt[0]=h,this._intPt[1]=m,dt.COLLINEAR_INTERSECTION):I&&O?(this._intPt[0]=S,this._intPt[1]=h,!S.equals(h)||A||$?dt.COLLINEAR_INTERSECTION:dt.POINT_INTERSECTION):I&&$?(this._intPt[0]=S,this._intPt[1]=m,!S.equals(m)||A||O?dt.COLLINEAR_INTERSECTION:dt.POINT_INTERSECTION):A&&O?(this._intPt[0]=E,this._intPt[1]=h,!E.equals(h)||I||$?dt.COLLINEAR_INTERSECTION:dt.POINT_INTERSECTION):A&&$?(this._intPt[0]=E,this._intPt[1]=m,!E.equals(m)||I||O?dt.COLLINEAR_INTERSECTION:dt.POINT_INTERSECTION):dt.NO_INTERSECTION}},{key:"computeIntersect",value:function(h,m,S,E){if(this._isProper=!1,!_e.intersects(h,m,S,E))return dt.NO_INTERSECTION;var I=De.index(h,m,S),A=De.index(h,m,E);if(I>0&&A>0||I<0&&A<0)return dt.NO_INTERSECTION;var O=De.index(S,E,h),$=De.index(S,E,m);return O>0&&$>0||O<0&&$<0?dt.NO_INTERSECTION:I===0&&A===0&&O===0&&$===0?this.computeCollinearIntersection(h,m,S,E):(I===0||A===0||O===0||$===0?(this._isProper=!1,h.equals2D(S)||h.equals2D(E)?this._intPt[0]=h:m.equals2D(S)||m.equals2D(E)?this._intPt[0]=m:I===0?this._intPt[0]=new K(S):A===0?this._intPt[0]=new K(E):O===0?this._intPt[0]=new K(h):$===0&&(this._intPt[0]=new K(m))):(this._isProper=!0,this._intPt[0]=this.intersection(h,m,S,E)),dt.POINT_INTERSECTION)}}],[{key:"nearestEndpoint",value:function(h,m,S,E){var I=h,A=Mn.pointToSegment(h,S,E),O=Mn.pointToSegment(m,S,E);return O<A&&(A=O,I=m),(O=Mn.pointToSegment(S,h,m))<A&&(A=O,I=S),(O=Mn.pointToSegment(E,h,m))<A&&(A=O,I=E),I}}]),c}(dt),lI=function(){function _(){r(this,_),_.constructor_.apply(this,arguments)}return i(_,[{key:"countSegment",value:function(u,c){if(u.x<this._p.x&&c.x<this._p.x)return null;if(this._p.x===c.x&&this._p.y===c.y)return this._isPointOnSegment=!0,null;if(u.y===this._p.y&&c.y===this._p.y){var h=u.x,m=c.x;return h>m&&(h=c.x,m=u.x),this._p.x>=h&&this._p.x<=m&&(this._isPointOnSegment=!0),null}if(u.y>this._p.y&&c.y<=this._p.y||c.y>this._p.y&&u.y<=this._p.y){var S=De.index(u,c,this._p);if(S===De.COLLINEAR)return this._isPointOnSegment=!0,null;c.y<u.y&&(S=-S),S===De.LEFT&&this._crossingCount++}}},{key:"isPointInPolygon",value:function(){return this.getLocation()!==B.EXTERIOR}},{key:"getLocation",value:function(){return this._isPointOnSegment?B.BOUNDARY:this._crossingCount%2==1?B.INTERIOR:B.EXTERIOR}},{key:"isOnSegment",value:function(){return this._isPointOnSegment}}],[{key:"constructor_",value:function(){this._p=null,this._crossingCount=0,this._isPointOnSegment=!1;var u=arguments[0];this._p=u}},{key:"locatePointInRing",value:function(){if(arguments[0]instanceof K&&te(arguments[1],Ue)){for(var u=arguments[0],c=arguments[1],h=new _(u),m=new K,S=new K,E=1;E<c.size();E++)if(c.getCoordinate(E,m),c.getCoordinate(E-1,S),h.countSegment(m,S),h.isOnSegment())return h.getLocation();return h.getLocation()}if(arguments[0]instanceof K&&arguments[1]instanceof Array){for(var I=arguments[0],A=arguments[1],O=new _(I),$=1;$<A.length;$++){var X=A[$],ee=A[$-1];if(O.countSegment(X,ee),O.isOnSegment())return O.getLocation()}return O.getLocation()}}}]),_}(),dv=function(){function _(){r(this,_)}return i(_,null,[{key:"isOnLine",value:function(){if(arguments[0]instanceof K&&te(arguments[1],Ue)){for(var u=arguments[0],c=arguments[1],h=new Ca,m=new K,S=new K,E=c.size(),I=1;I<E;I++)if(c.getCoordinate(I-1,m),c.getCoordinate(I,S),h.computeIntersection(u,m,S),h.hasIntersection())return!0;return!1}if(arguments[0]instanceof K&&arguments[1]instanceof Array){for(var A=arguments[0],O=arguments[1],$=new Ca,X=1;X<O.length;X++){var ee=O[X-1],le=O[X];if($.computeIntersection(A,ee,le),$.hasIntersection())return!0}return!1}}},{key:"locateInRing",value:function(u,c){return lI.locatePointInRing(u,c)}},{key:"isInRing",value:function(u,c){return _.locateInRing(u,c)!==B.EXTERIOR}}]),_}(),zr=function(){function _(){r(this,_),_.constructor_.apply(this,arguments)}return i(_,[{key:"setAllLocations",value:function(u){for(var c=0;c<this.location.length;c++)this.location[c]=u}},{key:"isNull",value:function(){for(var u=0;u<this.location.length;u++)if(this.location[u]!==B.NONE)return!1;return!0}},{key:"setAllLocationsIfNull",value:function(u){for(var c=0;c<this.location.length;c++)this.location[c]===B.NONE&&(this.location[c]=u)}},{key:"isLine",value:function(){return this.location.length===1}},{key:"merge",value:function(u){if(u.location.length>this.location.length){var c=new Array(3).fill(null);c[ue.ON]=this.location[ue.ON],c[ue.LEFT]=B.NONE,c[ue.RIGHT]=B.NONE,this.location=c}for(var h=0;h<this.location.length;h++)this.location[h]===B.NONE&&h<u.location.length&&(this.location[h]=u.location[h])}},{key:"getLocations",value:function(){return this.location}},{key:"flip",value:function(){if(this.location.length<=1)return null;var u=this.location[ue.LEFT];this.location[ue.LEFT]=this.location[ue.RIGHT],this.location[ue.RIGHT]=u}},{key:"toString",value:function(){var u=new Xe;return this.location.length>1&&u.append(B.toLocationSymbol(this.location[ue.LEFT])),u.append(B.toLocationSymbol(this.location[ue.ON])),this.location.length>1&&u.append(B.toLocationSymbol(this.location[ue.RIGHT])),u.toString()}},{key:"setLocations",value:function(u,c,h){this.location[ue.ON]=u,this.location[ue.LEFT]=c,this.location[ue.RIGHT]=h}},{key:"get",value:function(u){return u<this.location.length?this.location[u]:B.NONE}},{key:"isArea",value:function(){return this.location.length>1}},{key:"isAnyNull",value:function(){for(var u=0;u<this.location.length;u++)if(this.location[u]===B.NONE)return!0;return!1}},{key:"setLocation",value:function(){if(arguments.length===1){var u=arguments[0];this.setLocation(ue.ON,u)}else if(arguments.length===2){var c=arguments[0],h=arguments[1];this.location[c]=h}}},{key:"init",value:function(u){this.location=new Array(u).fill(null),this.setAllLocations(B.NONE)}},{key:"isEqualOnSide",value:function(u,c){return this.location[c]===u.location[c]}},{key:"allPositionsEqual",value:function(u){for(var c=0;c<this.location.length;c++)if(this.location[c]!==u)return!1;return!0}}],[{key:"constructor_",value:function(){if(this.location=null,arguments.length===1){if(arguments[0]instanceof Array){var u=arguments[0];this.init(u.length)}else if(Number.isInteger(arguments[0])){var c=arguments[0];this.init(1),this.location[ue.ON]=c}else if(arguments[0]instanceof _){var h=arguments[0];if(this.init(h.location.length),h!==null)for(var m=0;m<this.location.length;m++)this.location[m]=h.location[m]}}else if(arguments.length===3){var S=arguments[0],E=arguments[1],I=arguments[2];this.init(3),this.location[ue.ON]=S,this.location[ue.LEFT]=E,this.location[ue.RIGHT]=I}}}]),_}(),Gr=function(){function _(){r(this,_),_.constructor_.apply(this,arguments)}return i(_,[{key:"getGeometryCount",value:function(){var u=0;return this.elt[0].isNull()||u++,this.elt[1].isNull()||u++,u}},{key:"setAllLocations",value:function(u,c){this.elt[u].setAllLocations(c)}},{key:"isNull",value:function(u){return this.elt[u].isNull()}},{key:"setAllLocationsIfNull",value:function(){if(arguments.length===1){var u=arguments[0];this.setAllLocationsIfNull(0,u),this.setAllLocationsIfNull(1,u)}else if(arguments.length===2){var c=arguments[0],h=arguments[1];this.elt[c].setAllLocationsIfNull(h)}}},{key:"isLine",value:function(u){return this.elt[u].isLine()}},{key:"merge",value:function(u){for(var c=0;c<2;c++)this.elt[c]===null&&u.elt[c]!==null?this.elt[c]=new zr(u.elt[c]):this.elt[c].merge(u.elt[c])}},{key:"flip",value:function(){this.elt[0].flip(),this.elt[1].flip()}},{key:"getLocation",value:function(){if(arguments.length===1){var u=arguments[0];return this.elt[u].get(ue.ON)}if(arguments.length===2){var c=arguments[0],h=arguments[1];return this.elt[c].get(h)}}},{key:"toString",value:function(){var u=new Xe;return this.elt[0]!==null&&(u.append("A:"),u.append(this.elt[0].toString())),this.elt[1]!==null&&(u.append(" B:"),u.append(this.elt[1].toString())),u.toString()}},{key:"isArea",value:function(){if(arguments.length===0)return this.elt[0].isArea()||this.elt[1].isArea();if(arguments.length===1){var u=arguments[0];return this.elt[u].isArea()}}},{key:"isAnyNull",value:function(u){return this.elt[u].isAnyNull()}},{key:"setLocation",value:function(){if(arguments.length===2){var u=arguments[0],c=arguments[1];this.elt[u].setLocation(ue.ON,c)}else if(arguments.length===3){var h=arguments[0],m=arguments[1],S=arguments[2];this.elt[h].setLocation(m,S)}}},{key:"isEqualOnSide",value:function(u,c){return this.elt[0].isEqualOnSide(u.elt[0],c)&&this.elt[1].isEqualOnSide(u.elt[1],c)}},{key:"allPositionsEqual",value:function(u,c){return this.elt[u].allPositionsEqual(c)}},{key:"toLine",value:function(u){this.elt[u].isArea()&&(this.elt[u]=new zr(this.elt[u].location[0]))}}],[{key:"constructor_",value:function(){if(this.elt=new Array(2).fill(null),arguments.length===1){if(Number.isInteger(arguments[0])){var u=arguments[0];this.elt[0]=new zr(u),this.elt[1]=new zr(u)}else if(arguments[0]instanceof _){var c=arguments[0];this.elt[0]=new zr(c.elt[0]),this.elt[1]=new zr(c.elt[1])}}else if(arguments.length===2){var h=arguments[0],m=arguments[1];this.elt[0]=new zr(B.NONE),this.elt[1]=new zr(B.NONE),this.elt[h].setLocation(m)}else if(arguments.length===3){var S=arguments[0],E=arguments[1],I=arguments[2];this.elt[0]=new zr(S,E,I),this.elt[1]=new zr(S,E,I)}else if(arguments.length===4){var A=arguments[0],O=arguments[1],$=arguments[2],X=arguments[3];this.elt[0]=new zr(B.NONE,B.NONE,B.NONE),this.elt[1]=new zr(B.NONE,B.NONE,B.NONE),this.elt[A].setLocations(O,$,X)}}},{key:"toLineLabel",value:function(u){for(var c=new _(B.NONE),h=0;h<2;h++)c.setLocation(h,u.getLocation(h));return c}}]),_}(),Xl=function(){function _(){r(this,_),_.constructor_.apply(this,arguments)}return i(_,[{key:"computeRing",value:function(){if(this._ring!==null)return null;for(var u=new Array(this._pts.size()).fill(null),c=0;c<this._pts.size();c++)u[c]=this._pts.get(c);this._ring=this._geometryFactory.createLinearRing(u),this._isHole=De.isCCW(this._ring.getCoordinates())}},{key:"isIsolated",value:function(){return this._label.getGeometryCount()===1}},{key:"computePoints",value:function(u){this._startDe=u;var c=u,h=!0;do{if(c===null)throw new ai("Found null DirectedEdge");if(c.getEdgeRing()===this)throw new ai("Directed Edge visited twice during ring-building at "+c.getCoordinate());this._edges.add(c);var m=c.getLabel();oe.isTrue(m.isArea()),this.mergeLabel(m),this.addPoints(c.getEdge(),c.isForward(),h),h=!1,this.setEdgeRing(c,this),c=this.getNext(c)}while(c!==this._startDe)}},{key:"getLinearRing",value:function(){return this._ring}},{key:"getCoordinate",value:function(u){return this._pts.get(u)}},{key:"computeMaxNodeDegree",value:function(){this._maxNodeDegree=0;var u=this._startDe;do{var c=u.getNode().getEdges().getOutgoingDegree(this);c>this._maxNodeDegree&&(this._maxNodeDegree=c),u=this.getNext(u)}while(u!==this._startDe);this._maxNodeDegree*=2}},{key:"addPoints",value:function(u,c,h){var m=u.getCoordinates();if(c){var S=1;h&&(S=0);for(var E=S;E<m.length;E++)this._pts.add(m[E])}else{var I=m.length-2;h&&(I=m.length-1);for(var A=I;A>=0;A--)this._pts.add(m[A])}}},{key:"isHole",value:function(){return this._isHole}},{key:"setInResult",value:function(){var u=this._startDe;do u.getEdge().setInResult(!0),u=u.getNext();while(u!==this._startDe)}},{key:"containsPoint",value:function(u){var c=this.getLinearRing();if(!c.getEnvelopeInternal().contains(u)||!dv.isInRing(u,c.getCoordinates()))return!1;for(var h=this._holes.iterator();h.hasNext();)if(h.next().containsPoint(u))return!1;return!0}},{key:"addHole",value:function(u){this._holes.add(u)}},{key:"isShell",value:function(){return this._shell===null}},{key:"getLabel",value:function(){return this._label}},{key:"getEdges",value:function(){return this._edges}},{key:"getMaxNodeDegree",value:function(){return this._maxNodeDegree<0&&this.computeMaxNodeDegree(),this._maxNodeDegree}},{key:"getShell",value:function(){return this._shell}},{key:"mergeLabel",value:function(){if(arguments.length===1){var u=arguments[0];this.mergeLabel(u,0),this.mergeLabel(u,1)}else if(arguments.length===2){var c=arguments[0],h=arguments[1],m=c.getLocation(h,ue.RIGHT);if(m===B.NONE)return null;if(this._label.getLocation(h)===B.NONE)return this._label.setLocation(h,m),null}}},{key:"setShell",value:function(u){this._shell=u,u!==null&&u.addHole(this)}},{key:"toPolygon",value:function(u){for(var c=new Array(this._holes.size()).fill(null),h=0;h<this._holes.size();h++)c[h]=this._holes.get(h).getLinearRing();return u.createPolygon(this.getLinearRing(),c)}}],[{key:"constructor_",value:function(){if(this._startDe=null,this._maxNodeDegree=-1,this._edges=new Pe,this._pts=new Pe,this._label=new Gr(B.NONE),this._ring=null,this._isHole=null,this._shell=null,this._holes=new Pe,this._geometryFactory=null,arguments.length!==0){if(arguments.length===2){var u=arguments[0],c=arguments[1];this._geometryFactory=c,this.computePoints(u),this.computeRing()}}}}]),_}(),cI=function(_){a(c,_);var u=p(c);function c(){var h;return r(this,c),h=u.call(this),c.constructor_.apply(d(h),arguments),h}return i(c,[{key:"setEdgeRing",value:function(h,m){h.setMinEdgeRing(m)}},{key:"getNext",value:function(h){return h.getNextMin()}}],[{key:"constructor_",value:function(){var h=arguments[0],m=arguments[1];Xl.constructor_.call(this,h,m)}}]),c}(Xl),fI=function(_){a(c,_);var u=p(c);function c(){var h;return r(this,c),h=u.call(this),c.constructor_.apply(d(h),arguments),h}return i(c,[{key:"buildMinimalRings",value:function(){var h=new Pe,m=this._startDe;do{if(m.getMinEdgeRing()===null){var S=new cI(m,this._geometryFactory);h.add(S)}m=m.getNext()}while(m!==this._startDe);return h}},{key:"setEdgeRing",value:function(h,m){h.setEdgeRing(m)}},{key:"linkDirectedEdgesForMinimalEdgeRings",value:function(){var h=this._startDe;do h.getNode().getEdges().linkMinimalDirectedEdges(this),h=h.getNext();while(h!==this._startDe)}},{key:"getNext",value:function(h){return h.getNext()}}],[{key:"constructor_",value:function(){var h=arguments[0],m=arguments[1];Xl.constructor_.call(this,h,m)}}]),c}(Xl),hy=function(){function _(){r(this,_),_.constructor_.apply(this,arguments)}return i(_,[{key:"setVisited",value:function(u){this._isVisited=u}},{key:"setInResult",value:function(u){this._isInResult=u}},{key:"isCovered",value:function(){return this._isCovered}},{key:"isCoveredSet",value:function(){return this._isCoveredSet}},{key:"setLabel",value:function(u){this._label=u}},{key:"getLabel",value:function(){return this._label}},{key:"setCovered",value:function(u){this._isCovered=u,this._isCoveredSet=!0}},{key:"updateIM",value:function(u){oe.isTrue(this._label.getGeometryCount()>=2,"found partial label"),this.computeIM(u)}},{key:"isInResult",value:function(){return this._isInResult}},{key:"isVisited",value:function(){return this._isVisited}}],[{key:"constructor_",value:function(){if(this._label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,arguments.length!==0){if(arguments.length===1){var u=arguments[0];this._label=u}}}}]),_}(),Kl=function(_){a(c,_);var u=p(c);function c(){var h;return r(this,c),h=u.call(this),c.constructor_.apply(d(h),arguments),h}return i(c,[{key:"isIncidentEdgeInResult",value:function(){for(var h=this.getEdges().getEdges().iterator();h.hasNext();)if(h.next().getEdge().isInResult())return!0;return!1}},{key:"isIsolated",value:function(){return this._label.getGeometryCount()===1}},{key:"getCoordinate",value:function(){return this._coord}},{key:"print",value:function(h){h.println("node "+this._coord+" lbl: "+this._label)}},{key:"computeIM",value:function(h){}},{key:"computeMergedLocation",value:function(h,m){var S=B.NONE;if(S=this._label.getLocation(m),!h.isNull(m)){var E=h.getLocation(m);S!==B.BOUNDARY&&(S=E)}return S}},{key:"setLabel",value:function(){if(arguments.length!==2||!Number.isInteger(arguments[1])||!Number.isInteger(arguments[0]))return y(o(c.prototype),"setLabel",this).apply(this,arguments);var h=arguments[0],m=arguments[1];this._label===null?this._label=new Gr(h,m):this._label.setLocation(h,m)}},{key:"getEdges",value:function(){return this._edges}},{key:"mergeLabel",value:function(){if(arguments[0]instanceof c){var h=arguments[0];this.mergeLabel(h._label)}else if(arguments[0]instanceof Gr)for(var m=arguments[0],S=0;S<2;S++){var E=this.computeMergedLocation(m,S),I=this._label.getLocation(S);I===B.NONE&&this._label.setLocation(S,E)}}},{key:"add",value:function(h){this._edges.insert(h),h.setNode(this)}},{key:"setLabelBoundary",value:function(h){if(this._label===null)return null;var m=B.NONE;this._label!==null&&(m=this._label.getLocation(h));var S=null;switch(m){case B.BOUNDARY:S=B.INTERIOR;break;case B.INTERIOR:default:S=B.BOUNDARY}this._label.setLocation(h,S)}}],[{key:"constructor_",value:function(){this._coord=null,this._edges=null;var h=arguments[0],m=arguments[1];this._coord=h,this._edges=m,this._label=new Gr(0,B.NONE)}}]),c}(hy),hI=function(_){a(c,_);var u=p(c);function c(){return r(this,c),u.apply(this,arguments)}return c}(ay);function vy(_){return _==null?0:_.color}function je(_){return _==null?null:_.parent}function Ln(_,u){_!==null&&(_.color=u)}function pv(_){return _==null?null:_.left}function dy(_){return _==null?null:_.right}var tu=function(_){a(c,_);var u=p(c);function c(){var h;return r(this,c),(h=u.call(this)).root_=null,h.size_=0,h}return i(c,[{key:"get",value:function(h){for(var m=this.root_;m!==null;){var S=h.compareTo(m.key);if(S<0)m=m.left;else{if(!(S>0))return m.value;m=m.right}}return null}},{key:"put",value:function(h,m){if(this.root_===null)return this.root_={key:h,value:m,left:null,right:null,parent:null,color:0,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var S,E,I=this.root_;do if(S=I,(E=h.compareTo(I.key))<0)I=I.left;else{if(!(E>0)){var A=I.value;return I.value=m,A}I=I.right}while(I!==null);var O={key:h,left:null,right:null,value:m,parent:S,color:0,getValue:function(){return this.value},getKey:function(){return this.key}};return E<0?S.left=O:S.right=O,this.fixAfterInsertion(O),this.size_++,null}},{key:"fixAfterInsertion",value:function(h){var m;for(h.color=1;h!=null&&h!==this.root_&&h.parent.color===1;)je(h)===pv(je(je(h)))?vy(m=dy(je(je(h))))===1?(Ln(je(h),0),Ln(m,0),Ln(je(je(h)),1),h=je(je(h))):(h===dy(je(h))&&(h=je(h),this.rotateLeft(h)),Ln(je(h),0),Ln(je(je(h)),1),this.rotateRight(je(je(h)))):vy(m=pv(je(je(h))))===1?(Ln(je(h),0),Ln(m,0),Ln(je(je(h)),1),h=je(je(h))):(h===pv(je(h))&&(h=je(h),this.rotateRight(h)),Ln(je(h),0),Ln(je(je(h)),1),this.rotateLeft(je(je(h))));this.root_.color=0}},{key:"values",value:function(){var h=new Pe,m=this.getFirstEntry();if(m!==null)for(h.add(m.value);(m=c.successor(m))!==null;)h.add(m.value);return h}},{key:"entrySet",value:function(){var h=new Ni,m=this.getFirstEntry();if(m!==null)for(h.add(m);(m=c.successor(m))!==null;)h.add(m);return h}},{key:"rotateLeft",value:function(h){if(h!=null){var m=h.right;h.right=m.left,m.left!=null&&(m.left.parent=h),m.parent=h.parent,h.parent==null?this.root_=m:h.parent.left===h?h.parent.left=m:h.parent.right=m,m.left=h,h.parent=m}}},{key:"rotateRight",value:function(h){if(h!=null){var m=h.left;h.left=m.right,m.right!=null&&(m.right.parent=h),m.parent=h.parent,h.parent==null?this.root_=m:h.parent.right===h?h.parent.right=m:h.parent.left=m,m.right=h,h.parent=m}}},{key:"getFirstEntry",value:function(){var h=this.root_;if(h!=null)for(;h.left!=null;)h=h.left;return h}},{key:"size",value:function(){return this.size_}},{key:"containsKey",value:function(h){for(var m=this.root_;m!==null;){var S=h.compareTo(m.key);if(S<0)m=m.left;else{if(!(S>0))return!0;m=m.right}}return!1}}],[{key:"successor",value:function(h){var m;if(h===null)return null;if(h.right!==null){for(m=h.right;m.left!==null;)m=m.left;return m}m=h.parent;for(var S=h;m!==null&&S===m.right;)S=m,m=m.parent;return m}}]),c}(hI),py=function(){function _(){r(this,_),_.constructor_.apply(this,arguments)}return i(_,[{key:"find",value:function(u){return this.nodeMap.get(u)}},{key:"addNode",value:function(){if(arguments[0]instanceof K){var u=arguments[0],c=this.nodeMap.get(u);return c===null&&(c=this.nodeFact.createNode(u),this.nodeMap.put(u,c)),c}if(arguments[0]instanceof Kl){var h=arguments[0],m=this.nodeMap.get(h.getCoordinate());return m===null?(this.nodeMap.put(h.getCoordinate(),h),h):(m.mergeLabel(h),m)}}},{key:"print",value:function(u){for(var c=this.iterator();c.hasNext();)c.next().print(u)}},{key:"iterator",value:function(){return this.nodeMap.values().iterator()}},{key:"values",value:function(){return this.nodeMap.values()}},{key:"getBoundaryNodes",value:function(u){for(var c=new Pe,h=this.iterator();h.hasNext();){var m=h.next();m.getLabel().getLocation(u)===B.BOUNDARY&&c.add(m)}return c}},{key:"add",value:function(u){var c=u.getCoordinate();this.addNode(c).add(u)}}],[{key:"constructor_",value:function(){this.nodeMap=new tu,this.nodeFact=null;var u=arguments[0];this.nodeFact=u}}]),_}(),er=function(){function _(){r(this,_)}return i(_,null,[{key:"isNorthern",value:function(u){return u===_.NE||u===_.NW}},{key:"isOpposite",value:function(u,c){return u!==c&&(u-c+4)%4===2}},{key:"commonHalfPlane",value:function(u,c){if(u===c)return u;if((u-c+4)%4===2)return-1;var h=u<c?u:c;return h===0&&(u>c?u:c)===3?3:h}},{key:"isInHalfPlane",value:function(u,c){return c===_.SE?u===_.SE||u===_.SW:u===c||u===c+1}},{key:"quadrant",value:function(){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var u=arguments[0],c=arguments[1];if(u===0&&c===0)throw new L("Cannot compute the quadrant for point ( "+u+", "+c+" )");return u>=0?c>=0?_.NE:_.SE:c>=0?_.NW:_.SW}if(arguments[0]instanceof K&&arguments[1]instanceof K){var h=arguments[0],m=arguments[1];if(m.x===h.x&&m.y===h.y)throw new L("Cannot compute the quadrant for two identical points "+h);return m.x>=h.x?m.y>=h.y?_.NE:_.SE:m.y>=h.y?_.NW:_.SW}}}]),_}();er.NE=0,er.NW=1,er.SW=2,er.SE=3;var gy=function(){function _(){r(this,_),_.constructor_.apply(this,arguments)}return i(_,[{key:"compareDirection",value:function(u){return this._dx===u._dx&&this._dy===u._dy?0:this._quadrant>u._quadrant?1:this._quadrant<u._quadrant?-1:De.index(u._p0,u._p1,this._p1)}},{key:"getDy",value:function(){return this._dy}},{key:"getCoordinate",value:function(){return this._p0}},{key:"setNode",value:function(u){this._node=u}},{key:"print",value:function(u){var c=Math.atan2(this._dy,this._dx),h=this.getClass().getName(),m=h.lastIndexOf("."),S=h.substring(m+1);u.print("  "+S+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+c+"   "+this._label)}},{key:"compareTo",value:function(u){var c=u;return this.compareDirection(c)}},{key:"getDirectedCoordinate",value:function(){return this._p1}},{key:"getDx",value:function(){return this._dx}},{key:"getLabel",value:function(){return this._label}},{key:"getEdge",value:function(){return this._edge}},{key:"getQuadrant",value:function(){return this._quadrant}},{key:"getNode",value:function(){return this._node}},{key:"toString",value:function(){var u=Math.atan2(this._dy,this._dx),c=this.getClass().getName(),h=c.lastIndexOf(".");return"  "+c.substring(h+1)+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+u+"   "+this._label}},{key:"computeLabel",value:function(u){}},{key:"init",value:function(u,c){this._p0=u,this._p1=c,this._dx=c.x-u.x,this._dy=c.y-u.y,this._quadrant=er.quadrant(this._dx,this._dy),oe.isTrue(!(this._dx===0&&this._dy===0),"EdgeEnd with identical endpoints found")}},{key:"interfaces_",get:function(){return[N]}}],[{key:"constructor_",value:function(){if(this._edge=null,this._label=null,this._node=null,this._p0=null,this._p1=null,this._dx=null,this._dy=null,this._quadrant=null,arguments.length===1){var u=arguments[0];this._edge=u}else if(arguments.length===3){var c=arguments[0],h=arguments[1],m=arguments[2];_.constructor_.call(this,c,h,m,null)}else if(arguments.length===4){var S=arguments[0],E=arguments[1],I=arguments[2],A=arguments[3];_.constructor_.call(this,S),this.init(E,I),this._label=A}}}]),_}(),gv=function(_){a(c,_);var u=p(c);function c(){var h;return r(this,c),h=u.call(this),c.constructor_.apply(d(h),arguments),h}return i(c,[{key:"getNextMin",value:function(){return this._nextMin}},{key:"getDepth",value:function(h){return this._depth[h]}},{key:"setVisited",value:function(h){this._isVisited=h}},{key:"computeDirectedLabel",value:function(){this._label=new Gr(this._edge.getLabel()),this._isForward||this._label.flip()}},{key:"getNext",value:function(){return this._next}},{key:"setDepth",value:function(h,m){if(this._depth[h]!==-999&&this._depth[h]!==m)throw new ai("assigned depths do not match",this.getCoordinate());this._depth[h]=m}},{key:"isInteriorAreaEdge",value:function(){for(var h=!0,m=0;m<2;m++)this._label.isArea(m)&&this._label.getLocation(m,ue.LEFT)===B.INTERIOR&&this._label.getLocation(m,ue.RIGHT)===B.INTERIOR||(h=!1);return h}},{key:"setNextMin",value:function(h){this._nextMin=h}},{key:"print",value:function(h){y(o(c.prototype),"print",this).call(this,h),h.print(" "+this._depth[ue.LEFT]+"/"+this._depth[ue.RIGHT]),h.print(" ("+this.getDepthDelta()+")"),this._isInResult&&h.print(" inResult")}},{key:"setMinEdgeRing",value:function(h){this._minEdgeRing=h}},{key:"isLineEdge",value:function(){var h=this._label.isLine(0)||this._label.isLine(1),m=!this._label.isArea(0)||this._label.allPositionsEqual(0,B.EXTERIOR),S=!this._label.isArea(1)||this._label.allPositionsEqual(1,B.EXTERIOR);return h&&m&&S}},{key:"setEdgeRing",value:function(h){this._edgeRing=h}},{key:"getMinEdgeRing",value:function(){return this._minEdgeRing}},{key:"getDepthDelta",value:function(){var h=this._edge.getDepthDelta();return this._isForward||(h=-h),h}},{key:"setInResult",value:function(h){this._isInResult=h}},{key:"getSym",value:function(){return this._sym}},{key:"isForward",value:function(){return this._isForward}},{key:"getEdge",value:function(){return this._edge}},{key:"printEdge",value:function(h){this.print(h),h.print(" "),this._isForward?this._edge.print(h):this._edge.printReverse(h)}},{key:"setSym",value:function(h){this._sym=h}},{key:"setVisitedEdge",value:function(h){this.setVisited(h),this._sym.setVisited(h)}},{key:"setEdgeDepths",value:function(h,m){var S=this.getEdge().getDepthDelta();this._isForward||(S=-S);var E=1;h===ue.LEFT&&(E=-1);var I=ue.opposite(h),A=m+S*E;this.setDepth(h,m),this.setDepth(I,A)}},{key:"getEdgeRing",value:function(){return this._edgeRing}},{key:"isInResult",value:function(){return this._isInResult}},{key:"setNext",value:function(h){this._next=h}},{key:"isVisited",value:function(){return this._isVisited}}],[{key:"constructor_",value:function(){this._isForward=null,this._isInResult=!1,this._isVisited=!1,this._sym=null,this._next=null,this._nextMin=null,this._edgeRing=null,this._minEdgeRing=null,this._depth=[0,-999,-999];var h=arguments[0],m=arguments[1];if(gy.constructor_.call(this,h),this._isForward=m,m)this.init(h.getCoordinate(0),h.getCoordinate(1));else{var S=h.getNumPoints()-1;this.init(h.getCoordinate(S),h.getCoordinate(S-1))}this.computeDirectedLabel()}},{key:"depthFactor",value:function(h,m){return h===B.EXTERIOR&&m===B.INTERIOR?1:h===B.INTERIOR&&m===B.EXTERIOR?-1:0}}]),c}(gy),my=function(){function _(){r(this,_)}return i(_,[{key:"createNode",value:function(u){return new Kl(u,null)}}]),_}(),yy=function(){function _(){r(this,_),_.constructor_.apply(this,arguments)}return i(_,[{key:"printEdges",value:function(u){u.println("Edges:");for(var c=0;c<this._edges.size();c++){u.println("edge "+c+":");var h=this._edges.get(c);h.print(u),h.eiList.print(u)}}},{key:"find",value:function(u){return this._nodes.find(u)}},{key:"addNode",value:function(){if(arguments[0]instanceof Kl){var u=arguments[0];return this._nodes.addNode(u)}if(arguments[0]instanceof K){var c=arguments[0];return this._nodes.addNode(c)}}},{key:"getNodeIterator",value:function(){return this._nodes.iterator()}},{key:"linkResultDirectedEdges",value:function(){for(var u=this._nodes.iterator();u.hasNext();)u.next().getEdges().linkResultDirectedEdges()}},{key:"debugPrintln",value:function(u){Br.out.println(u)}},{key:"isBoundaryNode",value:function(u,c){var h=this._nodes.find(c);if(h===null)return!1;var m=h.getLabel();return m!==null&&m.getLocation(u)===B.BOUNDARY}},{key:"linkAllDirectedEdges",value:function(){for(var u=this._nodes.iterator();u.hasNext();)u.next().getEdges().linkAllDirectedEdges()}},{key:"matchInSameDirection",value:function(u,c,h,m){return!!u.equals(h)&&De.index(u,c,m)===De.COLLINEAR&&er.quadrant(u,c)===er.quadrant(h,m)}},{key:"getEdgeEnds",value:function(){return this._edgeEndList}},{key:"debugPrint",value:function(u){Br.out.print(u)}},{key:"getEdgeIterator",value:function(){return this._edges.iterator()}},{key:"findEdgeInSameDirection",value:function(u,c){for(var h=0;h<this._edges.size();h++){var m=this._edges.get(h),S=m.getCoordinates();if(this.matchInSameDirection(u,c,S[0],S[1])||this.matchInSameDirection(u,c,S[S.length-1],S[S.length-2]))return m}return null}},{key:"insertEdge",value:function(u){this._edges.add(u)}},{key:"findEdgeEnd",value:function(u){for(var c=this.getEdgeEnds().iterator();c.hasNext();){var h=c.next();if(h.getEdge()===u)return h}return null}},{key:"addEdges",value:function(u){for(var c=u.iterator();c.hasNext();){var h=c.next();this._edges.add(h);var m=new gv(h,!0),S=new gv(h,!1);m.setSym(S),S.setSym(m),this.add(m),this.add(S)}}},{key:"add",value:function(u){this._nodes.add(u),this._edgeEndList.add(u)}},{key:"getNodes",value:function(){return this._nodes.values()}},{key:"findEdge",value:function(u,c){for(var h=0;h<this._edges.size();h++){var m=this._edges.get(h),S=m.getCoordinates();if(u.equals(S[0])&&c.equals(S[1]))return m}return null}}],[{key:"constructor_",value:function(){if(this._edges=new Pe,this._nodes=null,this._edgeEndList=new Pe,arguments.length===0)this._nodes=new py(new my);else if(arguments.length===1){var u=arguments[0];this._nodes=new py(u)}}},{key:"linkResultDirectedEdges",value:function(u){for(var c=u.iterator();c.hasNext();)c.next().getEdges().linkResultDirectedEdges()}}]),_}(),vI=function(){function _(){r(this,_),_.constructor_.apply(this,arguments)}return i(_,[{key:"sortShellsAndHoles",value:function(u,c,h){for(var m=u.iterator();m.hasNext();){var S=m.next();S.isHole()?h.add(S):c.add(S)}}},{key:"computePolygons",value:function(u){for(var c=new Pe,h=u.iterator();h.hasNext();){var m=h.next().toPolygon(this._geometryFactory);c.add(m)}return c}},{key:"placeFreeHoles",value:function(u,c){for(var h=c.iterator();h.hasNext();){var m=h.next();if(m.getShell()===null){var S=_.findEdgeRingContaining(m,u);if(S===null)throw new ai("unable to assign hole to a shell",m.getCoordinate(0));m.setShell(S)}}}},{key:"buildMinimalEdgeRings",value:function(u,c,h){for(var m=new Pe,S=u.iterator();S.hasNext();){var E=S.next();if(E.getMaxNodeDegree()>2){E.linkDirectedEdgesForMinimalEdgeRings();var I=E.buildMinimalRings(),A=this.findShell(I);A!==null?(this.placePolygonHoles(A,I),c.add(A)):h.addAll(I)}else m.add(E)}return m}},{key:"buildMaximalEdgeRings",value:function(u){for(var c=new Pe,h=u.iterator();h.hasNext();){var m=h.next();if(m.isInResult()&&m.getLabel().isArea()&&m.getEdgeRing()===null){var S=new fI(m,this._geometryFactory);c.add(S),S.setInResult()}}return c}},{key:"placePolygonHoles",value:function(u,c){for(var h=c.iterator();h.hasNext();){var m=h.next();m.isHole()&&m.setShell(u)}}},{key:"getPolygons",value:function(){return this.computePolygons(this._shellList)}},{key:"findShell",value:function(u){for(var c=0,h=null,m=u.iterator();m.hasNext();){var S=m.next();S.isHole()||(h=S,c++)}return oe.isTrue(c<=1,"found two shells in MinimalEdgeRing list"),h}},{key:"add",value:function(){if(arguments.length===1){var u=arguments[0];this.add(u.getEdgeEnds(),u.getNodes())}else if(arguments.length===2){var c=arguments[0],h=arguments[1];yy.linkResultDirectedEdges(h);var m=this.buildMaximalEdgeRings(c),S=new Pe,E=this.buildMinimalEdgeRings(m,this._shellList,S);this.sortShellsAndHoles(E,this._shellList,S),this.placeFreeHoles(this._shellList,S)}}}],[{key:"constructor_",value:function(){this._geometryFactory=null,this._shellList=new Pe;var u=arguments[0];this._geometryFactory=u}},{key:"findEdgeRingContaining",value:function(u,c){for(var h=u.getLinearRing(),m=h.getEnvelopeInternal(),S=h.getCoordinateN(0),E=null,I=null,A=c.iterator();A.hasNext();){var O=A.next(),$=O.getLinearRing(),X=$.getEnvelopeInternal();if(!X.equals(m)&&X.contains(m)){S=Ft.ptNotInList(h.getCoordinates(),$.getCoordinates());var ee=!1;dv.isInRing(S,$.getCoordinates())&&(ee=!0),ee&&(E===null||I.contains(X))&&(I=(E=O).getLinearRing().getEnvelopeInternal())}}return E}}]),_}(),_y=function(){function _(){r(this,_)}return i(_,[{key:"getBounds",value:function(){}}]),_}(),si=function(){function _(){r(this,_),_.constructor_.apply(this,arguments)}return i(_,[{key:"getItem",value:function(){return this._item}},{key:"getBounds",value:function(){return this._bounds}},{key:"interfaces_",get:function(){return[_y,D]}}],[{key:"constructor_",value:function(){this._bounds=null,this._item=null;var u=arguments[0],c=arguments[1];this._bounds=u,this._item=c}}]),_}(),Zl=function(){function _(){r(this,_),_.constructor_.apply(this,arguments)}return i(_,[{key:"poll",value:function(){if(this.isEmpty())return null;var u=this._items.get(1);return this._items.set(1,this._items.get(this._size)),this._size-=1,this.reorder(1),u}},{key:"size",value:function(){return this._size}},{key:"reorder",value:function(u){for(var c=null,h=this._items.get(u);2*u<=this._size&&((c=2*u)!==this._size&&this._items.get(c+1).compareTo(this._items.get(c))<0&&c++,this._items.get(c).compareTo(h)<0);u=c)this._items.set(u,this._items.get(c));this._items.set(u,h)}},{key:"clear",value:function(){this._size=0,this._items.clear()}},{key:"peek",value:function(){return this.isEmpty()?null:this._items.get(1)}},{key:"isEmpty",value:function(){return this._size===0}},{key:"add",value:function(u){this._items.add(null),this._size+=1;var c=this._size;for(this._items.set(0,u);u.compareTo(this._items.get(Math.trunc(c/2)))<0;c/=2)this._items.set(c,this._items.get(Math.trunc(c/2)));this._items.set(c,u)}}],[{key:"constructor_",value:function(){this._size=null,this._items=null,this._size=0,this._items=new Pe,this._items.add(null)}}]),_}(),dI=function(){function _(){r(this,_)}return i(_,[{key:"insert",value:function(u,c){}},{key:"remove",value:function(u,c){}},{key:"query",value:function(){}}]),_}(),Vr=function(){function _(){r(this,_),_.constructor_.apply(this,arguments)}return i(_,[{key:"getLevel",value:function(){return this._level}},{key:"size",value:function(){return this._childBoundables.size()}},{key:"getChildBoundables",value:function(){return this._childBoundables}},{key:"addChildBoundable",value:function(u){oe.isTrue(this._bounds===null),this._childBoundables.add(u)}},{key:"isEmpty",value:function(){return this._childBoundables.isEmpty()}},{key:"getBounds",value:function(){return this._bounds===null&&(this._bounds=this.computeBounds()),this._bounds}},{key:"interfaces_",get:function(){return[_y,D]}}],[{key:"constructor_",value:function(){if(this._childBoundables=new Pe,this._bounds=null,this._level=null,arguments.length!==0){if(arguments.length===1){var u=arguments[0];this._level=u}}}}]),_}(),Mo={reverseOrder:function(){return{compare:function(_,u){return u.compareTo(_)}}},min:function(_){return Mo.sort(_),_.get(0)},sort:function(_,u){var c=_.toArray();u?ba.sort(c,u):ba.sort(c);for(var h=_.iterator(),m=0,S=c.length;m<S;m++)h.next(),h.set(c[m])},singletonList:function(_){var u=new Pe;return u.add(_),u}},pI=function(){function _(){r(this,_)}return i(_,null,[{key:"maxDistance",value:function(u,c,h,m,S,E,I,A){var O=_.distance(u,c,S,E);return O=Math.max(O,_.distance(u,c,I,A)),O=Math.max(O,_.distance(h,m,S,E)),O=Math.max(O,_.distance(h,m,I,A))}},{key:"distance",value:function(u,c,h,m){var S=h-u,E=m-c;return Math.sqrt(S*S+E*E)}},{key:"maximumDistance",value:function(u,c){var h=Math.min(u.getMinX(),c.getMinX()),m=Math.min(u.getMinY(),c.getMinY()),S=Math.max(u.getMaxX(),c.getMaxX()),E=Math.max(u.getMaxY(),c.getMaxY());return _.distance(h,m,S,E)}},{key:"minMaxDistance",value:function(u,c){var h=u.getMinX(),m=u.getMinY(),S=u.getMaxX(),E=u.getMaxY(),I=c.getMinX(),A=c.getMinY(),O=c.getMaxX(),$=c.getMaxY(),X=_.maxDistance(h,m,h,E,I,A,I,$);return X=Math.min(X,_.maxDistance(h,m,h,E,I,A,O,A)),X=Math.min(X,_.maxDistance(h,m,h,E,O,$,I,$)),X=Math.min(X,_.maxDistance(h,m,h,E,O,$,O,A)),X=Math.min(X,_.maxDistance(h,m,S,m,I,A,I,$)),X=Math.min(X,_.maxDistance(h,m,S,m,I,A,O,A)),X=Math.min(X,_.maxDistance(h,m,S,m,O,$,I,$)),X=Math.min(X,_.maxDistance(h,m,S,m,O,$,O,A)),X=Math.min(X,_.maxDistance(S,E,h,E,I,A,I,$)),X=Math.min(X,_.maxDistance(S,E,h,E,I,A,O,A)),X=Math.min(X,_.maxDistance(S,E,h,E,O,$,I,$)),X=Math.min(X,_.maxDistance(S,E,h,E,O,$,O,A)),X=Math.min(X,_.maxDistance(S,E,S,m,I,A,I,$)),X=Math.min(X,_.maxDistance(S,E,S,m,I,A,O,A)),X=Math.min(X,_.maxDistance(S,E,S,m,O,$,I,$)),X=Math.min(X,_.maxDistance(S,E,S,m,O,$,O,A))}}]),_}(),Lo=function(){function _(){r(this,_),_.constructor_.apply(this,arguments)}return i(_,[{key:"maximumDistance",value:function(){return pI.maximumDistance(this._boundable1.getBounds(),this._boundable2.getBounds())}},{key:"expandToQueue",value:function(u,c){var h=_.isComposite(this._boundable1),m=_.isComposite(this._boundable2);if(h&&m)return _.area(this._boundable1)>_.area(this._boundable2)?(this.expand(this._boundable1,this._boundable2,!1,u,c),null):(this.expand(this._boundable2,this._boundable1,!0,u,c),null);if(h)return this.expand(this._boundable1,this._boundable2,!1,u,c),null;if(m)return this.expand(this._boundable2,this._boundable1,!0,u,c),null;throw new L("neither boundable is composite")}},{key:"isLeaves",value:function(){return!(_.isComposite(this._boundable1)||_.isComposite(this._boundable2))}},{key:"compareTo",value:function(u){var c=u;return this._distance<c._distance?-1:this._distance>c._distance?1:0}},{key:"expand",value:function(u,c,h,m,S){for(var E=u.getChildBoundables().iterator();E.hasNext();){var I=E.next(),A=null;(A=h?new _(c,I,this._itemDistance):new _(I,c,this._itemDistance)).getDistance()<S&&m.add(A)}}},{key:"getBoundable",value:function(u){return u===0?this._boundable1:this._boundable2}},{key:"getDistance",value:function(){return this._distance}},{key:"distance",value:function(){return this.isLeaves()?this._itemDistance.distance(this._boundable1,this._boundable2):this._boundable1.getBounds().distance(this._boundable2.getBounds())}},{key:"interfaces_",get:function(){return[N]}}],[{key:"constructor_",value:function(){this._boundable1=null,this._boundable2=null,this._distance=null,this._itemDistance=null;var u=arguments[0],c=arguments[1],h=arguments[2];this._boundable1=u,this._boundable2=c,this._itemDistance=h,this._distance=this.distance()}},{key:"area",value:function(u){return u.getBounds().getArea()}},{key:"isComposite",value:function(u){return u instanceof Vr}}]),_}(),wy=function(){function _(){r(this,_)}return i(_,[{key:"visitItem",value:function(u){}}]),_}(),Po=function(){function _(){r(this,_),_.constructor_.apply(this,arguments)}return i(_,[{key:"queryInternal",value:function(){if(te(arguments[2],wy)&&arguments[0]instanceof Object&&arguments[1]instanceof Vr)for(var u=arguments[0],c=arguments[1],h=arguments[2],m=c.getChildBoundables(),S=0;S<m.size();S++){var E=m.get(S);this.getIntersectsOp().intersects(E.getBounds(),u)&&(E instanceof Vr?this.queryInternal(u,E,h):E instanceof si?h.visitItem(E.getItem()):oe.shouldNeverReachHere())}else if(te(arguments[2],Fr)&&arguments[0]instanceof Object&&arguments[1]instanceof Vr)for(var I=arguments[0],A=arguments[1],O=arguments[2],$=A.getChildBoundables(),X=0;X<$.size();X++){var ee=$.get(X);this.getIntersectsOp().intersects(ee.getBounds(),I)&&(ee instanceof Vr?this.queryInternal(I,ee,O):ee instanceof si?O.add(ee.getItem()):oe.shouldNeverReachHere())}}},{key:"getNodeCapacity",value:function(){return this._nodeCapacity}},{key:"lastNode",value:function(u){return u.get(u.size()-1)}},{key:"size",value:function(){if(arguments.length===0)return this.isEmpty()?0:(this.build(),this.size(this._root));if(arguments.length===1){for(var u=arguments[0],c=0,h=u.getChildBoundables().iterator();h.hasNext();){var m=h.next();m instanceof Vr?c+=this.size(m):m instanceof si&&(c+=1)}return c}}},{key:"removeItem",value:function(u,c){for(var h=null,m=u.getChildBoundables().iterator();m.hasNext();){var S=m.next();S instanceof si&&S.getItem()===c&&(h=S)}return h!==null&&(u.getChildBoundables().remove(h),!0)}},{key:"itemsTree",value:function(){if(arguments.length===0){this.build();var u=this.itemsTree(this._root);return u===null?new Pe:u}if(arguments.length===1){for(var c=arguments[0],h=new Pe,m=c.getChildBoundables().iterator();m.hasNext();){var S=m.next();if(S instanceof Vr){var E=this.itemsTree(S);E!==null&&h.add(E)}else S instanceof si?h.add(S.getItem()):oe.shouldNeverReachHere()}return h.size()<=0?null:h}}},{key:"insert",value:function(u,c){oe.isTrue(!this._built,"Cannot insert items into an STR packed R-tree after it has been built."),this._itemBoundables.add(new si(u,c))}},{key:"boundablesAtLevel",value:function(){if(arguments.length===1){var u=arguments[0],c=new Pe;return this.boundablesAtLevel(u,this._root,c),c}if(arguments.length===3){var h=arguments[0],m=arguments[1],S=arguments[2];if(oe.isTrue(h>-2),m.getLevel()===h)return S.add(m),null;for(var E=m.getChildBoundables().iterator();E.hasNext();){var I=E.next();I instanceof Vr?this.boundablesAtLevel(h,I,S):(oe.isTrue(I instanceof si),h===-1&&S.add(I))}return null}}},{key:"query",value:function(){if(arguments.length===1){var u=arguments[0];this.build();var c=new Pe;return this.isEmpty()||this.getIntersectsOp().intersects(this._root.getBounds(),u)&&this.queryInternal(u,this._root,c),c}if(arguments.length===2){var h=arguments[0],m=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this._root.getBounds(),h)&&this.queryInternal(h,this._root,m)}}},{key:"build",value:function(){if(this._built)return null;this._root=this._itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this._itemBoundables,-1),this._itemBoundables=null,this._built=!0}},{key:"getRoot",value:function(){return this.build(),this._root}},{key:"remove",value:function(){if(arguments.length===2){var u=arguments[0],c=arguments[1];return this.build(),!!this.getIntersectsOp().intersects(this._root.getBounds(),u)&&this.remove(u,this._root,c)}if(arguments.length===3){var h=arguments[0],m=arguments[1],S=arguments[2],E=this.removeItem(m,S);if(E)return!0;for(var I=null,A=m.getChildBoundables().iterator();A.hasNext();){var O=A.next();if(this.getIntersectsOp().intersects(O.getBounds(),h)&&O instanceof Vr&&(E=this.remove(h,O,S))){I=O;break}}return I!==null&&I.getChildBoundables().isEmpty()&&m.getChildBoundables().remove(I),E}}},{key:"createHigherLevels",value:function(u,c){oe.isTrue(!u.isEmpty());var h=this.createParentBoundables(u,c+1);return h.size()===1?h.get(0):this.createHigherLevels(h,c+1)}},{key:"depth",value:function(){if(arguments.length===0)return this.isEmpty()?0:(this.build(),this.depth(this._root));if(arguments.length===1){for(var u=arguments[0],c=0,h=u.getChildBoundables().iterator();h.hasNext();){var m=h.next();if(m instanceof Vr){var S=this.depth(m);S>c&&(c=S)}}return c+1}}},{key:"createParentBoundables",value:function(u,c){oe.isTrue(!u.isEmpty());var h=new Pe;h.add(this.createNode(c));var m=new Pe(u);Mo.sort(m,this.getComparator());for(var S=m.iterator();S.hasNext();){var E=S.next();this.lastNode(h).getChildBoundables().size()===this.getNodeCapacity()&&h.add(this.createNode(c)),this.lastNode(h).addChildBoundable(E)}return h}},{key:"isEmpty",value:function(){return this._built?this._root.isEmpty():this._itemBoundables.isEmpty()}},{key:"interfaces_",get:function(){return[D]}}],[{key:"constructor_",value:function(){if(this._root=null,this._built=!1,this._itemBoundables=new Pe,this._nodeCapacity=null,arguments.length===0)_.constructor_.call(this,_.DEFAULT_NODE_CAPACITY);else if(arguments.length===1){var u=arguments[0];oe.isTrue(u>1,"Node capacity must be greater than 1"),this._nodeCapacity=u}}},{key:"compareDoubles",value:function(u,c){return u>c?1:u<c?-1:0}}]),_}();Po.IntersectsOp=function(){},Po.DEFAULT_NODE_CAPACITY=10;var gI=function(){function _(){r(this,_)}return i(_,[{key:"distance",value:function(u,c){}}]),_}(),Pn=function(_){a(c,_);var u=p(c);function c(){var h;return r(this,c),h=u.call(this),c.constructor_.apply(d(h),arguments),h}return i(c,[{key:"createParentBoundablesFromVerticalSlices",value:function(h,m){oe.isTrue(h.length>0);for(var S=new Pe,E=0;E<h.length;E++)S.addAll(this.createParentBoundablesFromVerticalSlice(h[E],m));return S}},{key:"nearestNeighbourK",value:function(){if(arguments.length===2){var h=arguments[0],m=arguments[1];return this.nearestNeighbourK(h,j.POSITIVE_INFINITY,m)}if(arguments.length===3){var S=arguments[0],E=arguments[1],I=arguments[2],A=E,O=new Zl;O.add(S);for(var $=new Zl;!O.isEmpty()&&A>=0;){var X=O.poll(),ee=X.getDistance();if(ee>=A)break;if(X.isLeaves())if($.size()<I)$.add(X);else{var le=$.peek();le.getDistance()>ee&&($.poll(),$.add(X));var se=$.peek();A=se.getDistance()}else X.expandToQueue(O,A)}return c.getItems($)}}},{key:"createNode",value:function(h){return new by(h)}},{key:"size",value:function(){return arguments.length===0?y(o(c.prototype),"size",this).call(this):y(o(c.prototype),"size",this).apply(this,arguments)}},{key:"insert",value:function(){if(!(arguments.length===2&&arguments[1]instanceof Object&&arguments[0]instanceof _e))return y(o(c.prototype),"insert",this).apply(this,arguments);var h=arguments[0],m=arguments[1];if(h.isNull())return null;y(o(c.prototype),"insert",this).call(this,h,m)}},{key:"getIntersectsOp",value:function(){return c.intersectsOp}},{key:"verticalSlices",value:function(h,m){for(var S=Math.trunc(Math.ceil(h.size()/m)),E=new Array(m).fill(null),I=h.iterator(),A=0;A<m;A++){E[A]=new Pe;for(var O=0;I.hasNext()&&O<S;){var $=I.next();E[A].add($),O++}}return E}},{key:"query",value:function(){if(arguments.length===1){var h=arguments[0];return y(o(c.prototype),"query",this).call(this,h)}if(arguments.length===2){var m=arguments[0],S=arguments[1];y(o(c.prototype),"query",this).call(this,m,S)}}},{key:"getComparator",value:function(){return c.yComparator}},{key:"createParentBoundablesFromVerticalSlice",value:function(h,m){return y(o(c.prototype),"createParentBoundables",this).call(this,h,m)}},{key:"remove",value:function(){if(arguments.length===2&&arguments[1]instanceof Object&&arguments[0]instanceof _e){var h=arguments[0],m=arguments[1];return y(o(c.prototype),"remove",this).call(this,h,m)}return y(o(c.prototype),"remove",this).apply(this,arguments)}},{key:"depth",value:function(){return arguments.length===0?y(o(c.prototype),"depth",this).call(this):y(o(c.prototype),"depth",this).apply(this,arguments)}},{key:"createParentBoundables",value:function(h,m){oe.isTrue(!h.isEmpty());var S=Math.trunc(Math.ceil(h.size()/this.getNodeCapacity())),E=new Pe(h);Mo.sort(E,c.xComparator);var I=this.verticalSlices(E,Math.trunc(Math.ceil(Math.sqrt(S))));return this.createParentBoundablesFromVerticalSlices(I,m)}},{key:"nearestNeighbour",value:function(){if(arguments.length===1){if(te(arguments[0],gI)){var h=arguments[0];if(this.isEmpty())return null;var m=new Lo(this.getRoot(),this.getRoot(),h);return this.nearestNeighbour(m)}if(arguments[0]instanceof Lo){var S=arguments[0],E=j.POSITIVE_INFINITY,I=null,A=new Zl;for(A.add(S);!A.isEmpty()&&E>0;){var O=A.poll(),$=O.getDistance();if($>=E)break;O.isLeaves()?(E=$,I=O):O.expandToQueue(A,E)}return I===null?null:[I.getBoundable(0).getItem(),I.getBoundable(1).getItem()]}}else{if(arguments.length===2){var X=arguments[0],ee=arguments[1];if(this.isEmpty()||X.isEmpty())return null;var le=new Lo(this.getRoot(),X.getRoot(),ee);return this.nearestNeighbour(le)}if(arguments.length===3){var se=arguments[0],Ce=arguments[1],Ie=arguments[2],Re=new si(se,Ce),rt=new Lo(this.getRoot(),Re,Ie);return this.nearestNeighbour(rt)[0]}if(arguments.length===4){var _t=arguments[0],qt=arguments[1],Mr=arguments[2],fn=arguments[3],ui=new si(_t,qt),Ea=new Lo(this.getRoot(),ui,Mr);return this.nearestNeighbourK(Ea,fn)}}}},{key:"isWithinDistance",value:function(){if(arguments.length===2){var h=arguments[0],m=arguments[1],S=j.POSITIVE_INFINITY,E=new Zl;for(E.add(h);!E.isEmpty();){var I=E.poll(),A=I.getDistance();if(A>m)return!1;if(I.maximumDistance()<=m)return!0;if(I.isLeaves()){if((S=A)<=m)return!0}else I.expandToQueue(E,S)}return!1}if(arguments.length===3){var O=arguments[0],$=arguments[1],X=arguments[2],ee=new Lo(this.getRoot(),O.getRoot(),$);return this.isWithinDistance(ee,X)}}},{key:"interfaces_",get:function(){return[dI,D]}}],[{key:"constructor_",value:function(){if(arguments.length===0)c.constructor_.call(this,c.DEFAULT_NODE_CAPACITY);else if(arguments.length===1){var h=arguments[0];Po.constructor_.call(this,h)}}},{key:"centreX",value:function(h){return c.avg(h.getMinX(),h.getMaxX())}},{key:"avg",value:function(h,m){return(h+m)/2}},{key:"getItems",value:function(h){for(var m=new Array(h.size()).fill(null),S=0;!h.isEmpty();){var E=h.poll();m[S]=E.getBoundable(0).getItem(),S++}return m}},{key:"centreY",value:function(h){return c.avg(h.getMinY(),h.getMaxY())}}]),c}(Po),by=function(_){a(c,_);var u=p(c);function c(){var h;return r(this,c),h=u.call(this),c.constructor_.apply(d(h),arguments),h}return i(c,[{key:"computeBounds",value:function(){for(var h=null,m=this.getChildBoundables().iterator();m.hasNext();){var S=m.next();h===null?h=new _e(S.getBounds()):h.expandToInclude(S.getBounds())}return h}}],[{key:"constructor_",value:function(){var h=arguments[0];Vr.constructor_.call(this,h)}}]),c}(Vr);Pn.STRtreeNode=by,Pn.xComparator=new(function(){function _(){r(this,_)}return i(_,[{key:"interfaces_",get:function(){return[pe]}},{key:"compare",value:function(u,c){return Po.compareDoubles(Pn.centreX(u.getBounds()),Pn.centreX(c.getBounds()))}}]),_}()),Pn.yComparator=new(function(){function _(){r(this,_)}return i(_,[{key:"interfaces_",get:function(){return[pe]}},{key:"compare",value:function(u,c){return Po.compareDoubles(Pn.centreY(u.getBounds()),Pn.centreY(c.getBounds()))}}]),_}()),Pn.intersectsOp=new(function(){function _(){r(this,_)}return i(_,[{key:"interfaces_",get:function(){return[IntersectsOp]}},{key:"intersects",value:function(u,c){return u.intersects(c)}}]),_}()),Pn.DEFAULT_NODE_CAPACITY=10;var mI=function(){function _(){r(this,_)}return i(_,null,[{key:"relativeSign",value:function(u,c){return u<c?-1:u>c?1:0}},{key:"compare",value:function(u,c,h){if(c.equals2D(h))return 0;var m=_.relativeSign(c.x,h.x),S=_.relativeSign(c.y,h.y);switch(u){case 0:return _.compareValue(m,S);case 1:return _.compareValue(S,m);case 2:return _.compareValue(S,-m);case 3:return _.compareValue(-m,S);case 4:return _.compareValue(-m,-S);case 5:return _.compareValue(-S,-m);case 6:return _.compareValue(-S,m);case 7:return _.compareValue(m,-S)}return oe.shouldNeverReachHere("invalid octant value"),0}},{key:"compareValue",value:function(u,c){return u<0?-1:u>0?1:c<0?-1:c>0?1:0}}]),_}(),yI=function(){function _(){r(this,_),_.constructor_.apply(this,arguments)}return i(_,[{key:"getCoordinate",value:function(){return this.coord}},{key:"print",value:function(u){u.print(this.coord),u.print(" seg # = "+this.segmentIndex)}},{key:"compareTo",value:function(u){var c=u;return this.segmentIndex<c.segmentIndex?-1:this.segmentIndex>c.segmentIndex?1:this.coord.equals2D(c.coord)?0:this._isInterior?c._isInterior?mI.compare(this._segmentOctant,this.coord,c.coord):1:-1}},{key:"isEndPoint",value:function(u){return this.segmentIndex===0&&!this._isInterior||this.segmentIndex===u}},{key:"toString",value:function(){return this.segmentIndex+":"+this.coord.toString()}},{key:"isInterior",value:function(){return this._isInterior}},{key:"interfaces_",get:function(){return[N]}}],[{key:"constructor_",value:function(){this._segString=null,this.coord=null,this.segmentIndex=null,this._segmentOctant=null,this._isInterior=null;var u=arguments[0],c=arguments[1],h=arguments[2],m=arguments[3];this._segString=u,this.coord=new K(c),this.segmentIndex=h,this._segmentOctant=m,this._isInterior=!c.equals2D(u.getCoordinate(h))}}]),_}(),_I=function(){function _(){r(this,_)}return i(_,[{key:"hasNext",value:function(){}},{key:"next",value:function(){}},{key:"remove",value:function(){}}]),_}(),wI=function(){function _(){r(this,_),_.constructor_.apply(this,arguments)}return i(_,[{key:"getSplitCoordinates",value:function(){var u=new Qs;this.addEndpoints();for(var c=this.iterator(),h=c.next();c.hasNext();){var m=c.next();this.addEdgeCoordinates(h,m,u),h=m}return u.toCoordinateArray()}},{key:"addCollapsedNodes",value:function(){var u=new Pe;this.findCollapsesFromInsertedNodes(u),this.findCollapsesFromExistingVertices(u);for(var c=u.iterator();c.hasNext();){var h=c.next().intValue();this.add(this._edge.getCoordinate(h),h)}}},{key:"createSplitEdgePts",value:function(u,c){var h=c.segmentIndex-u.segmentIndex+2;if(h===2)return[new K(u.coord),new K(c.coord)];var m=this._edge.getCoordinate(c.segmentIndex),S=c.isInterior()||!c.coord.equals2D(m);S||h--;var E=new Array(h).fill(null),I=0;E[I++]=new K(u.coord);for(var A=u.segmentIndex+1;A<=c.segmentIndex;A++)E[I++]=this._edge.getCoordinate(A);return S&&(E[I]=new K(c.coord)),E}},{key:"print",value:function(u){u.println("Intersections:");for(var c=this.iterator();c.hasNext();)c.next().print(u)}},{key:"findCollapsesFromExistingVertices",value:function(u){for(var c=0;c<this._edge.size()-2;c++){var h=this._edge.getCoordinate(c);this._edge.getCoordinate(c+1);var m=this._edge.getCoordinate(c+2);h.equals2D(m)&&u.add(sr.valueOf(c+1))}}},{key:"addEdgeCoordinates",value:function(u,c,h){var m=this.createSplitEdgePts(u,c);h.add(m,!1)}},{key:"iterator",value:function(){return this._nodeMap.values().iterator()}},{key:"addSplitEdges",value:function(u){this.addEndpoints(),this.addCollapsedNodes();for(var c=this.iterator(),h=c.next();c.hasNext();){var m=c.next(),S=this.createSplitEdge(h,m);u.add(S),h=m}}},{key:"findCollapseIndex",value:function(u,c,h){if(!u.coord.equals2D(c.coord))return!1;var m=c.segmentIndex-u.segmentIndex;return c.isInterior()||m--,m===1&&(h[0]=u.segmentIndex+1,!0)}},{key:"findCollapsesFromInsertedNodes",value:function(u){for(var c=new Array(1).fill(null),h=this.iterator(),m=h.next();h.hasNext();){var S=h.next();this.findCollapseIndex(m,S,c)&&u.add(sr.valueOf(c[0])),m=S}}},{key:"getEdge",value:function(){return this._edge}},{key:"addEndpoints",value:function(){var u=this._edge.size()-1;this.add(this._edge.getCoordinate(0),0),this.add(this._edge.getCoordinate(u),u)}},{key:"createSplitEdge",value:function(u,c){var h=this.createSplitEdgePts(u,c);return new Ta(h,this._edge.getData())}},{key:"add",value:function(u,c){var h=new yI(this._edge,u,c,this._edge.getSegmentOctant(c)),m=this._nodeMap.get(h);return m!==null?(oe.isTrue(m.coord.equals2D(u),"Found equal nodes with different coordinates"),m):(this._nodeMap.put(h,h),h)}},{key:"checkSplitEdgesCorrectness",value:function(u){var c=this._edge.getCoordinates(),h=u.get(0).getCoordinate(0);if(!h.equals2D(c[0]))throw new ae("bad split edge start point at "+h);var m=u.get(u.size()-1).getCoordinates(),S=m[m.length-1];if(!S.equals2D(c[c.length-1]))throw new ae("bad split edge end point at "+S)}}],[{key:"constructor_",value:function(){this._nodeMap=new tu,this._edge=null;var u=arguments[0];this._edge=u}}]),_}(),bI=function(){function _(){r(this,_)}return i(_,null,[{key:"octant",value:function(){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var u=arguments[0],c=arguments[1];if(u===0&&c===0)throw new L("Cannot compute the octant for point ( "+u+", "+c+" )");var h=Math.abs(u),m=Math.abs(c);return u>=0?c>=0?h>=m?0:1:h>=m?7:6:c>=0?h>=m?3:2:h>=m?4:5}if(arguments[0]instanceof K&&arguments[1]instanceof K){var S=arguments[0],E=arguments[1],I=E.x-S.x,A=E.y-S.y;if(I===0&&A===0)throw new L("Cannot compute the octant for two identical points "+S);return _.octant(I,A)}}}]),_}(),xI=function(){function _(){r(this,_)}return i(_,[{key:"getCoordinates",value:function(){}},{key:"size",value:function(){}},{key:"getCoordinate",value:function(u){}},{key:"isClosed",value:function(){}},{key:"setData",value:function(u){}},{key:"getData",value:function(){}}]),_}(),SI=function(){function _(){r(this,_)}return i(_,[{key:"addIntersection",value:function(u,c){}},{key:"interfaces_",get:function(){return[xI]}}]),_}(),Ta=function(){function _(){r(this,_),_.constructor_.apply(this,arguments)}return i(_,[{key:"getCoordinates",value:function(){return this._pts}},{key:"size",value:function(){return this._pts.length}},{key:"getCoordinate",value:function(u){return this._pts[u]}},{key:"isClosed",value:function(){return this._pts[0].equals(this._pts[this._pts.length-1])}},{key:"getSegmentOctant",value:function(u){return u===this._pts.length-1?-1:this.safeOctant(this.getCoordinate(u),this.getCoordinate(u+1))}},{key:"setData",value:function(u){this._data=u}},{key:"safeOctant",value:function(u,c){return u.equals2D(c)?0:bI.octant(u,c)}},{key:"getData",value:function(){return this._data}},{key:"addIntersection",value:function(){if(arguments.length===2){var u=arguments[0],c=arguments[1];this.addIntersectionNode(u,c)}else if(arguments.length===4){var h=arguments[0],m=arguments[1],S=arguments[3],E=new K(h.getIntersection(S));this.addIntersection(E,m)}}},{key:"toString",value:function(){return vv.toLineString(new Js(this._pts))}},{key:"getNodeList",value:function(){return this._nodeList}},{key:"addIntersectionNode",value:function(u,c){var h=c,m=h+1;if(m<this._pts.length){var S=this._pts[m];u.equals2D(S)&&(h=m)}return this._nodeList.add(u,h)}},{key:"addIntersections",value:function(u,c,h){for(var m=0;m<u.getIntersectionNum();m++)this.addIntersection(u,c,h,m)}},{key:"interfaces_",get:function(){return[SI]}}],[{key:"constructor_",value:function(){this._nodeList=new wI(this),this._pts=null,this._data=null;var u=arguments[0],c=arguments[1];this._pts=u,this._data=c}},{key:"getNodedSubstrings",value:function(){if(arguments.length===1){var u=arguments[0],c=new Pe;return _.getNodedSubstrings(u,c),c}if(arguments.length===2)for(var h=arguments[0],m=arguments[1],S=h.iterator();S.hasNext();){var E=S.next();E.getNodeList().addSplitEdges(m)}}}]),_}(),kr=function(){function _(){r(this,_),_.constructor_.apply(this,arguments)}return i(_,[{key:"minX",value:function(){return Math.min(this.p0.x,this.p1.x)}},{key:"orientationIndex",value:function(){if(arguments[0]instanceof _){var u=arguments[0],c=De.index(this.p0,this.p1,u.p0),h=De.index(this.p0,this.p1,u.p1);return c>=0&&h>=0||c<=0&&h<=0?Math.max(c,h):0}if(arguments[0]instanceof K){var m=arguments[0];return De.index(this.p0,this.p1,m)}}},{key:"toGeometry",value:function(u){return u.createLineString([this.p0,this.p1])}},{key:"isVertical",value:function(){return this.p0.x===this.p1.x}},{key:"equals",value:function(u){if(!(u instanceof _))return!1;var c=u;return this.p0.equals(c.p0)&&this.p1.equals(c.p1)}},{key:"intersection",value:function(u){var c=new Ca;return c.computeIntersection(this.p0,this.p1,u.p0,u.p1),c.hasIntersection()?c.getIntersection(0):null}},{key:"project",value:function(){if(arguments[0]instanceof K){var u=arguments[0];if(u.equals(this.p0)||u.equals(this.p1))return new K(u);var c=this.projectionFactor(u),h=new K;return h.x=this.p0.x+c*(this.p1.x-this.p0.x),h.y=this.p0.y+c*(this.p1.y-this.p0.y),h}if(arguments[0]instanceof _){var m=arguments[0],S=this.projectionFactor(m.p0),E=this.projectionFactor(m.p1);if(S>=1&&E>=1||S<=0&&E<=0)return null;var I=this.project(m.p0);S<0&&(I=this.p0),S>1&&(I=this.p1);var A=this.project(m.p1);return E<0&&(A=this.p0),E>1&&(A=this.p1),new _(I,A)}}},{key:"normalize",value:function(){this.p1.compareTo(this.p0)<0&&this.reverse()}},{key:"angle",value:function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)}},{key:"getCoordinate",value:function(u){return u===0?this.p0:this.p1}},{key:"distancePerpendicular",value:function(u){return Mn.pointToLinePerpendicular(u,this.p0,this.p1)}},{key:"minY",value:function(){return Math.min(this.p0.y,this.p1.y)}},{key:"midPoint",value:function(){return _.midPoint(this.p0,this.p1)}},{key:"projectionFactor",value:function(u){if(u.equals(this.p0))return 0;if(u.equals(this.p1))return 1;var c=this.p1.x-this.p0.x,h=this.p1.y-this.p0.y,m=c*c+h*h;return m<=0?j.NaN:((u.x-this.p0.x)*c+(u.y-this.p0.y)*h)/m}},{key:"closestPoints",value:function(u){var c=this.intersection(u);if(c!==null)return[c,c];var h=new Array(2).fill(null),m=j.MAX_VALUE,S=null,E=this.closestPoint(u.p0);m=E.distance(u.p0),h[0]=E,h[1]=u.p0;var I=this.closestPoint(u.p1);(S=I.distance(u.p1))<m&&(m=S,h[0]=I,h[1]=u.p1);var A=u.closestPoint(this.p0);(S=A.distance(this.p0))<m&&(m=S,h[0]=this.p0,h[1]=A);var O=u.closestPoint(this.p1);return(S=O.distance(this.p1))<m&&(m=S,h[0]=this.p1,h[1]=O),h}},{key:"closestPoint",value:function(u){var c=this.projectionFactor(u);return c>0&&c<1?this.project(u):this.p0.distance(u)<this.p1.distance(u)?this.p0:this.p1}},{key:"maxX",value:function(){return Math.max(this.p0.x,this.p1.x)}},{key:"getLength",value:function(){return this.p0.distance(this.p1)}},{key:"compareTo",value:function(u){var c=u,h=this.p0.compareTo(c.p0);return h!==0?h:this.p1.compareTo(c.p1)}},{key:"reverse",value:function(){var u=this.p0;this.p0=this.p1,this.p1=u}},{key:"equalsTopo",value:function(u){return this.p0.equals(u.p0)&&this.p1.equals(u.p1)||this.p0.equals(u.p1)&&this.p1.equals(u.p0)}},{key:"lineIntersection",value:function(u){return av.intersection(this.p0,this.p1,u.p0,u.p1)}},{key:"maxY",value:function(){return Math.max(this.p0.y,this.p1.y)}},{key:"pointAlongOffset",value:function(u,c){var h=this.p0.x+u*(this.p1.x-this.p0.x),m=this.p0.y+u*(this.p1.y-this.p0.y),S=this.p1.x-this.p0.x,E=this.p1.y-this.p0.y,I=Math.sqrt(S*S+E*E),A=0,O=0;if(c!==0){if(I<=0)throw new IllegalStateException("Cannot compute offset from zero-length line segment");A=c*S/I,O=c*E/I}return new K(h-O,m+A)}},{key:"setCoordinates",value:function(){if(arguments.length===1){var u=arguments[0];this.setCoordinates(u.p0,u.p1)}else if(arguments.length===2){var c=arguments[0],h=arguments[1];this.p0.x=c.x,this.p0.y=c.y,this.p1.x=h.x,this.p1.y=h.y}}},{key:"segmentFraction",value:function(u){var c=this.projectionFactor(u);return c<0?c=0:(c>1||j.isNaN(c))&&(c=1),c}},{key:"toString",value:function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"}},{key:"isHorizontal",value:function(){return this.p0.y===this.p1.y}},{key:"reflect",value:function(u){var c=this.p1.getY()-this.p0.getY(),h=this.p0.getX()-this.p1.getX(),m=this.p0.getY()*(this.p1.getX()-this.p0.getX())-this.p0.getX()*(this.p1.getY()-this.p0.getY()),S=c*c+h*h,E=c*c-h*h,I=u.getX(),A=u.getY();return new K((-E*I-2*c*h*A-2*c*m)/S,(E*A-2*c*h*I-2*h*m)/S)}},{key:"distance",value:function(){if(arguments[0]instanceof _){var u=arguments[0];return Mn.segmentToSegment(this.p0,this.p1,u.p0,u.p1)}if(arguments[0]instanceof K){var c=arguments[0];return Mn.pointToSegment(c,this.p0,this.p1)}}},{key:"pointAlong",value:function(u){var c=new K;return c.x=this.p0.x+u*(this.p1.x-this.p0.x),c.y=this.p0.y+u*(this.p1.y-this.p0.y),c}},{key:"hashCode",value:function(){var u=j.doubleToLongBits(this.p0.x);u^=31*j.doubleToLongBits(this.p0.y);var c=Math.trunc(u)^Math.trunc(u>>32),h=j.doubleToLongBits(this.p1.x);return h^=31*j.doubleToLongBits(this.p1.y),c^(Math.trunc(h)^Math.trunc(h>>32))}},{key:"interfaces_",get:function(){return[N,D]}}],[{key:"constructor_",value:function(){if(this.p0=null,this.p1=null,arguments.length===0)_.constructor_.call(this,new K,new K);else if(arguments.length===1){var u=arguments[0];_.constructor_.call(this,u.p0,u.p1)}else if(arguments.length===2){var c=arguments[0],h=arguments[1];this.p0=c,this.p1=h}else if(arguments.length===4){var m=arguments[0],S=arguments[1],E=arguments[2],I=arguments[3];_.constructor_.call(this,new K(m,S),new K(E,I))}}},{key:"midPoint",value:function(u,c){return new K((u.x+c.x)/2,(u.y+c.y)/2)}}]),_}(),CI=function(){function _(){r(this,_),_.constructor_.apply(this,arguments)}return i(_,[{key:"overlap",value:function(){if(arguments.length!==2){if(arguments.length===4){var u=arguments[0],c=arguments[1],h=arguments[2],m=arguments[3];u.getLineSegment(c,this._overlapSeg1),h.getLineSegment(m,this._overlapSeg2),this.overlap(this._overlapSeg1,this._overlapSeg2)}}}}],[{key:"constructor_",value:function(){this._overlapSeg1=new kr,this._overlapSeg2=new kr}}]),_}(),xy=function(){function _(){r(this,_),_.constructor_.apply(this,arguments)}return i(_,[{key:"getLineSegment",value:function(u,c){c.p0=this._pts[u],c.p1=this._pts[u+1]}},{key:"computeSelect",value:function(u,c,h,m){var S=this._pts[c],E=this._pts[h];if(h-c==1)return m.select(this,c),null;if(!u.intersects(S,E))return null;var I=Math.trunc((c+h)/2);c<I&&this.computeSelect(u,c,I,m),I<h&&this.computeSelect(u,I,h,m)}},{key:"getCoordinates",value:function(){for(var u=new Array(this._end-this._start+1).fill(null),c=0,h=this._start;h<=this._end;h++)u[c++]=this._pts[h];return u}},{key:"computeOverlaps",value:function(){if(arguments.length===2){var u=arguments[0],c=arguments[1];this.computeOverlaps(this._start,this._end,u,u._start,u._end,c)}else if(arguments.length===6){var h=arguments[0],m=arguments[1],S=arguments[2],E=arguments[3],I=arguments[4],A=arguments[5];if(m-h==1&&I-E==1)return A.overlap(this,h,S,E),null;if(!this.overlaps(h,m,S,E,I))return null;var O=Math.trunc((h+m)/2),$=Math.trunc((E+I)/2);h<O&&(E<$&&this.computeOverlaps(h,O,S,E,$,A),$<I&&this.computeOverlaps(h,O,S,$,I,A)),O<m&&(E<$&&this.computeOverlaps(O,m,S,E,$,A),$<I&&this.computeOverlaps(O,m,S,$,I,A))}}},{key:"setId",value:function(u){this._id=u}},{key:"select",value:function(u,c){this.computeSelect(u,this._start,this._end,c)}},{key:"getEnvelope",value:function(){if(this._env===null){var u=this._pts[this._start],c=this._pts[this._end];this._env=new _e(u,c)}return this._env}},{key:"overlaps",value:function(u,c,h,m,S){return _e.intersects(this._pts[u],this._pts[c],h._pts[m],h._pts[S])}},{key:"getEndIndex",value:function(){return this._end}},{key:"getStartIndex",value:function(){return this._start}},{key:"getContext",value:function(){return this._context}},{key:"getId",value:function(){return this._id}}],[{key:"constructor_",value:function(){this._pts=null,this._start=null,this._end=null,this._env=null,this._context=null,this._id=null;var u=arguments[0],c=arguments[1],h=arguments[2],m=arguments[3];this._pts=u,this._start=c,this._end=h,this._context=m}}]),_}(),TI=function(){function _(){r(this,_)}return i(_,null,[{key:"findChainEnd",value:function(u,c){for(var h=c;h<u.length-1&&u[h].equals2D(u[h+1]);)h++;if(h>=u.length-1)return u.length-1;for(var m=er.quadrant(u[h],u[h+1]),S=c+1;S<u.length&&!(!u[S-1].equals2D(u[S])&&er.quadrant(u[S-1],u[S])!==m);)S++;return S-1}},{key:"getChains",value:function(){if(arguments.length===1){var u=arguments[0];return _.getChains(u,null)}if(arguments.length===2){var c=arguments[0],h=arguments[1],m=new Pe,S=0;do{var E=_.findChainEnd(c,S),I=new xy(c,S,E,h);m.add(I),S=E}while(S<c.length-1);return m}}}]),_}(),mv=function(){function _(){r(this,_)}return i(_,[{key:"computeNodes",value:function(u){}},{key:"getNodedSubstrings",value:function(){}}]),_}(),Sy=function(){function _(){r(this,_),_.constructor_.apply(this,arguments)}return i(_,[{key:"setSegmentIntersector",value:function(u){this._segInt=u}},{key:"interfaces_",get:function(){return[mv]}}],[{key:"constructor_",value:function(){if(this._segInt=null,arguments.length!==0){if(arguments.length===1){var u=arguments[0];this.setSegmentIntersector(u)}}}}]),_}(),yv=function(_){a(c,_);var u=p(c);function c(){var h;return r(this,c),h=u.call(this),c.constructor_.apply(d(h),arguments),h}return i(c,[{key:"getMonotoneChains",value:function(){return this._monoChains}},{key:"getNodedSubstrings",value:function(){return Ta.getNodedSubstrings(this._nodedSegStrings)}},{key:"getIndex",value:function(){return this._index}},{key:"add",value:function(h){for(var m=TI.getChains(h.getCoordinates(),h).iterator();m.hasNext();){var S=m.next();S.setId(this._idCounter++),this._index.insert(S.getEnvelope(),S),this._monoChains.add(S)}}},{key:"computeNodes",value:function(h){this._nodedSegStrings=h;for(var m=h.iterator();m.hasNext();)this.add(m.next());this.intersectChains()}},{key:"intersectChains",value:function(){for(var h=new Cy(this._segInt),m=this._monoChains.iterator();m.hasNext();)for(var S=m.next(),E=this._index.query(S.getEnvelope()).iterator();E.hasNext();){var I=E.next();if(I.getId()>S.getId()&&(S.computeOverlaps(I,h),this._nOverlaps++),this._segInt.isDone())return null}}}],[{key:"constructor_",value:function(){if(this._monoChains=new Pe,this._index=new Pn,this._idCounter=0,this._nodedSegStrings=null,this._nOverlaps=0,arguments.length!==0){if(arguments.length===1){var h=arguments[0];Sy.constructor_.call(this,h)}}}}]),c}(Sy),Cy=function(_){a(c,_);var u=p(c);function c(){var h;return r(this,c),h=u.call(this),c.constructor_.apply(d(h),arguments),h}return i(c,[{key:"overlap",value:function(){if(arguments.length!==4)return y(o(c.prototype),"overlap",this).apply(this,arguments);var h=arguments[0],m=arguments[1],S=arguments[2],E=arguments[3],I=h.getContext(),A=S.getContext();this._si.processIntersections(I,m,A,E)}}],[{key:"constructor_",value:function(){this._si=null;var h=arguments[0];this._si=h}}]),c}(CI);yv.SegmentOverlapAction=Cy;var cn=function(){function _(){r(this,_),_.constructor_.apply(this,arguments)}return i(_,[{key:"isDeletable",value:function(u,c,h,m){var S=this._inputLine[u],E=this._inputLine[c],I=this._inputLine[h];return!!this.isConcave(S,E,I)&&!!this.isShallow(S,E,I,m)&&this.isShallowSampled(S,E,u,h,m)}},{key:"deleteShallowConcavities",value:function(){for(var u=1,c=this.findNextNonDeletedIndex(u),h=this.findNextNonDeletedIndex(c),m=!1;h<this._inputLine.length;){var S=!1;this.isDeletable(u,c,h,this._distanceTol)&&(this._isDeleted[c]=_.DELETE,S=!0,m=!0),u=S?h:c,c=this.findNextNonDeletedIndex(u),h=this.findNextNonDeletedIndex(c)}return m}},{key:"isShallowConcavity",value:function(u,c,h,m){return De.index(u,c,h)===this._angleOrientation&&Mn.pointToSegment(c,u,h)<m}},{key:"isShallowSampled",value:function(u,c,h,m,S){var E=Math.trunc((m-h)/_.NUM_PTS_TO_CHECK);E<=0&&(E=1);for(var I=h;I<m;I+=E)if(!this.isShallow(u,c,this._inputLine[I],S))return!1;return!0}},{key:"isConcave",value:function(u,c,h){var m=De.index(u,c,h)===this._angleOrientation;return m}},{key:"simplify",value:function(u){this._distanceTol=Math.abs(u),u<0&&(this._angleOrientation=De.CLOCKWISE),this._isDeleted=new Array(this._inputLine.length).fill(null);var c=!1;do c=this.deleteShallowConcavities();while(c);return this.collapseLine()}},{key:"findNextNonDeletedIndex",value:function(u){for(var c=u+1;c<this._inputLine.length&&this._isDeleted[c]===_.DELETE;)c++;return c}},{key:"isShallow",value:function(u,c,h,m){return Mn.pointToSegment(c,u,h)<m}},{key:"collapseLine",value:function(){for(var u=new Qs,c=0;c<this._inputLine.length;c++)this._isDeleted[c]!==_.DELETE&&u.add(this._inputLine[c]);return u.toCoordinateArray()}}],[{key:"constructor_",value:function(){this._inputLine=null,this._distanceTol=null,this._isDeleted=null,this._angleOrientation=De.COUNTERCLOCKWISE;var u=arguments[0];this._inputLine=u}},{key:"simplify",value:function(u,c){return new _(u).simplify(c)}}]),_}();cn.INIT=0,cn.DELETE=1,cn.KEEP=1,cn.NUM_PTS_TO_CHECK=10;var Ty=function(){function _(){r(this,_),_.constructor_.apply(this,arguments)}return i(_,[{key:"getCoordinates",value:function(){return this._ptList.toArray(_.COORDINATE_ARRAY_TYPE)}},{key:"setPrecisionModel",value:function(u){this._precisionModel=u}},{key:"addPt",value:function(u){var c=new K(u);if(this._precisionModel.makePrecise(c),this.isRedundant(c))return null;this._ptList.add(c)}},{key:"reverse",value:function(){}},{key:"addPts",value:function(u,c){if(c)for(var h=0;h<u.length;h++)this.addPt(u[h]);else for(var m=u.length-1;m>=0;m--)this.addPt(u[m])}},{key:"isRedundant",value:function(u){if(this._ptList.size()<1)return!1;var c=this._ptList.get(this._ptList.size()-1);return u.distance(c)<this._minimimVertexDistance}},{key:"toString",value:function(){return new ko().createLineString(this.getCoordinates()).toString()}},{key:"closeRing",value:function(){if(this._ptList.size()<1)return null;var u=new K(this._ptList.get(0)),c=this._ptList.get(this._ptList.size()-1);if(u.equals(c))return null;this._ptList.add(u)}},{key:"setMinimumVertexDistance",value:function(u){this._minimimVertexDistance=u}}],[{key:"constructor_",value:function(){this._ptList=null,this._precisionModel=null,this._minimimVertexDistance=0,this._ptList=new Pe}}]),_}();Ty.COORDINATE_ARRAY_TYPE=new Array(0).fill(null);var Ir=function(){function _(){r(this,_)}return i(_,null,[{key:"toDegrees",value:function(u){return 180*u/Math.PI}},{key:"normalize",value:function(u){for(;u>Math.PI;)u-=_.PI_TIMES_2;for(;u<=-Math.PI;)u+=_.PI_TIMES_2;return u}},{key:"angle",value:function(){if(arguments.length===1){var u=arguments[0];return Math.atan2(u.y,u.x)}if(arguments.length===2){var c=arguments[0],h=arguments[1],m=h.x-c.x,S=h.y-c.y;return Math.atan2(S,m)}}},{key:"isAcute",value:function(u,c,h){var m=u.x-c.x,S=u.y-c.y;return m*(h.x-c.x)+S*(h.y-c.y)>0}},{key:"isObtuse",value:function(u,c,h){var m=u.x-c.x,S=u.y-c.y;return m*(h.x-c.x)+S*(h.y-c.y)<0}},{key:"interiorAngle",value:function(u,c,h){var m=_.angle(c,u),S=_.angle(c,h);return Math.abs(S-m)}},{key:"normalizePositive",value:function(u){if(u<0){for(;u<0;)u+=_.PI_TIMES_2;u>=_.PI_TIMES_2&&(u=0)}else{for(;u>=_.PI_TIMES_2;)u-=_.PI_TIMES_2;u<0&&(u=0)}return u}},{key:"angleBetween",value:function(u,c,h){var m=_.angle(c,u),S=_.angle(c,h);return _.diff(m,S)}},{key:"diff",value:function(u,c){var h=null;return(h=u<c?c-u:u-c)>Math.PI&&(h=2*Math.PI-h),h}},{key:"toRadians",value:function(u){return u*Math.PI/180}},{key:"getTurn",value:function(u,c){var h=Math.sin(c-u);return h>0?_.COUNTERCLOCKWISE:h<0?_.CLOCKWISE:_.NONE}},{key:"angleBetweenOriented",value:function(u,c,h){var m=_.angle(c,u),S=_.angle(c,h)-m;return S<=-Math.PI?S+_.PI_TIMES_2:S>Math.PI?S-_.PI_TIMES_2:S}}]),_}();Ir.PI_TIMES_2=2*Math.PI,Ir.PI_OVER_2=Math.PI/2,Ir.PI_OVER_4=Math.PI/4,Ir.COUNTERCLOCKWISE=De.COUNTERCLOCKWISE,Ir.CLOCKWISE=De.CLOCKWISE,Ir.NONE=De.COLLINEAR;var ru=function(){function _(){r(this,_),_.constructor_.apply(this,arguments)}return i(_,[{key:"addNextSegment",value:function(u,c){if(this._s0=this._s1,this._s1=this._s2,this._s2=u,this._seg0.setCoordinates(this._s0,this._s1),this.computeOffsetSegment(this._seg0,this._side,this._distance,this._offset0),this._seg1.setCoordinates(this._s1,this._s2),this.computeOffsetSegment(this._seg1,this._side,this._distance,this._offset1),this._s1.equals(this._s2))return null;var h=De.index(this._s0,this._s1,this._s2),m=h===De.CLOCKWISE&&this._side===ue.LEFT||h===De.COUNTERCLOCKWISE&&this._side===ue.RIGHT;h===0?this.addCollinear(c):m?this.addOutsideTurn(h,c):this.addInsideTurn(h,c)}},{key:"addLineEndCap",value:function(u,c){var h=new kr(u,c),m=new kr;this.computeOffsetSegment(h,ue.LEFT,this._distance,m);var S=new kr;this.computeOffsetSegment(h,ue.RIGHT,this._distance,S);var E=c.x-u.x,I=c.y-u.y,A=Math.atan2(I,E);switch(this._bufParams.getEndCapStyle()){case T.CAP_ROUND:this._segList.addPt(m.p1),this.addDirectedFillet(c,A+Math.PI/2,A-Math.PI/2,De.CLOCKWISE,this._distance),this._segList.addPt(S.p1);break;case T.CAP_FLAT:this._segList.addPt(m.p1),this._segList.addPt(S.p1);break;case T.CAP_SQUARE:var O=new K;O.x=Math.abs(this._distance)*Math.cos(A),O.y=Math.abs(this._distance)*Math.sin(A);var $=new K(m.p1.x+O.x,m.p1.y+O.y),X=new K(S.p1.x+O.x,S.p1.y+O.y);this._segList.addPt($),this._segList.addPt(X)}}},{key:"getCoordinates",value:function(){return this._segList.getCoordinates()}},{key:"addMitreJoin",value:function(u,c,h,m){var S=av.intersection(c.p0,c.p1,h.p0,h.p1);if(S!==null&&(m<=0?1:S.distance(u)/Math.abs(m))<=this._bufParams.getMitreLimit())return this._segList.addPt(S),null;this.addLimitedMitreJoin(c,h,m,this._bufParams.getMitreLimit())}},{key:"addOutsideTurn",value:function(u,c){if(this._offset0.p1.distance(this._offset1.p0)<this._distance*_.OFFSET_SEGMENT_SEPARATION_FACTOR)return this._segList.addPt(this._offset0.p1),null;this._bufParams.getJoinStyle()===T.JOIN_MITRE?this.addMitreJoin(this._s1,this._offset0,this._offset1,this._distance):this._bufParams.getJoinStyle()===T.JOIN_BEVEL?this.addBevelJoin(this._offset0,this._offset1):(c&&this._segList.addPt(this._offset0.p1),this.addCornerFillet(this._s1,this._offset0.p1,this._offset1.p0,u,this._distance),this._segList.addPt(this._offset1.p0))}},{key:"createSquare",value:function(u){this._segList.addPt(new K(u.x+this._distance,u.y+this._distance)),this._segList.addPt(new K(u.x+this._distance,u.y-this._distance)),this._segList.addPt(new K(u.x-this._distance,u.y-this._distance)),this._segList.addPt(new K(u.x-this._distance,u.y+this._distance)),this._segList.closeRing()}},{key:"addSegments",value:function(u,c){this._segList.addPts(u,c)}},{key:"addFirstSegment",value:function(){this._segList.addPt(this._offset1.p0)}},{key:"addCornerFillet",value:function(u,c,h,m,S){var E=c.x-u.x,I=c.y-u.y,A=Math.atan2(I,E),O=h.x-u.x,$=h.y-u.y,X=Math.atan2($,O);m===De.CLOCKWISE?A<=X&&(A+=2*Math.PI):A>=X&&(A-=2*Math.PI),this._segList.addPt(c),this.addDirectedFillet(u,A,X,m,S),this._segList.addPt(h)}},{key:"addLastSegment",value:function(){this._segList.addPt(this._offset1.p1)}},{key:"initSideSegments",value:function(u,c,h){this._s1=u,this._s2=c,this._side=h,this._seg1.setCoordinates(u,c),this.computeOffsetSegment(this._seg1,h,this._distance,this._offset1)}},{key:"addLimitedMitreJoin",value:function(u,c,h,m){var S=this._seg0.p1,E=Ir.angle(S,this._seg0.p0),I=Ir.angleBetweenOriented(this._seg0.p0,S,this._seg1.p1)/2,A=Ir.normalize(E+I),O=Ir.normalize(A+Math.PI),$=m*h,X=h-$*Math.abs(Math.sin(I)),ee=S.x+$*Math.cos(O),le=S.y+$*Math.sin(O),se=new K(ee,le),Ce=new kr(S,se),Ie=Ce.pointAlongOffset(1,X),Re=Ce.pointAlongOffset(1,-X);this._side===ue.LEFT?(this._segList.addPt(Ie),this._segList.addPt(Re)):(this._segList.addPt(Re),this._segList.addPt(Ie))}},{key:"addDirectedFillet",value:function(u,c,h,m,S){var E=m===De.CLOCKWISE?-1:1,I=Math.abs(c-h),A=Math.trunc(I/this._filletAngleQuantum+.5);if(A<1)return null;for(var O=I/A,$=new K,X=0;X<A;X++){var ee=c+E*X*O;$.x=u.x+S*Math.cos(ee),$.y=u.y+S*Math.sin(ee),this._segList.addPt($)}}},{key:"computeOffsetSegment",value:function(u,c,h,m){var S=c===ue.LEFT?1:-1,E=u.p1.x-u.p0.x,I=u.p1.y-u.p0.y,A=Math.sqrt(E*E+I*I),O=S*h*E/A,$=S*h*I/A;m.p0.x=u.p0.x-$,m.p0.y=u.p0.y+O,m.p1.x=u.p1.x-$,m.p1.y=u.p1.y+O}},{key:"addInsideTurn",value:function(u,c){if(this._li.computeIntersection(this._offset0.p0,this._offset0.p1,this._offset1.p0,this._offset1.p1),this._li.hasIntersection())this._segList.addPt(this._li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this._offset0.p1.distance(this._offset1.p0)<this._distance*_.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this._segList.addPt(this._offset0.p1);else{if(this._segList.addPt(this._offset0.p1),this._closingSegLengthFactor>0){var h=new K((this._closingSegLengthFactor*this._offset0.p1.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset0.p1.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(h);var m=new K((this._closingSegLengthFactor*this._offset1.p0.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset1.p0.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(m)}else this._segList.addPt(this._s1);this._segList.addPt(this._offset1.p0)}}},{key:"createCircle",value:function(u){var c=new K(u.x+this._distance,u.y);this._segList.addPt(c),this.addDirectedFillet(u,0,2*Math.PI,-1,this._distance),this._segList.closeRing()}},{key:"addBevelJoin",value:function(u,c){this._segList.addPt(u.p1),this._segList.addPt(c.p0)}},{key:"init",value:function(u){this._distance=u,this._maxCurveSegmentError=u*(1-Math.cos(this._filletAngleQuantum/2)),this._segList=new Ty,this._segList.setPrecisionModel(this._precisionModel),this._segList.setMinimumVertexDistance(u*_.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)}},{key:"addCollinear",value:function(u){this._li.computeIntersection(this._s0,this._s1,this._s1,this._s2),this._li.getIntersectionNum()>=2&&(this._bufParams.getJoinStyle()===T.JOIN_BEVEL||this._bufParams.getJoinStyle()===T.JOIN_MITRE?(u&&this._segList.addPt(this._offset0.p1),this._segList.addPt(this._offset1.p0)):this.addCornerFillet(this._s1,this._offset0.p1,this._offset1.p0,De.CLOCKWISE,this._distance))}},{key:"closeRing",value:function(){this._segList.closeRing()}},{key:"hasNarrowConcaveAngle",value:function(){return this._hasNarrowConcaveAngle}}],[{key:"constructor_",value:function(){this._maxCurveSegmentError=0,this._filletAngleQuantum=null,this._closingSegLengthFactor=1,this._segList=null,this._distance=0,this._precisionModel=null,this._bufParams=null,this._li=null,this._s0=null,this._s1=null,this._s2=null,this._seg0=new kr,this._seg1=new kr,this._offset0=new kr,this._offset1=new kr,this._side=0,this._hasNarrowConcaveAngle=!1;var u=arguments[0],c=arguments[1],h=arguments[2];this._precisionModel=u,this._bufParams=c,this._li=new Ca,this._filletAngleQuantum=Math.PI/2/c.getQuadrantSegments(),c.getQuadrantSegments()>=8&&c.getJoinStyle()===T.JOIN_ROUND&&(this._closingSegLengthFactor=_.MAX_CLOSING_SEG_LEN_FACTOR),this.init(h)}}]),_}();ru.OFFSET_SEGMENT_SEPARATION_FACTOR=.001,ru.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR=.001,ru.CURVE_VERTEX_SNAP_DISTANCE_FACTOR=1e-6,ru.MAX_CLOSING_SEG_LEN_FACTOR=80;var EI=function(){function _(){r(this,_),_.constructor_.apply(this,arguments)}return i(_,[{key:"getOffsetCurve",value:function(u,c){if(this._distance=c,c===0)return null;var h=c<0,m=Math.abs(c),S=this.getSegGen(m);u.length<=1?this.computePointCurve(u[0],S):this.computeOffsetCurve(u,h,S);var E=S.getCoordinates();return h&&Ft.reverse(E),E}},{key:"computeSingleSidedBufferCurve",value:function(u,c,h){var m=this.simplifyTolerance(this._distance);if(c){h.addSegments(u,!0);var S=cn.simplify(u,-m),E=S.length-1;h.initSideSegments(S[E],S[E-1],ue.LEFT),h.addFirstSegment();for(var I=E-2;I>=0;I--)h.addNextSegment(S[I],!0)}else{h.addSegments(u,!1);var A=cn.simplify(u,m),O=A.length-1;h.initSideSegments(A[0],A[1],ue.LEFT),h.addFirstSegment();for(var $=2;$<=O;$++)h.addNextSegment(A[$],!0)}h.addLastSegment(),h.closeRing()}},{key:"computeRingBufferCurve",value:function(u,c,h){var m=this.simplifyTolerance(this._distance);c===ue.RIGHT&&(m=-m);var S=cn.simplify(u,m),E=S.length-1;h.initSideSegments(S[E-1],S[0],c);for(var I=1;I<=E;I++){var A=I!==1;h.addNextSegment(S[I],A)}h.closeRing()}},{key:"computeLineBufferCurve",value:function(u,c){var h=this.simplifyTolerance(this._distance),m=cn.simplify(u,h),S=m.length-1;c.initSideSegments(m[0],m[1],ue.LEFT);for(var E=2;E<=S;E++)c.addNextSegment(m[E],!0);c.addLastSegment(),c.addLineEndCap(m[S-1],m[S]);var I=cn.simplify(u,-h),A=I.length-1;c.initSideSegments(I[A],I[A-1],ue.LEFT);for(var O=A-2;O>=0;O--)c.addNextSegment(I[O],!0);c.addLastSegment(),c.addLineEndCap(I[1],I[0]),c.closeRing()}},{key:"computePointCurve",value:function(u,c){switch(this._bufParams.getEndCapStyle()){case T.CAP_ROUND:c.createCircle(u);break;case T.CAP_SQUARE:c.createSquare(u)}}},{key:"getLineCurve",value:function(u,c){if(this._distance=c,this.isLineOffsetEmpty(c))return null;var h=Math.abs(c),m=this.getSegGen(h);if(u.length<=1)this.computePointCurve(u[0],m);else if(this._bufParams.isSingleSided()){var S=c<0;this.computeSingleSidedBufferCurve(u,S,m)}else this.computeLineBufferCurve(u,m);return m.getCoordinates()}},{key:"getBufferParameters",value:function(){return this._bufParams}},{key:"simplifyTolerance",value:function(u){return u*this._bufParams.getSimplifyFactor()}},{key:"getRingCurve",value:function(u,c,h){if(this._distance=h,u.length<=2)return this.getLineCurve(u,h);if(h===0)return _.copyCoordinates(u);var m=this.getSegGen(h);return this.computeRingBufferCurve(u,c,m),m.getCoordinates()}},{key:"computeOffsetCurve",value:function(u,c,h){var m=this.simplifyTolerance(this._distance);if(c){var S=cn.simplify(u,-m),E=S.length-1;h.initSideSegments(S[E],S[E-1],ue.LEFT),h.addFirstSegment();for(var I=E-2;I>=0;I--)h.addNextSegment(S[I],!0)}else{var A=cn.simplify(u,m),O=A.length-1;h.initSideSegments(A[0],A[1],ue.LEFT),h.addFirstSegment();for(var $=2;$<=O;$++)h.addNextSegment(A[$],!0)}h.addLastSegment()}},{key:"isLineOffsetEmpty",value:function(u){return u===0||u<0&&!this._bufParams.isSingleSided()}},{key:"getSegGen",value:function(u){return new ru(this._precisionModel,this._bufParams,u)}}],[{key:"constructor_",value:function(){this._distance=0,this._precisionModel=null,this._bufParams=null;var u=arguments[0],c=arguments[1];this._precisionModel=u,this._bufParams=c}},{key:"copyCoordinates",value:function(u){for(var c=new Array(u.length).fill(null),h=0;h<c.length;h++)c[h]=new K(u[h]);return c}}]),_}(),Ey=function(){function _(){r(this,_),_.constructor_.apply(this,arguments)}return i(_,[{key:"findStabbedSegments",value:function(){if(arguments.length===1){for(var u=arguments[0],c=new Pe,h=this._subgraphs.iterator();h.hasNext();){var m=h.next(),S=m.getEnvelope();u.y<S.getMinY()||u.y>S.getMaxY()||this.findStabbedSegments(u,m.getDirectedEdges(),c)}return c}if(arguments.length===3){if(te(arguments[2],Fr)&&arguments[0]instanceof K&&arguments[1]instanceof gv)for(var E=arguments[0],I=arguments[1],A=arguments[2],O=I.getEdge().getCoordinates(),$=0;$<O.length-1;$++){this._seg.p0=O[$],this._seg.p1=O[$+1],this._seg.p0.y>this._seg.p1.y&&this._seg.reverse();var X=Math.max(this._seg.p0.x,this._seg.p1.x);if(!(X<E.x)&&!(this._seg.isHorizontal()||E.y<this._seg.p0.y||E.y>this._seg.p1.y||De.index(this._seg.p0,this._seg.p1,E)===De.RIGHT)){var ee=I.getDepth(ue.LEFT);this._seg.p0.equals(O[$])||(ee=I.getDepth(ue.RIGHT));var le=new ky(this._seg,ee);A.add(le)}}else if(te(arguments[2],Fr)&&arguments[0]instanceof K&&te(arguments[1],Fr))for(var se=arguments[0],Ce=arguments[1],Ie=arguments[2],Re=Ce.iterator();Re.hasNext();){var rt=Re.next();rt.isForward()&&this.findStabbedSegments(se,rt,Ie)}}}},{key:"getDepth",value:function(u){var c=this.findStabbedSegments(u);return c.size()===0?0:Mo.min(c)._leftDepth}}],[{key:"constructor_",value:function(){this._subgraphs=null,this._seg=new kr;var u=arguments[0];this._subgraphs=u}}]),_}(),ky=function(){function _(){r(this,_),_.constructor_.apply(this,arguments)}return i(_,[{key:"compareTo",value:function(u){var c=u;if(this._upwardSeg.minX()>=c._upwardSeg.maxX())return 1;if(this._upwardSeg.maxX()<=c._upwardSeg.minX())return-1;var h=this._upwardSeg.orientationIndex(c._upwardSeg);return h!==0||(h=-1*c._upwardSeg.orientationIndex(this._upwardSeg))!==0?h:this._upwardSeg.compareTo(c._upwardSeg)}},{key:"compareX",value:function(u,c){var h=u.p0.compareTo(c.p0);return h!==0?h:u.p1.compareTo(c.p1)}},{key:"toString",value:function(){return this._upwardSeg.toString()}},{key:"interfaces_",get:function(){return[N]}}],[{key:"constructor_",value:function(){this._upwardSeg=null,this._leftDepth=null;var u=arguments[0],c=arguments[1];this._upwardSeg=new kr(u),this._leftDepth=c}}]),_}();Ey.DepthSegment=ky;var Iy=function(_){a(c,_);var u=p(c);function c(){var h;return r(this,c),h=u.call(this),c.constructor_.apply(d(h),arguments),h}return i(c,null,[{key:"constructor_",value:function(){k.constructor_.call(this,"Projective point not representable on the Cartesian plane.")}}]),c}(k),_v=function(){function _(){r(this,_),_.constructor_.apply(this,arguments)}return i(_,[{key:"getY",value:function(){var u=this.y/this.w;if(j.isNaN(u)||j.isInfinite(u))throw new Iy;return u}},{key:"getX",value:function(){var u=this.x/this.w;if(j.isNaN(u)||j.isInfinite(u))throw new Iy;return u}},{key:"getCoordinate",value:function(){var u=new K;return u.x=this.getX(),u.y=this.getY(),u}}],[{key:"constructor_",value:function(){if(this.x=null,this.y=null,this.w=null,arguments.length===0)this.x=0,this.y=0,this.w=1;else if(arguments.length===1){var u=arguments[0];this.x=u.x,this.y=u.y,this.w=1}else if(arguments.length===2){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var c=arguments[0],h=arguments[1];this.x=c,this.y=h,this.w=1}else if(arguments[0]instanceof _&&arguments[1]instanceof _){var m=arguments[0],S=arguments[1];this.x=m.y*S.w-S.y*m.w,this.y=S.x*m.w-m.x*S.w,this.w=m.x*S.y-S.x*m.y}else if(arguments[0]instanceof K&&arguments[1]instanceof K){var E=arguments[0],I=arguments[1];this.x=E.y-I.y,this.y=I.x-E.x,this.w=E.x*I.y-I.x*E.y}}else if(arguments.length===3){var A=arguments[0],O=arguments[1],$=arguments[2];this.x=A,this.y=O,this.w=$}else if(arguments.length===4){var X=arguments[0],ee=arguments[1],le=arguments[2],se=arguments[3],Ce=X.y-ee.y,Ie=ee.x-X.x,Re=X.x*ee.y-ee.x*X.y,rt=le.y-se.y,_t=se.x-le.x,qt=le.x*se.y-se.x*le.y;this.x=Ie*qt-_t*Re,this.y=rt*Re-Ce*qt,this.w=Ce*_t-rt*Ie}}}]),_}(),kI=function(){function _(){r(this,_),_.constructor_.apply(this,arguments)}return i(_,[{key:"area",value:function(){return _.area(this.p0,this.p1,this.p2)}},{key:"signedArea",value:function(){return _.signedArea(this.p0,this.p1,this.p2)}},{key:"interpolateZ",value:function(u){if(u===null)throw new L("Supplied point is null.");return _.interpolateZ(u,this.p0,this.p1,this.p2)}},{key:"longestSideLength",value:function(){return _.longestSideLength(this.p0,this.p1,this.p2)}},{key:"isAcute",value:function(){return _.isAcute(this.p0,this.p1,this.p2)}},{key:"circumcentre",value:function(){return _.circumcentre(this.p0,this.p1,this.p2)}},{key:"area3D",value:function(){return _.area3D(this.p0,this.p1,this.p2)}},{key:"centroid",value:function(){return _.centroid(this.p0,this.p1,this.p2)}},{key:"inCentre",value:function(){return _.inCentre(this.p0,this.p1,this.p2)}}],[{key:"constructor_",value:function(){this.p0=null,this.p1=null,this.p2=null;var u=arguments[0],c=arguments[1],h=arguments[2];this.p0=u,this.p1=c,this.p2=h}},{key:"area",value:function(u,c,h){return Math.abs(((h.x-u.x)*(c.y-u.y)-(c.x-u.x)*(h.y-u.y))/2)}},{key:"signedArea",value:function(u,c,h){return((h.x-u.x)*(c.y-u.y)-(c.x-u.x)*(h.y-u.y))/2}},{key:"det",value:function(u,c,h,m){return u*m-c*h}},{key:"interpolateZ",value:function(u,c,h,m){var S=c.x,E=c.y,I=h.x-S,A=m.x-S,O=h.y-E,$=m.y-E,X=I*$-A*O,ee=u.x-S,le=u.y-E,se=($*ee-A*le)/X,Ce=(-O*ee+I*le)/X;return c.getZ()+se*(h.getZ()-c.getZ())+Ce*(m.getZ()-c.getZ())}},{key:"longestSideLength",value:function(u,c,h){var m=u.distance(c),S=c.distance(h),E=h.distance(u),I=m;return S>I&&(I=S),E>I&&(I=E),I}},{key:"circumcentreDD",value:function(u,c,h){var m=Te.valueOf(u.x).subtract(h.x),S=Te.valueOf(u.y).subtract(h.y),E=Te.valueOf(c.x).subtract(h.x),I=Te.valueOf(c.y).subtract(h.y),A=Te.determinant(m,S,E,I).multiply(2),O=m.sqr().add(S.sqr()),$=E.sqr().add(I.sqr()),X=Te.determinant(S,O,I,$),ee=Te.determinant(m,O,E,$),le=Te.valueOf(h.x).subtract(X.divide(A)).doubleValue(),se=Te.valueOf(h.y).add(ee.divide(A)).doubleValue();return new K(le,se)}},{key:"isAcute",value:function(u,c,h){return!!Ir.isAcute(u,c,h)&&!!Ir.isAcute(c,h,u)&&!!Ir.isAcute(h,u,c)}},{key:"circumcentre",value:function(u,c,h){var m=h.x,S=h.y,E=u.x-m,I=u.y-S,A=c.x-m,O=c.y-S,$=2*_.det(E,I,A,O),X=_.det(I,E*E+I*I,O,A*A+O*O),ee=_.det(E,E*E+I*I,A,A*A+O*O);return new K(m-X/$,S+ee/$)}},{key:"perpendicularBisector",value:function(u,c){var h=c.x-u.x,m=c.y-u.y,S=new _v(u.x+h/2,u.y+m/2,1),E=new _v(u.x-m+h/2,u.y+h+m/2,1);return new _v(S,E)}},{key:"angleBisector",value:function(u,c,h){var m=c.distance(u),S=m/(m+c.distance(h)),E=h.x-u.x,I=h.y-u.y;return new K(u.x+S*E,u.y+S*I)}},{key:"area3D",value:function(u,c,h){var m=c.x-u.x,S=c.y-u.y,E=c.getZ()-u.getZ(),I=h.x-u.x,A=h.y-u.y,O=h.getZ()-u.getZ(),$=S*O-E*A,X=E*I-m*O,ee=m*A-S*I,le=$*$+X*X+ee*ee,se=Math.sqrt(le)/2;return se}},{key:"centroid",value:function(u,c,h){var m=(u.x+c.x+h.x)/3,S=(u.y+c.y+h.y)/3;return new K(m,S)}},{key:"inCentre",value:function(u,c,h){var m=c.distance(h),S=u.distance(h),E=u.distance(c),I=m+S+E,A=(m*u.x+S*c.x+E*h.x)/I,O=(m*u.y+S*c.y+E*h.y)/I;return new K(A,O)}}]),_}(),II=function(){function _(){r(this,_),_.constructor_.apply(this,arguments)}return i(_,[{key:"addRingSide",value:function(u,c,h,m,S){if(c===0&&u.length<js.MINIMUM_VALID_SIZE)return null;var E=m,I=S;u.length>=js.MINIMUM_VALID_SIZE&&De.isCCW(u)&&(E=S,I=m,h=ue.opposite(h));var A=this._curveBuilder.getRingCurve(u,h,c);this.addCurve(A,E,I)}},{key:"addRingBothSides",value:function(u,c){this.addRingSide(u,c,ue.LEFT,B.EXTERIOR,B.INTERIOR),this.addRingSide(u,c,ue.RIGHT,B.INTERIOR,B.EXTERIOR)}},{key:"addPoint",value:function(u){if(this._distance<=0)return null;var c=u.getCoordinates(),h=this._curveBuilder.getLineCurve(c,this._distance);this.addCurve(h,B.EXTERIOR,B.INTERIOR)}},{key:"addPolygon",value:function(u){var c=this._distance,h=ue.LEFT;this._distance<0&&(c=-this._distance,h=ue.RIGHT);var m=u.getExteriorRing(),S=Ft.removeRepeatedPoints(m.getCoordinates());if(this._distance<0&&this.isErodedCompletely(m,this._distance)||this._distance<=0&&S.length<3)return null;this.addRingSide(S,c,h,B.EXTERIOR,B.INTERIOR);for(var E=0;E<u.getNumInteriorRing();E++){var I=u.getInteriorRingN(E),A=Ft.removeRepeatedPoints(I.getCoordinates());this._distance>0&&this.isErodedCompletely(I,-this._distance)||this.addRingSide(A,c,ue.opposite(h),B.INTERIOR,B.EXTERIOR)}}},{key:"isTriangleErodedCompletely",value:function(u,c){var h=new kI(u[0],u[1],u[2]),m=h.inCentre();return Mn.pointToSegment(m,h.p0,h.p1)<Math.abs(c)}},{key:"addLineString",value:function(u){if(this._curveBuilder.isLineOffsetEmpty(this._distance))return null;var c=Ft.removeRepeatedPoints(u.getCoordinates());if(Ft.isRing(c)&&!this._curveBuilder.getBufferParameters().isSingleSided())this.addRingBothSides(c,this._distance);else{var h=this._curveBuilder.getLineCurve(c,this._distance);this.addCurve(h,B.EXTERIOR,B.INTERIOR)}}},{key:"addCurve",value:function(u,c,h){if(u===null||u.length<2)return null;var m=new Ta(u,new Gr(0,B.BOUNDARY,c,h));this._curveList.add(m)}},{key:"getCurves",value:function(){return this.add(this._inputGeom),this._curveList}},{key:"add",value:function(u){if(u.isEmpty())return null;if(u instanceof Ul)this.addPolygon(u);else if(u instanceof Zs)this.addLineString(u);else if(u instanceof ov)this.addPoint(u);else if(u instanceof sv)this.addCollection(u);else if(u instanceof fv)this.addCollection(u);else if(u instanceof cv)this.addCollection(u);else{if(!(u instanceof Er))throw new Yt(u.getGeometryType());this.addCollection(u)}}},{key:"isErodedCompletely",value:function(u,c){var h=u.getCoordinates();if(h.length<4)return c<0;if(h.length===4)return this.isTriangleErodedCompletely(h,c);var m=u.getEnvelopeInternal(),S=Math.min(m.getHeight(),m.getWidth());return c<0&&2*Math.abs(c)>S}},{key:"addCollection",value:function(u){for(var c=0;c<u.getNumGeometries();c++){var h=u.getGeometryN(c);this.add(h)}}}],[{key:"constructor_",value:function(){this._inputGeom=null,this._distance=null,this._curveBuilder=null,this._curveList=new Pe;var u=arguments[0],c=arguments[1],h=arguments[2];this._inputGeom=u,this._distance=c,this._curveBuilder=h}}]),_}(),MI=function(){function _(){r(this,_)}return i(_,[{key:"locate",value:function(u){}}]),_}(),LI=function(){function _(){r(this,_),_.constructor_.apply(this,arguments)}return i(_,[{key:"next",value:function(){if(this._atStart)return this._atStart=!1,_.isAtomic(this._parent)&&this._index++,this._parent;if(this._subcollectionIterator!==null){if(this._subcollectionIterator.hasNext())return this._subcollectionIterator.next();this._subcollectionIterator=null}if(this._index>=this._max)throw new ft;var u=this._parent.getGeometryN(this._index++);return u instanceof Er?(this._subcollectionIterator=new _(u),this._subcollectionIterator.next()):u}},{key:"remove",value:function(){throw new Yt(this.getClass().getName())}},{key:"hasNext",value:function(){if(this._atStart)return!0;if(this._subcollectionIterator!==null){if(this._subcollectionIterator.hasNext())return!0;this._subcollectionIterator=null}return!(this._index>=this._max)}},{key:"interfaces_",get:function(){return[_I]}}],[{key:"constructor_",value:function(){this._parent=null,this._atStart=null,this._max=null,this._index=null,this._subcollectionIterator=null;var u=arguments[0];this._parent=u,this._atStart=!0,this._index=0,this._max=u.getNumGeometries()}},{key:"isAtomic",value:function(u){return!(u instanceof Er)}}]),_}(),PI=function(){function _(){r(this,_),_.constructor_.apply(this,arguments)}return i(_,[{key:"locate",value:function(u){return _.locate(u,this._geom)}},{key:"interfaces_",get:function(){return[MI]}}],[{key:"constructor_",value:function(){this._geom=null;var u=arguments[0];this._geom=u}},{key:"locatePointInPolygon",value:function(u,c){if(c.isEmpty())return B.EXTERIOR;var h=c.getExteriorRing(),m=_.locatePointInRing(u,h);if(m!==B.INTERIOR)return m;for(var S=0;S<c.getNumInteriorRing();S++){var E=c.getInteriorRingN(S),I=_.locatePointInRing(u,E);if(I===B.BOUNDARY)return B.BOUNDARY;if(I===B.INTERIOR)return B.EXTERIOR}return B.INTERIOR}},{key:"locatePointInRing",value:function(u,c){return c.getEnvelopeInternal().intersects(u)?dv.locateInRing(u,c.getCoordinates()):B.EXTERIOR}},{key:"containsPointInPolygon",value:function(u,c){return B.EXTERIOR!==_.locatePointInPolygon(u,c)}},{key:"locateInGeometry",value:function(u,c){if(c instanceof Ul)return _.locatePointInPolygon(u,c);if(c instanceof Er)for(var h=new LI(c);h.hasNext();){var m=h.next();if(m!==c){var S=_.locateInGeometry(u,m);if(S!==B.EXTERIOR)return S}}return B.EXTERIOR}},{key:"isContained",value:function(u,c){return B.EXTERIOR!==_.locate(u,c)}},{key:"locate",value:function(u,c){return c.isEmpty()?B.EXTERIOR:c.getEnvelopeInternal().intersects(u)?_.locateInGeometry(u,c):B.EXTERIOR}}]),_}(),NI=function(){function _(){r(this,_),_.constructor_.apply(this,arguments)}return i(_,[{key:"getNextCW",value:function(u){this.getEdges();var c=this._edgeList.indexOf(u),h=c-1;return c===0&&(h=this._edgeList.size()-1),this._edgeList.get(h)}},{key:"propagateSideLabels",value:function(u){for(var c=B.NONE,h=this.iterator();h.hasNext();){var m=h.next().getLabel();m.isArea(u)&&m.getLocation(u,ue.LEFT)!==B.NONE&&(c=m.getLocation(u,ue.LEFT))}if(c===B.NONE)return null;for(var S=c,E=this.iterator();E.hasNext();){var I=E.next(),A=I.getLabel();if(A.getLocation(u,ue.ON)===B.NONE&&A.setLocation(u,ue.ON,S),A.isArea(u)){var O=A.getLocation(u,ue.LEFT),$=A.getLocation(u,ue.RIGHT);if($!==B.NONE){if($!==S)throw new ai("side location conflict",I.getCoordinate());O===B.NONE&&oe.shouldNeverReachHere("found single null side (at "+I.getCoordinate()+")"),S=O}else oe.isTrue(A.getLocation(u,ue.LEFT)===B.NONE,"found single null side"),A.setLocation(u,ue.RIGHT,S),A.setLocation(u,ue.LEFT,S)}}}},{key:"getCoordinate",value:function(){var u=this.iterator();return u.hasNext()?u.next().getCoordinate():null}},{key:"print",value:function(u){Br.out.println("EdgeEndStar:   "+this.getCoordinate());for(var c=this.iterator();c.hasNext();)c.next().print(u)}},{key:"isAreaLabelsConsistent",value:function(u){return this.computeEdgeEndLabels(u.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)}},{key:"checkAreaLabelsConsistent",value:function(u){var c=this.getEdges();if(c.size()<=0)return!0;var h=c.size()-1,m=c.get(h).getLabel().getLocation(u,ue.LEFT);oe.isTrue(m!==B.NONE,"Found unlabelled area edge");for(var S=m,E=this.iterator();E.hasNext();){var I=E.next().getLabel();oe.isTrue(I.isArea(u),"Found non-area edge");var A=I.getLocation(u,ue.LEFT),O=I.getLocation(u,ue.RIGHT);if(A===O||O!==S)return!1;S=A}return!0}},{key:"findIndex",value:function(u){this.iterator();for(var c=0;c<this._edgeList.size();c++)if(this._edgeList.get(c)===u)return c;return-1}},{key:"iterator",value:function(){return this.getEdges().iterator()}},{key:"getEdges",value:function(){return this._edgeList===null&&(this._edgeList=new Pe(this._edgeMap.values())),this._edgeList}},{key:"getLocation",value:function(u,c,h){return this._ptInAreaLocation[u]===B.NONE&&(this._ptInAreaLocation[u]=PI.locate(c,h[u].getGeometry())),this._ptInAreaLocation[u]}},{key:"toString",value:function(){var u=new Xe;u.append("EdgeEndStar:   "+this.getCoordinate()),u.append(`
`);for(var c=this.iterator();c.hasNext();){var h=c.next();u.append(h),u.append(`
`)}return u.toString()}},{key:"computeEdgeEndLabels",value:function(u){for(var c=this.iterator();c.hasNext();)c.next().computeLabel(u)}},{key:"computeLabelling",value:function(u){this.computeEdgeEndLabels(u[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var c=[!1,!1],h=this.iterator();h.hasNext();)for(var m=h.next().getLabel(),S=0;S<2;S++)m.isLine(S)&&m.getLocation(S)===B.BOUNDARY&&(c[S]=!0);for(var E=this.iterator();E.hasNext();)for(var I=E.next(),A=I.getLabel(),O=0;O<2;O++)if(A.isAnyNull(O)){var $=B.NONE;if(c[O])$=B.EXTERIOR;else{var X=I.getCoordinate();$=this.getLocation(O,X,u)}A.setAllLocationsIfNull(O,$)}}},{key:"getDegree",value:function(){return this._edgeMap.size()}},{key:"insertEdgeEnd",value:function(u,c){this._edgeMap.put(u,c),this._edgeList=null}}],[{key:"constructor_",value:function(){this._edgeMap=new tu,this._edgeList=null,this._ptInAreaLocation=[B.NONE,B.NONE]}}]),_}(),AI=function(_){a(c,_);var u=p(c);function c(){var h;return r(this,c),h=u.call(this),c.constructor_.apply(d(h),arguments),h}return i(c,[{key:"linkResultDirectedEdges",value:function(){this.getResultAreaEdges();for(var h=null,m=null,S=this._SCANNING_FOR_INCOMING,E=0;E<this._resultAreaEdgeList.size();E++){var I=this._resultAreaEdgeList.get(E),A=I.getSym();if(I.getLabel().isArea())switch(h===null&&I.isInResult()&&(h=I),S){case this._SCANNING_FOR_INCOMING:if(!A.isInResult())continue;m=A,S=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(!I.isInResult())continue;m.setNext(I),S=this._SCANNING_FOR_INCOMING}}if(S===this._LINKING_TO_OUTGOING){if(h===null)throw new ai("no outgoing dirEdge found",this.getCoordinate());oe.isTrue(h.isInResult(),"unable to link last incoming dirEdge"),m.setNext(h)}}},{key:"insert",value:function(h){var m=h;this.insertEdgeEnd(m,m)}},{key:"getRightmostEdge",value:function(){var h=this.getEdges(),m=h.size();if(m<1)return null;var S=h.get(0);if(m===1)return S;var E=h.get(m-1),I=S.getQuadrant(),A=E.getQuadrant();return er.isNorthern(I)&&er.isNorthern(A)?S:er.isNorthern(I)||er.isNorthern(A)?S.getDy()!==0?S:E.getDy()!==0?E:(oe.shouldNeverReachHere("found two horizontal edges incident on node"),null):E}},{key:"print",value:function(h){Br.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var m=this.iterator();m.hasNext();){var S=m.next();h.print("out "),S.print(h),h.println(),h.print("in "),S.getSym().print(h),h.println()}}},{key:"getResultAreaEdges",value:function(){if(this._resultAreaEdgeList!==null)return this._resultAreaEdgeList;this._resultAreaEdgeList=new Pe;for(var h=this.iterator();h.hasNext();){var m=h.next();(m.isInResult()||m.getSym().isInResult())&&this._resultAreaEdgeList.add(m)}return this._resultAreaEdgeList}},{key:"updateLabelling",value:function(h){for(var m=this.iterator();m.hasNext();){var S=m.next().getLabel();S.setAllLocationsIfNull(0,h.getLocation(0)),S.setAllLocationsIfNull(1,h.getLocation(1))}}},{key:"linkAllDirectedEdges",value:function(){this.getEdges();for(var h=null,m=null,S=this._edgeList.size()-1;S>=0;S--){var E=this._edgeList.get(S),I=E.getSym();m===null&&(m=I),h!==null&&I.setNext(h),h=E}m.setNext(h)}},{key:"computeDepths",value:function(){if(arguments.length===1){var h=arguments[0],m=this.findIndex(h),S=h.getDepth(ue.LEFT),E=h.getDepth(ue.RIGHT),I=this.computeDepths(m+1,this._edgeList.size(),S),A=this.computeDepths(0,m,I);if(A!==E)throw new ai("depth mismatch at "+h.getCoordinate())}else if(arguments.length===3){for(var O=arguments[0],$=arguments[1],X=arguments[2],ee=X,le=O;le<$;le++){var se=this._edgeList.get(le);se.setEdgeDepths(ue.RIGHT,ee),ee=se.getDepth(ue.LEFT)}return ee}}},{key:"mergeSymLabels",value:function(){for(var h=this.iterator();h.hasNext();){var m=h.next();m.getLabel().merge(m.getSym().getLabel())}}},{key:"linkMinimalDirectedEdges",value:function(h){for(var m=null,S=null,E=this._SCANNING_FOR_INCOMING,I=this._resultAreaEdgeList.size()-1;I>=0;I--){var A=this._resultAreaEdgeList.get(I),O=A.getSym();switch(m===null&&A.getEdgeRing()===h&&(m=A),E){case this._SCANNING_FOR_INCOMING:if(O.getEdgeRing()!==h)continue;S=O,E=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(A.getEdgeRing()!==h)continue;S.setNextMin(A),E=this._SCANNING_FOR_INCOMING}}E===this._LINKING_TO_OUTGOING&&(oe.isTrue(m!==null,"found null for first outgoing dirEdge"),oe.isTrue(m.getEdgeRing()===h,"unable to link last incoming dirEdge"),S.setNextMin(m))}},{key:"getOutgoingDegree",value:function(){if(arguments.length===0){for(var h=0,m=this.iterator();m.hasNext();){var S=m.next();S.isInResult()&&h++}return h}if(arguments.length===1){for(var E=arguments[0],I=0,A=this.iterator();A.hasNext();){var O=A.next();O.getEdgeRing()===E&&I++}return I}}},{key:"getLabel",value:function(){return this._label}},{key:"findCoveredLineEdges",value:function(){for(var h=B.NONE,m=this.iterator();m.hasNext();){var S=m.next(),E=S.getSym();if(!S.isLineEdge()){if(S.isInResult()){h=B.INTERIOR;break}if(E.isInResult()){h=B.EXTERIOR;break}}}if(h===B.NONE)return null;for(var I=h,A=this.iterator();A.hasNext();){var O=A.next(),$=O.getSym();O.isLineEdge()?O.getEdge().setCovered(I===B.INTERIOR):(O.isInResult()&&(I=B.EXTERIOR),$.isInResult()&&(I=B.INTERIOR))}}},{key:"computeLabelling",value:function(h){y(o(c.prototype),"computeLabelling",this).call(this,h),this._label=new Gr(B.NONE);for(var m=this.iterator();m.hasNext();)for(var S=m.next().getEdge().getLabel(),E=0;E<2;E++){var I=S.getLocation(E);I!==B.INTERIOR&&I!==B.BOUNDARY||this._label.setLocation(E,B.INTERIOR)}}}],[{key:"constructor_",value:function(){this._resultAreaEdgeList=null,this._label=null,this._SCANNING_FOR_INCOMING=1,this._LINKING_TO_OUTGOING=2}}]),c}(NI),DI=function(_){a(c,_);var u=p(c);function c(){return r(this,c),u.call(this)}return i(c,[{key:"createNode",value:function(h){return new Kl(h,new AI)}}]),c}(my),My=function(){function _(){r(this,_),_.constructor_.apply(this,arguments)}return i(_,[{key:"compareTo",value:function(u){var c=u;return _.compareOriented(this._pts,this._orientation,c._pts,c._orientation)}},{key:"interfaces_",get:function(){return[N]}}],[{key:"constructor_",value:function(){this._pts=null,this._orientation=null;var u=arguments[0];this._pts=u,this._orientation=_.orientation(u)}},{key:"orientation",value:function(u){return Ft.increasingDirection(u)===1}},{key:"compareOriented",value:function(u,c,h,m){for(var S=c?1:-1,E=m?1:-1,I=c?u.length:-1,A=m?h.length:-1,O=c?0:u.length-1,$=m?0:h.length-1;;){var X=u[O].compareTo(h[$]);if(X!==0)return X;var ee=(O+=S)===I,le=($+=E)===A;if(ee&&!le)return-1;if(!ee&&le)return 1;if(ee&&le)return 0}}}]),_}(),RI=function(){function _(){r(this,_),_.constructor_.apply(this,arguments)}return i(_,[{key:"print",value:function(u){u.print("MULTILINESTRING ( ");for(var c=0;c<this._edges.size();c++){var h=this._edges.get(c);c>0&&u.print(","),u.print("(");for(var m=h.getCoordinates(),S=0;S<m.length;S++)S>0&&u.print(","),u.print(m[S].x+" "+m[S].y);u.println(")")}u.print(")  ")}},{key:"addAll",value:function(u){for(var c=u.iterator();c.hasNext();)this.add(c.next())}},{key:"findEdgeIndex",value:function(u){for(var c=0;c<this._edges.size();c++)if(this._edges.get(c).equals(u))return c;return-1}},{key:"iterator",value:function(){return this._edges.iterator()}},{key:"getEdges",value:function(){return this._edges}},{key:"get",value:function(u){return this._edges.get(u)}},{key:"findEqualEdge",value:function(u){var c=new My(u.getCoordinates());return this._ocaMap.get(c)}},{key:"add",value:function(u){this._edges.add(u);var c=new My(u.getCoordinates());this._ocaMap.put(c,u)}}],[{key:"constructor_",value:function(){this._edges=new Pe,this._ocaMap=new tu}}]),_}(),Ly=function(){function _(){r(this,_)}return i(_,[{key:"processIntersections",value:function(u,c,h,m){}},{key:"isDone",value:function(){}}]),_}(),OI=function(){function _(){r(this,_),_.constructor_.apply(this,arguments)}return i(_,[{key:"isTrivialIntersection",value:function(u,c,h,m){if(u===h&&this._li.getIntersectionNum()===1){if(_.isAdjacentSegments(c,m))return!0;if(u.isClosed()){var S=u.size()-1;if(c===0&&m===S||m===0&&c===S)return!0}}return!1}},{key:"getProperIntersectionPoint",value:function(){return this._properIntersectionPoint}},{key:"hasProperInteriorIntersection",value:function(){return this._hasProperInterior}},{key:"getLineIntersector",value:function(){return this._li}},{key:"hasProperIntersection",value:function(){return this._hasProper}},{key:"processIntersections",value:function(u,c,h,m){if(u===h&&c===m)return null;this.numTests++;var S=u.getCoordinates()[c],E=u.getCoordinates()[c+1],I=h.getCoordinates()[m],A=h.getCoordinates()[m+1];this._li.computeIntersection(S,E,I,A),this._li.hasIntersection()&&(this.numIntersections++,this._li.isInteriorIntersection()&&(this.numInteriorIntersections++,this._hasInterior=!0),this.isTrivialIntersection(u,c,h,m)||(this._hasIntersection=!0,u.addIntersections(this._li,c,0),h.addIntersections(this._li,m,1),this._li.isProper()&&(this.numProperIntersections++,this._hasProper=!0,this._hasProperInterior=!0)))}},{key:"hasIntersection",value:function(){return this._hasIntersection}},{key:"isDone",value:function(){return!1}},{key:"hasInteriorIntersection",value:function(){return this._hasInterior}},{key:"interfaces_",get:function(){return[Ly]}}],[{key:"constructor_",value:function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._hasInterior=!1,this._properIntersectionPoint=null,this._li=null,this._isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0;var u=arguments[0];this._li=u}},{key:"isAdjacentSegments",value:function(u,c){return Math.abs(u-c)===1}}]),_}(),FI=function(){function _(){r(this,_),_.constructor_.apply(this,arguments)}return i(_,[{key:"getSegmentIndex",value:function(){return this.segmentIndex}},{key:"getCoordinate",value:function(){return this.coord}},{key:"print",value:function(u){u.print(this.coord),u.print(" seg # = "+this.segmentIndex),u.println(" dist = "+this.dist)}},{key:"compareTo",value:function(u){var c=u;return this.compare(c.segmentIndex,c.dist)}},{key:"isEndPoint",value:function(u){return this.segmentIndex===0&&this.dist===0||this.segmentIndex===u}},{key:"toString",value:function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist}},{key:"getDistance",value:function(){return this.dist}},{key:"compare",value:function(u,c){return this.segmentIndex<u?-1:this.segmentIndex>u?1:this.dist<c?-1:this.dist>c?1:0}},{key:"interfaces_",get:function(){return[N]}}],[{key:"constructor_",value:function(){this.coord=null,this.segmentIndex=null,this.dist=null;var u=arguments[0],c=arguments[1],h=arguments[2];this.coord=new K(u),this.segmentIndex=c,this.dist=h}}]),_}(),BI=function(){function _(){r(this,_),_.constructor_.apply(this,arguments)}return i(_,[{key:"print",value:function(u){u.println("Intersections:");for(var c=this.iterator();c.hasNext();)c.next().print(u)}},{key:"iterator",value:function(){return this._nodeMap.values().iterator()}},{key:"addSplitEdges",value:function(u){this.addEndpoints();for(var c=this.iterator(),h=c.next();c.hasNext();){var m=c.next(),S=this.createSplitEdge(h,m);u.add(S),h=m}}},{key:"addEndpoints",value:function(){var u=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[u],u,0)}},{key:"createSplitEdge",value:function(u,c){var h=c.segmentIndex-u.segmentIndex+2,m=this.edge.pts[c.segmentIndex],S=c.dist>0||!c.coord.equals2D(m);S||h--;var E=new Array(h).fill(null),I=0;E[I++]=new K(u.coord);for(var A=u.segmentIndex+1;A<=c.segmentIndex;A++)E[I++]=this.edge.pts[A];return S&&(E[I]=c.coord),new Ny(E,new Gr(this.edge._label))}},{key:"add",value:function(u,c,h){var m=new FI(u,c,h),S=this._nodeMap.get(m);return S!==null?S:(this._nodeMap.put(m,m),m)}},{key:"isIntersection",value:function(u){for(var c=this.iterator();c.hasNext();)if(c.next().coord.equals(u))return!0;return!1}}],[{key:"constructor_",value:function(){this._nodeMap=new tu,this.edge=null;var u=arguments[0];this.edge=u}}]),_}(),zI=function(){function _(){r(this,_),_.constructor_.apply(this,arguments)}return i(_,[{key:"isIntersects",value:function(){return!this.isDisjoint()}},{key:"isCovers",value:function(){return(_.isTrue(this._matrix[B.INTERIOR][B.INTERIOR])||_.isTrue(this._matrix[B.INTERIOR][B.BOUNDARY])||_.isTrue(this._matrix[B.BOUNDARY][B.INTERIOR])||_.isTrue(this._matrix[B.BOUNDARY][B.BOUNDARY]))&&this._matrix[B.EXTERIOR][B.INTERIOR]===ve.FALSE&&this._matrix[B.EXTERIOR][B.BOUNDARY]===ve.FALSE}},{key:"isCoveredBy",value:function(){return(_.isTrue(this._matrix[B.INTERIOR][B.INTERIOR])||_.isTrue(this._matrix[B.INTERIOR][B.BOUNDARY])||_.isTrue(this._matrix[B.BOUNDARY][B.INTERIOR])||_.isTrue(this._matrix[B.BOUNDARY][B.BOUNDARY]))&&this._matrix[B.INTERIOR][B.EXTERIOR]===ve.FALSE&&this._matrix[B.BOUNDARY][B.EXTERIOR]===ve.FALSE}},{key:"set",value:function(){if(arguments.length===1)for(var u=arguments[0],c=0;c<u.length;c++){var h=Math.trunc(c/3),m=c%3;this._matrix[h][m]=ve.toDimensionValue(u.charAt(c))}else if(arguments.length===3){var S=arguments[0],E=arguments[1],I=arguments[2];this._matrix[S][E]=I}}},{key:"isContains",value:function(){return _.isTrue(this._matrix[B.INTERIOR][B.INTERIOR])&&this._matrix[B.EXTERIOR][B.INTERIOR]===ve.FALSE&&this._matrix[B.EXTERIOR][B.BOUNDARY]===ve.FALSE}},{key:"setAtLeast",value:function(){if(arguments.length===1)for(var u=arguments[0],c=0;c<u.length;c++){var h=Math.trunc(c/3),m=c%3;this.setAtLeast(h,m,ve.toDimensionValue(u.charAt(c)))}else if(arguments.length===3){var S=arguments[0],E=arguments[1],I=arguments[2];this._matrix[S][E]<I&&(this._matrix[S][E]=I)}}},{key:"setAtLeastIfValid",value:function(u,c,h){u>=0&&c>=0&&this.setAtLeast(u,c,h)}},{key:"isWithin",value:function(){return _.isTrue(this._matrix[B.INTERIOR][B.INTERIOR])&&this._matrix[B.INTERIOR][B.EXTERIOR]===ve.FALSE&&this._matrix[B.BOUNDARY][B.EXTERIOR]===ve.FALSE}},{key:"isTouches",value:function(u,c){return u>c?this.isTouches(c,u):(u===ve.A&&c===ve.A||u===ve.L&&c===ve.L||u===ve.L&&c===ve.A||u===ve.P&&c===ve.A||u===ve.P&&c===ve.L)&&this._matrix[B.INTERIOR][B.INTERIOR]===ve.FALSE&&(_.isTrue(this._matrix[B.INTERIOR][B.BOUNDARY])||_.isTrue(this._matrix[B.BOUNDARY][B.INTERIOR])||_.isTrue(this._matrix[B.BOUNDARY][B.BOUNDARY]))}},{key:"isOverlaps",value:function(u,c){return u===ve.P&&c===ve.P||u===ve.A&&c===ve.A?_.isTrue(this._matrix[B.INTERIOR][B.INTERIOR])&&_.isTrue(this._matrix[B.INTERIOR][B.EXTERIOR])&&_.isTrue(this._matrix[B.EXTERIOR][B.INTERIOR]):u===ve.L&&c===ve.L&&this._matrix[B.INTERIOR][B.INTERIOR]===1&&_.isTrue(this._matrix[B.INTERIOR][B.EXTERIOR])&&_.isTrue(this._matrix[B.EXTERIOR][B.INTERIOR])}},{key:"isEquals",value:function(u,c){return u===c&&_.isTrue(this._matrix[B.INTERIOR][B.INTERIOR])&&this._matrix[B.INTERIOR][B.EXTERIOR]===ve.FALSE&&this._matrix[B.BOUNDARY][B.EXTERIOR]===ve.FALSE&&this._matrix[B.EXTERIOR][B.INTERIOR]===ve.FALSE&&this._matrix[B.EXTERIOR][B.BOUNDARY]===ve.FALSE}},{key:"toString",value:function(){for(var u=new ql("123456789"),c=0;c<3;c++)for(var h=0;h<3;h++)u.setCharAt(3*c+h,ve.toDimensionSymbol(this._matrix[c][h]));return u.toString()}},{key:"setAll",value:function(u){for(var c=0;c<3;c++)for(var h=0;h<3;h++)this._matrix[c][h]=u}},{key:"get",value:function(u,c){return this._matrix[u][c]}},{key:"transpose",value:function(){var u=this._matrix[1][0];return this._matrix[1][0]=this._matrix[0][1],this._matrix[0][1]=u,u=this._matrix[2][0],this._matrix[2][0]=this._matrix[0][2],this._matrix[0][2]=u,u=this._matrix[2][1],this._matrix[2][1]=this._matrix[1][2],this._matrix[1][2]=u,this}},{key:"matches",value:function(u){if(u.length!==9)throw new L("Should be length 9: "+u);for(var c=0;c<3;c++)for(var h=0;h<3;h++)if(!_.matches(this._matrix[c][h],u.charAt(3*c+h)))return!1;return!0}},{key:"add",value:function(u){for(var c=0;c<3;c++)for(var h=0;h<3;h++)this.setAtLeast(c,h,u.get(c,h))}},{key:"isDisjoint",value:function(){return this._matrix[B.INTERIOR][B.INTERIOR]===ve.FALSE&&this._matrix[B.INTERIOR][B.BOUNDARY]===ve.FALSE&&this._matrix[B.BOUNDARY][B.INTERIOR]===ve.FALSE&&this._matrix[B.BOUNDARY][B.BOUNDARY]===ve.FALSE}},{key:"isCrosses",value:function(u,c){return u===ve.P&&c===ve.L||u===ve.P&&c===ve.A||u===ve.L&&c===ve.A?_.isTrue(this._matrix[B.INTERIOR][B.INTERIOR])&&_.isTrue(this._matrix[B.INTERIOR][B.EXTERIOR]):u===ve.L&&c===ve.P||u===ve.A&&c===ve.P||u===ve.A&&c===ve.L?_.isTrue(this._matrix[B.INTERIOR][B.INTERIOR])&&_.isTrue(this._matrix[B.EXTERIOR][B.INTERIOR]):u===ve.L&&c===ve.L&&this._matrix[B.INTERIOR][B.INTERIOR]===0}},{key:"interfaces_",get:function(){return[R]}}],[{key:"constructor_",value:function(){if(this._matrix=null,arguments.length===0)this._matrix=Array(3).fill().map(function(){return Array(3)}),this.setAll(ve.FALSE);else if(arguments.length===1){if(typeof arguments[0]=="string"){var u=arguments[0];_.constructor_.call(this),this.set(u)}else if(arguments[0]instanceof _){var c=arguments[0];_.constructor_.call(this),this._matrix[B.INTERIOR][B.INTERIOR]=c._matrix[B.INTERIOR][B.INTERIOR],this._matrix[B.INTERIOR][B.BOUNDARY]=c._matrix[B.INTERIOR][B.BOUNDARY],this._matrix[B.INTERIOR][B.EXTERIOR]=c._matrix[B.INTERIOR][B.EXTERIOR],this._matrix[B.BOUNDARY][B.INTERIOR]=c._matrix[B.BOUNDARY][B.INTERIOR],this._matrix[B.BOUNDARY][B.BOUNDARY]=c._matrix[B.BOUNDARY][B.BOUNDARY],this._matrix[B.BOUNDARY][B.EXTERIOR]=c._matrix[B.BOUNDARY][B.EXTERIOR],this._matrix[B.EXTERIOR][B.INTERIOR]=c._matrix[B.EXTERIOR][B.INTERIOR],this._matrix[B.EXTERIOR][B.BOUNDARY]=c._matrix[B.EXTERIOR][B.BOUNDARY],this._matrix[B.EXTERIOR][B.EXTERIOR]=c._matrix[B.EXTERIOR][B.EXTERIOR]}}}},{key:"matches",value:function(){if(Number.isInteger(arguments[0])&&typeof arguments[1]=="string"){var u=arguments[0],c=arguments[1];return c===ve.SYM_DONTCARE||c===ve.SYM_TRUE&&(u>=0||u===ve.TRUE)||c===ve.SYM_FALSE&&u===ve.FALSE||c===ve.SYM_P&&u===ve.P||c===ve.SYM_L&&u===ve.L||c===ve.SYM_A&&u===ve.A}if(typeof arguments[0]=="string"&&typeof arguments[1]=="string"){var h=arguments[0],m=arguments[1],S=new _(h);return S.matches(m)}}},{key:"isTrue",value:function(u){return u>=0||u===ve.TRUE}}]),_}(),GI=function(){function _(){r(this,_),_.constructor_.apply(this,arguments)}return i(_,[{key:"size",value:function(){return this._size}},{key:"addAll",value:function(u){return u===null||u.length===0?null:(this.ensureCapacity(this._size+u.length),Br.arraycopy(u,0,this._data,this._size,u.length),void(this._size+=u.length))}},{key:"ensureCapacity",value:function(u){if(u<=this._data.length)return null;var c=Math.max(u,2*this._data.length);this._data=ba.copyOf(this._data,c)}},{key:"toArray",value:function(){var u=new Array(this._size).fill(null);return Br.arraycopy(this._data,0,u,0,this._size),u}},{key:"add",value:function(u){this.ensureCapacity(this._size+1),this._data[this._size]=u,++this._size}}],[{key:"constructor_",value:function(){if(this._data=null,this._size=0,arguments.length===0)_.constructor_.call(this,10);else if(arguments.length===1){var u=arguments[0];this._data=new Array(u).fill(null)}}}]),_}(),VI=function(){function _(){r(this,_)}return i(_,[{key:"getChainStartIndices",value:function(u){var c=0,h=new GI(Math.trunc(u.length/2));h.add(c);do{var m=this.findChainEnd(u,c);h.add(m),c=m}while(c<u.length-1);return h.toArray()}},{key:"findChainEnd",value:function(u,c){for(var h=er.quadrant(u[c],u[c+1]),m=c+1;m<u.length&&er.quadrant(u[m-1],u[m])===h;)m++;return m-1}},{key:"OLDgetChainStartIndices",value:function(u){var c=0,h=new Pe;h.add(c);do{var m=this.findChainEnd(u,c);h.add(m),c=m}while(c<u.length-1);return _.toIntArray(h)}}],[{key:"toIntArray",value:function(u){for(var c=new Array(u.size()).fill(null),h=0;h<c.length;h++)c[h]=u.get(h).intValue();return c}}]),_}(),HI=function(){function _(){r(this,_),_.constructor_.apply(this,arguments)}return i(_,[{key:"getCoordinates",value:function(){return this.pts}},{key:"getMaxX",value:function(u){var c=this.pts[this.startIndex[u]].x,h=this.pts[this.startIndex[u+1]].x;return c>h?c:h}},{key:"getMinX",value:function(u){var c=this.pts[this.startIndex[u]].x,h=this.pts[this.startIndex[u+1]].x;return c<h?c:h}},{key:"computeIntersectsForChain",value:function(){if(arguments.length===4){var u=arguments[0],c=arguments[1],h=arguments[2],m=arguments[3];this.computeIntersectsForChain(this.startIndex[u],this.startIndex[u+1],c,c.startIndex[h],c.startIndex[h+1],m)}else if(arguments.length===6){var S=arguments[0],E=arguments[1],I=arguments[2],A=arguments[3],O=arguments[4],$=arguments[5];if(E-S==1&&O-A==1)return $.addIntersections(this.e,S,I.e,A),null;if(!this.overlaps(S,E,I,A,O))return null;var X=Math.trunc((S+E)/2),ee=Math.trunc((A+O)/2);S<X&&(A<ee&&this.computeIntersectsForChain(S,X,I,A,ee,$),ee<O&&this.computeIntersectsForChain(S,X,I,ee,O,$)),X<E&&(A<ee&&this.computeIntersectsForChain(X,E,I,A,ee,$),ee<O&&this.computeIntersectsForChain(X,E,I,ee,O,$))}}},{key:"overlaps",value:function(u,c,h,m,S){return _e.intersects(this.pts[u],this.pts[c],h.pts[m],h.pts[S])}},{key:"getStartIndexes",value:function(){return this.startIndex}},{key:"computeIntersects",value:function(u,c){for(var h=0;h<this.startIndex.length-1;h++)for(var m=0;m<u.startIndex.length-1;m++)this.computeIntersectsForChain(h,u,m,c)}}],[{key:"constructor_",value:function(){this.e=null,this.pts=null,this.startIndex=null;var u=arguments[0];this.e=u,this.pts=u.getCoordinates();var c=new VI;this.startIndex=c.getChainStartIndices(this.pts)}}]),_}(),Py=function(){function _(){r(this,_),_.constructor_.apply(this,arguments)}return i(_,[{key:"getDepth",value:function(u,c){return this._depth[u][c]}},{key:"setDepth",value:function(u,c,h){this._depth[u][c]=h}},{key:"isNull",value:function(){if(arguments.length===0){for(var u=0;u<2;u++)for(var c=0;c<3;c++)if(this._depth[u][c]!==_.NULL_VALUE)return!1;return!0}if(arguments.length===1){var h=arguments[0];return this._depth[h][1]===_.NULL_VALUE}if(arguments.length===2){var m=arguments[0],S=arguments[1];return this._depth[m][S]===_.NULL_VALUE}}},{key:"normalize",value:function(){for(var u=0;u<2;u++)if(!this.isNull(u)){var c=this._depth[u][1];this._depth[u][2]<c&&(c=this._depth[u][2]),c<0&&(c=0);for(var h=1;h<3;h++){var m=0;this._depth[u][h]>c&&(m=1),this._depth[u][h]=m}}}},{key:"getDelta",value:function(u){return this._depth[u][ue.RIGHT]-this._depth[u][ue.LEFT]}},{key:"getLocation",value:function(u,c){return this._depth[u][c]<=0?B.EXTERIOR:B.INTERIOR}},{key:"toString",value:function(){return"A: "+this._depth[0][1]+","+this._depth[0][2]+" B: "+this._depth[1][1]+","+this._depth[1][2]}},{key:"add",value:function(){if(arguments.length===1)for(var u=arguments[0],c=0;c<2;c++)for(var h=1;h<3;h++){var m=u.getLocation(c,h);m!==B.EXTERIOR&&m!==B.INTERIOR||(this.isNull(c,h)?this._depth[c][h]=_.depthAtLocation(m):this._depth[c][h]+=_.depthAtLocation(m))}else if(arguments.length===3){var S=arguments[0],E=arguments[1],I=arguments[2];I===B.INTERIOR&&this._depth[S][E]++}}}],[{key:"constructor_",value:function(){this._depth=Array(2).fill().map(function(){return Array(3)});for(var u=0;u<2;u++)for(var c=0;c<3;c++)this._depth[u][c]=_.NULL_VALUE}},{key:"depthAtLocation",value:function(u){return u===B.EXTERIOR?0:u===B.INTERIOR?1:_.NULL_VALUE}}]),_}();Py.NULL_VALUE=-1;var Ny=function(_){a(c,_);var u=p(c);function c(){var h;return r(this,c),h=u.call(this),c.constructor_.apply(d(h),arguments),h}return i(c,[{key:"getDepth",value:function(){return this._depth}},{key:"getCollapsedEdge",value:function(){var h=new Array(2).fill(null);return h[0]=this.pts[0],h[1]=this.pts[1],new c(h,Gr.toLineLabel(this._label))}},{key:"isIsolated",value:function(){return this._isIsolated}},{key:"getCoordinates",value:function(){return this.pts}},{key:"setIsolated",value:function(h){this._isIsolated=h}},{key:"setName",value:function(h){this._name=h}},{key:"equals",value:function(h){if(!(h instanceof c))return!1;var m=h;if(this.pts.length!==m.pts.length)return!1;for(var S=!0,E=!0,I=this.pts.length,A=0;A<this.pts.length;A++)if(this.pts[A].equals2D(m.pts[A])||(S=!1),this.pts[A].equals2D(m.pts[--I])||(E=!1),!S&&!E)return!1;return!0}},{key:"getCoordinate",value:function(){if(arguments.length===0)return this.pts.length>0?this.pts[0]:null;if(arguments.length===1){var h=arguments[0];return this.pts[h]}}},{key:"print",value:function(h){h.print("edge "+this._name+": "),h.print("LINESTRING (");for(var m=0;m<this.pts.length;m++)m>0&&h.print(","),h.print(this.pts[m].x+" "+this.pts[m].y);h.print(")  "+this._label+" "+this._depthDelta)}},{key:"computeIM",value:function(h){c.updateIM(this._label,h)}},{key:"isCollapsed",value:function(){return!!this._label.isArea()&&this.pts.length===3&&!!this.pts[0].equals(this.pts[2])}},{key:"isClosed",value:function(){return this.pts[0].equals(this.pts[this.pts.length-1])}},{key:"getMaximumSegmentIndex",value:function(){return this.pts.length-1}},{key:"getDepthDelta",value:function(){return this._depthDelta}},{key:"getNumPoints",value:function(){return this.pts.length}},{key:"printReverse",value:function(h){h.print("edge "+this._name+": ");for(var m=this.pts.length-1;m>=0;m--)h.print(this.pts[m]+" ");h.println("")}},{key:"getMonotoneChainEdge",value:function(){return this._mce===null&&(this._mce=new HI(this)),this._mce}},{key:"getEnvelope",value:function(){if(this._env===null){this._env=new _e;for(var h=0;h<this.pts.length;h++)this._env.expandToInclude(this.pts[h])}return this._env}},{key:"addIntersection",value:function(h,m,S,E){var I=new K(h.getIntersection(E)),A=m,O=h.getEdgeDistance(S,E),$=A+1;if($<this.pts.length){var X=this.pts[$];I.equals2D(X)&&(A=$,O=0)}this.eiList.add(I,A,O)}},{key:"toString",value:function(){var h=new ql;h.append("edge "+this._name+": "),h.append("LINESTRING (");for(var m=0;m<this.pts.length;m++)m>0&&h.append(","),h.append(this.pts[m].x+" "+this.pts[m].y);return h.append(")  "+this._label+" "+this._depthDelta),h.toString()}},{key:"isPointwiseEqual",value:function(h){if(this.pts.length!==h.pts.length)return!1;for(var m=0;m<this.pts.length;m++)if(!this.pts[m].equals2D(h.pts[m]))return!1;return!0}},{key:"setDepthDelta",value:function(h){this._depthDelta=h}},{key:"getEdgeIntersectionList",value:function(){return this.eiList}},{key:"addIntersections",value:function(h,m,S){for(var E=0;E<h.getIntersectionNum();E++)this.addIntersection(h,m,S,E)}}],[{key:"constructor_",value:function(){if(this.pts=null,this._env=null,this.eiList=new BI(this),this._name=null,this._mce=null,this._isIsolated=!0,this._depth=new Py,this._depthDelta=0,arguments.length===1){var h=arguments[0];c.constructor_.call(this,h,null)}else if(arguments.length===2){var m=arguments[0],S=arguments[1];this.pts=m,this._label=S}}},{key:"updateIM",value:function(){if(!(arguments.length===2&&arguments[1]instanceof zI&&arguments[0]instanceof Gr))return y(o(c),"updateIM",this).apply(this,arguments);var h=arguments[0],m=arguments[1];m.setAtLeastIfValid(h.getLocation(0,ue.ON),h.getLocation(1,ue.ON),1),h.isArea()&&(m.setAtLeastIfValid(h.getLocation(0,ue.LEFT),h.getLocation(1,ue.LEFT),2),m.setAtLeastIfValid(h.getLocation(0,ue.RIGHT),h.getLocation(1,ue.RIGHT),2))}}]),c}(hy),Ay=function(){function _(){r(this,_),_.constructor_.apply(this,arguments)}return i(_,[{key:"setWorkingPrecisionModel",value:function(u){this._workingPrecisionModel=u}},{key:"insertUniqueEdge",value:function(u){var c=this._edgeList.findEqualEdge(u);if(c!==null){var h=c.getLabel(),m=u.getLabel();c.isPointwiseEqual(u)||(m=new Gr(u.getLabel())).flip(),h.merge(m);var S=_.depthDelta(m),E=c.getDepthDelta()+S;c.setDepthDelta(E)}else this._edgeList.add(u),u.setDepthDelta(_.depthDelta(u.getLabel()))}},{key:"buildSubgraphs",value:function(u,c){for(var h=new Pe,m=u.iterator();m.hasNext();){var S=m.next(),E=S.getRightmostCoordinate(),I=new Ey(h).getDepth(E);S.computeDepth(I),S.findResultEdges(),h.add(S),c.add(S.getDirectedEdges(),S.getNodes())}}},{key:"createSubgraphs",value:function(u){for(var c=new Pe,h=u.getNodes().iterator();h.hasNext();){var m=h.next();if(!m.isVisited()){var S=new Wk;S.create(m),c.add(S)}}return Mo.sort(c,Mo.reverseOrder()),c}},{key:"createEmptyResultGeometry",value:function(){return this._geomFact.createPolygon()}},{key:"getNoder",value:function(u){if(this._workingNoder!==null)return this._workingNoder;var c=new yv,h=new Ca;return h.setPrecisionModel(u),c.setSegmentIntersector(new OI(h)),c}},{key:"buffer",value:function(u,c){var h=this._workingPrecisionModel;h===null&&(h=u.getPrecisionModel()),this._geomFact=u.getFactory();var m=new EI(h,this._bufParams),S=new II(u,c,m).getCurves();if(S.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(S,h),this._graph=new yy(new DI),this._graph.addEdges(this._edgeList.getEdges());var E=this.createSubgraphs(this._graph),I=new vI(this._geomFact);this.buildSubgraphs(E,I);var A=I.getPolygons();return A.size()<=0?this.createEmptyResultGeometry():this._geomFact.buildGeometry(A)}},{key:"computeNodedEdges",value:function(u,c){var h=this.getNoder(c);h.computeNodes(u);for(var m=h.getNodedSubstrings().iterator();m.hasNext();){var S=m.next(),E=S.getCoordinates();if(E.length!==2||!E[0].equals2D(E[1])){var I=S.getData(),A=new Ny(S.getCoordinates(),new Gr(I));this.insertUniqueEdge(A)}}}},{key:"setNoder",value:function(u){this._workingNoder=u}}],[{key:"constructor_",value:function(){this._bufParams=null,this._workingPrecisionModel=null,this._workingNoder=null,this._geomFact=null,this._graph=null,this._edgeList=new RI;var u=arguments[0];this._bufParams=u}},{key:"depthDelta",value:function(u){var c=u.getLocation(0,ue.LEFT),h=u.getLocation(0,ue.RIGHT);return c===B.INTERIOR&&h===B.EXTERIOR?1:c===B.EXTERIOR&&h===B.INTERIOR?-1:0}},{key:"convertSegStrings",value:function(u){for(var c=new ko,h=new Pe;u.hasNext();){var m=u.next(),S=c.createLineString(m.getCoordinates());h.add(S)}return c.buildGeometry(h)}}]),_}(),$I=function(){function _(){r(this,_),_.constructor_.apply(this,arguments)}return i(_,[{key:"rescale",value:function(){if(te(arguments[0],nt))for(var u=arguments[0],c=u.iterator();c.hasNext();){var h=c.next();this.rescale(h.getCoordinates())}else if(arguments[0]instanceof Array){for(var m=arguments[0],S=0;S<m.length;S++)m[S].x=m[S].x/this._scaleFactor+this._offsetX,m[S].y=m[S].y/this._scaleFactor+this._offsetY;m.length===2&&m[0].equals2D(m[1])&&Br.out.println(m)}}},{key:"scale",value:function(){if(te(arguments[0],nt)){for(var u=arguments[0],c=new Pe(u.size()),h=u.iterator();h.hasNext();){var m=h.next();c.add(new Ta(this.scale(m.getCoordinates()),m.getData()))}return c}if(arguments[0]instanceof Array){for(var S=arguments[0],E=new Array(S.length).fill(null),I=0;I<S.length;I++)E[I]=new K(Math.round((S[I].x-this._offsetX)*this._scaleFactor),Math.round((S[I].y-this._offsetY)*this._scaleFactor),S[I].getZ());var A=Ft.removeRepeatedPoints(E);return A}}},{key:"isIntegerPrecision",value:function(){return this._scaleFactor===1}},{key:"getNodedSubstrings",value:function(){var u=this._noder.getNodedSubstrings();return this._isScaled&&this.rescale(u),u}},{key:"computeNodes",value:function(u){var c=u;this._isScaled&&(c=this.scale(u)),this._noder.computeNodes(c)}},{key:"interfaces_",get:function(){return[mv]}}],[{key:"constructor_",value:function(){if(this._noder=null,this._scaleFactor=null,this._offsetX=null,this._offsetY=null,this._isScaled=!1,arguments.length===2){var u=arguments[0],c=arguments[1];_.constructor_.call(this,u,c,0,0)}else if(arguments.length===4){var h=arguments[0],m=arguments[1];this._noder=h,this._scaleFactor=m,this._isScaled=!this.isIntegerPrecision()}}}]),_}(),Dy=function(){function _(){r(this,_),_.constructor_.apply(this,arguments)}return i(_,[{key:"checkEndPtVertexIntersections",value:function(){if(arguments.length===0)for(var u=this._segStrings.iterator();u.hasNext();){var c=u.next(),h=c.getCoordinates();this.checkEndPtVertexIntersections(h[0],this._segStrings),this.checkEndPtVertexIntersections(h[h.length-1],this._segStrings)}else if(arguments.length===2){for(var m=arguments[0],S=arguments[1],E=S.iterator();E.hasNext();)for(var I=E.next(),A=I.getCoordinates(),O=1;O<A.length-1;O++)if(A[O].equals(m))throw new ae("found endpt/interior pt intersection at index "+O+" :pt "+m)}}},{key:"checkInteriorIntersections",value:function(){if(arguments.length===0)for(var u=this._segStrings.iterator();u.hasNext();)for(var c=u.next(),h=this._segStrings.iterator();h.hasNext();){var m=h.next();this.checkInteriorIntersections(c,m)}else if(arguments.length===2)for(var S=arguments[0],E=arguments[1],I=S.getCoordinates(),A=E.getCoordinates(),O=0;O<I.length-1;O++)for(var $=0;$<A.length-1;$++)this.checkInteriorIntersections(S,O,E,$);else if(arguments.length===4){var X=arguments[0],ee=arguments[1],le=arguments[2],se=arguments[3];if(X===le&&ee===se)return null;var Ce=X.getCoordinates()[ee],Ie=X.getCoordinates()[ee+1],Re=le.getCoordinates()[se],rt=le.getCoordinates()[se+1];if(this._li.computeIntersection(Ce,Ie,Re,rt),this._li.hasIntersection()&&(this._li.isProper()||this.hasInteriorIntersection(this._li,Ce,Ie)||this.hasInteriorIntersection(this._li,Re,rt)))throw new ae("found non-noded intersection at "+Ce+"-"+Ie+" and "+Re+"-"+rt)}}},{key:"checkValid",value:function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()}},{key:"checkCollapses",value:function(){if(arguments.length===0)for(var u=this._segStrings.iterator();u.hasNext();){var c=u.next();this.checkCollapses(c)}else if(arguments.length===1)for(var h=arguments[0],m=h.getCoordinates(),S=0;S<m.length-2;S++)this.checkCollapse(m[S],m[S+1],m[S+2])}},{key:"hasInteriorIntersection",value:function(u,c,h){for(var m=0;m<u.getIntersectionNum();m++){var S=u.getIntersection(m);if(!S.equals(c)&&!S.equals(h))return!0}return!1}},{key:"checkCollapse",value:function(u,c,h){if(u.equals(h))throw new ae("found non-noded collapse at "+_.fact.createLineString([u,c,h]))}}],[{key:"constructor_",value:function(){this._li=new Ca,this._segStrings=null;var u=arguments[0];this._segStrings=u}}]),_}();Dy.fact=new ko;var wv=function(){function _(){r(this,_),_.constructor_.apply(this,arguments)}return i(_,[{key:"intersectsScaled",value:function(u,c){var h=Math.min(u.x,c.x),m=Math.max(u.x,c.x),S=Math.min(u.y,c.y),E=Math.max(u.y,c.y),I=this._maxx<h||this._minx>m||this._maxy<S||this._miny>E;if(I)return!1;var A=this.intersectsToleranceSquare(u,c);return oe.isTrue(!(I&&A),"Found bad envelope test"),A}},{key:"initCorners",value:function(u){var c=.5;this._minx=u.x-c,this._maxx=u.x+c,this._miny=u.y-c,this._maxy=u.y+c,this._corner[0]=new K(this._maxx,this._maxy),this._corner[1]=new K(this._minx,this._maxy),this._corner[2]=new K(this._minx,this._miny),this._corner[3]=new K(this._maxx,this._miny)}},{key:"intersects",value:function(u,c){return this._scaleFactor===1?this.intersectsScaled(u,c):(this.copyScaled(u,this._p0Scaled),this.copyScaled(c,this._p1Scaled),this.intersectsScaled(this._p0Scaled,this._p1Scaled))}},{key:"scale",value:function(u){return Math.round(u*this._scaleFactor)}},{key:"getCoordinate",value:function(){return this._originalPt}},{key:"copyScaled",value:function(u,c){c.x=this.scale(u.x),c.y=this.scale(u.y)}},{key:"getSafeEnvelope",value:function(){if(this._safeEnv===null){var u=_.SAFE_ENV_EXPANSION_FACTOR/this._scaleFactor;this._safeEnv=new _e(this._originalPt.x-u,this._originalPt.x+u,this._originalPt.y-u,this._originalPt.y+u)}return this._safeEnv}},{key:"intersectsPixelClosure",value:function(u,c){return this._li.computeIntersection(u,c,this._corner[0],this._corner[1]),!!this._li.hasIntersection()||(this._li.computeIntersection(u,c,this._corner[1],this._corner[2]),!!this._li.hasIntersection()||(this._li.computeIntersection(u,c,this._corner[2],this._corner[3]),!!this._li.hasIntersection()||(this._li.computeIntersection(u,c,this._corner[3],this._corner[0]),!!this._li.hasIntersection())))}},{key:"intersectsToleranceSquare",value:function(u,c){var h=!1,m=!1;return this._li.computeIntersection(u,c,this._corner[0],this._corner[1]),!!this._li.isProper()||(this._li.computeIntersection(u,c,this._corner[1],this._corner[2]),!!this._li.isProper()||(this._li.hasIntersection()&&(h=!0),this._li.computeIntersection(u,c,this._corner[2],this._corner[3]),!!this._li.isProper()||(this._li.hasIntersection()&&(m=!0),this._li.computeIntersection(u,c,this._corner[3],this._corner[0]),!!this._li.isProper()||!(!h||!m)||!!u.equals(this._pt)||!!c.equals(this._pt))))}},{key:"addSnappedNode",value:function(u,c){var h=u.getCoordinate(c),m=u.getCoordinate(c+1);return!!this.intersects(h,m)&&(u.addIntersection(this.getCoordinate(),c),!0)}}],[{key:"constructor_",value:function(){this._li=null,this._pt=null,this._originalPt=null,this._ptScaled=null,this._p0Scaled=null,this._p1Scaled=null,this._scaleFactor=null,this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,this._corner=new Array(4).fill(null),this._safeEnv=null;var u=arguments[0],c=arguments[1],h=arguments[2];if(this._originalPt=u,this._pt=u,this._scaleFactor=c,this._li=h,c<=0)throw new L("Scale factor must be non-zero");c!==1&&(this._pt=new K(this.scale(u.x),this.scale(u.y)),this._p0Scaled=new K,this._p1Scaled=new K),this.initCorners(this._pt)}}]),_}();wv.SAFE_ENV_EXPANSION_FACTOR=.75;var UI=function(){function _(){r(this,_),_.constructor_.apply(this,arguments)}return i(_,[{key:"select",value:function(){if(arguments.length!==1){if(arguments.length===2){var u=arguments[0],c=arguments[1];u.getLineSegment(c,this.selectedSegment),this.select(this.selectedSegment)}}}}],[{key:"constructor_",value:function(){this.selectedSegment=new kr}}]),_}(),Ry=function(){function _(){r(this,_),_.constructor_.apply(this,arguments)}return i(_,[{key:"snap",value:function(){if(arguments.length===1){var u=arguments[0];return this.snap(u,null,-1)}if(arguments.length===3){var c=arguments[0],h=arguments[1],m=arguments[2],S=c.getSafeEnvelope(),E=new Oy(c,h,m);return this._index.query(S,new(function(){function I(){r(this,I)}return i(I,[{key:"interfaces_",get:function(){return[wy]}},{key:"visitItem",value:function(A){A.select(S,E)}}]),I}())),E.isNodeAdded()}}}],[{key:"constructor_",value:function(){this._index=null;var u=arguments[0];this._index=u}}]),_}(),Oy=function(_){a(c,_);var u=p(c);function c(){var h;return r(this,c),h=u.call(this),c.constructor_.apply(d(h),arguments),h}return i(c,[{key:"isNodeAdded",value:function(){return this._isNodeAdded}},{key:"select",value:function(){if(!(arguments.length===2&&Number.isInteger(arguments[1])&&arguments[0]instanceof xy))return y(o(c.prototype),"select",this).apply(this,arguments);var h=arguments[0],m=arguments[1],S=h.getContext();if(this._parentEdge===S&&(m===this._hotPixelVertexIndex||m+1===this._hotPixelVertexIndex))return null;this._isNodeAdded|=this._hotPixel.addSnappedNode(S,m)}}],[{key:"constructor_",value:function(){this._hotPixel=null,this._parentEdge=null,this._hotPixelVertexIndex=null,this._isNodeAdded=!1;var h=arguments[0],m=arguments[1],S=arguments[2];this._hotPixel=h,this._parentEdge=m,this._hotPixelVertexIndex=S}}]),c}(UI);Ry.HotPixelSnapAction=Oy;var YI=function(){function _(){r(this,_),_.constructor_.apply(this,arguments)}return i(_,[{key:"processIntersections",value:function(u,c,h,m){if(u===h&&c===m)return null;var S=u.getCoordinates()[c],E=u.getCoordinates()[c+1],I=h.getCoordinates()[m],A=h.getCoordinates()[m+1];if(this._li.computeIntersection(S,E,I,A),this._li.hasIntersection()&&this._li.isInteriorIntersection()){for(var O=0;O<this._li.getIntersectionNum();O++)this._interiorIntersections.add(this._li.getIntersection(O));u.addIntersections(this._li,c,0),h.addIntersections(this._li,m,1)}}},{key:"isDone",value:function(){return!1}},{key:"getInteriorIntersections",value:function(){return this._interiorIntersections}},{key:"interfaces_",get:function(){return[Ly]}}],[{key:"constructor_",value:function(){this._li=null,this._interiorIntersections=null;var u=arguments[0];this._li=u,this._interiorIntersections=new Pe}}]),_}(),qI=function(){function _(){r(this,_),_.constructor_.apply(this,arguments)}return i(_,[{key:"checkCorrectness",value:function(u){var c=Ta.getNodedSubstrings(u),h=new Dy(c);try{h.checkValid()}catch(m){if(!(m instanceof k))throw m;m.printStackTrace()}}},{key:"getNodedSubstrings",value:function(){return Ta.getNodedSubstrings(this._nodedSegStrings)}},{key:"snapRound",value:function(u,c){var h=this.findInteriorIntersections(u,c);this.computeIntersectionSnaps(h),this.computeVertexSnaps(u)}},{key:"findInteriorIntersections",value:function(u,c){var h=new YI(c);return this._noder.setSegmentIntersector(h),this._noder.computeNodes(u),h.getInteriorIntersections()}},{key:"computeVertexSnaps",value:function(){if(te(arguments[0],nt))for(var u=arguments[0],c=u.iterator();c.hasNext();){var h=c.next();this.computeVertexSnaps(h)}else if(arguments[0]instanceof Ta)for(var m=arguments[0],S=m.getCoordinates(),E=0;E<S.length;E++){var I=new wv(S[E],this._scaleFactor,this._li),A=this._pointSnapper.snap(I,m,E);A&&m.addIntersection(S[E],E)}}},{key:"computeNodes",value:function(u){this._nodedSegStrings=u,this._noder=new yv,this._pointSnapper=new Ry(this._noder.getIndex()),this.snapRound(u,this._li)}},{key:"computeIntersectionSnaps",value:function(u){for(var c=u.iterator();c.hasNext();){var h=c.next(),m=new wv(h,this._scaleFactor,this._li);this._pointSnapper.snap(m)}}},{key:"interfaces_",get:function(){return[mv]}}],[{key:"constructor_",value:function(){this._pm=null,this._li=null,this._scaleFactor=null,this._noder=null,this._pointSnapper=null,this._nodedSegStrings=null;var u=arguments[0];this._pm=u,this._li=new Ca,this._li.setPrecisionModel(u),this._scaleFactor=u.getScale()}}]),_}(),No=function(){function _(){r(this,_),_.constructor_.apply(this,arguments)}return i(_,[{key:"bufferFixedPrecision",value:function(u){var c=new $I(new qI(new ln(1)),u.getScale()),h=new Ay(this._bufParams);h.setWorkingPrecisionModel(u),h.setNoder(c),this._resultGeometry=h.buffer(this._argGeom,this._distance)}},{key:"bufferReducedPrecision",value:function(){if(arguments.length===0){for(var u=_.MAX_PRECISION_DIGITS;u>=0;u--){try{this.bufferReducedPrecision(u)}catch(S){if(!(S instanceof ai))throw S;this._saveException=S}if(this._resultGeometry!==null)return null}throw this._saveException}if(arguments.length===1){var c=arguments[0],h=_.precisionScaleFactor(this._argGeom,this._distance,c),m=new ln(h);this.bufferFixedPrecision(m)}}},{key:"computeGeometry",value:function(){if(this.bufferOriginalPrecision(),this._resultGeometry!==null)return null;var u=this._argGeom.getFactory().getPrecisionModel();u.getType()===ln.FIXED?this.bufferFixedPrecision(u):this.bufferReducedPrecision()}},{key:"setQuadrantSegments",value:function(u){this._bufParams.setQuadrantSegments(u)}},{key:"bufferOriginalPrecision",value:function(){try{var u=new Ay(this._bufParams);this._resultGeometry=u.buffer(this._argGeom,this._distance)}catch(c){if(!(c instanceof ae))throw c;this._saveException=c}}},{key:"getResultGeometry",value:function(u){return this._distance=u,this.computeGeometry(),this._resultGeometry}},{key:"setEndCapStyle",value:function(u){this._bufParams.setEndCapStyle(u)}}],[{key:"constructor_",value:function(){if(this._argGeom=null,this._distance=null,this._bufParams=new T,this._resultGeometry=null,this._saveException=null,arguments.length===1){var u=arguments[0];this._argGeom=u}else if(arguments.length===2){var c=arguments[0],h=arguments[1];this._argGeom=c,this._bufParams=h}}},{key:"bufferOp",value:function(){if(arguments.length===2){var u=arguments[0],c=arguments[1],h=new _(u),m=h.getResultGeometry(c);return m}if(arguments.length===3){if(Number.isInteger(arguments[2])&&arguments[0]instanceof ne&&typeof arguments[1]=="number"){var S=arguments[0],E=arguments[1],I=arguments[2],A=new _(S);A.setQuadrantSegments(I);var O=A.getResultGeometry(E);return O}if(arguments[2]instanceof T&&arguments[0]instanceof ne&&typeof arguments[1]=="number"){var $=arguments[0],X=arguments[1],ee=arguments[2],le=new _($,ee),se=le.getResultGeometry(X);return se}}else if(arguments.length===4){var Ce=arguments[0],Ie=arguments[1],Re=arguments[2],rt=arguments[3],_t=new _(Ce);_t.setQuadrantSegments(Re),_t.setEndCapStyle(rt);var qt=_t.getResultGeometry(Ie);return qt}}},{key:"precisionScaleFactor",value:function(u,c,h){var m=u.getEnvelopeInternal(),S=Ks.max(Math.abs(m.getMaxX()),Math.abs(m.getMaxY()),Math.abs(m.getMinX()),Math.abs(m.getMinY()))+2*(c>0?c:0),E=h-Math.trunc(Math.log(S)/Math.log(10)+1);return Math.pow(10,E)}}]),_}();No.CAP_ROUND=T.CAP_ROUND,No.CAP_BUTT=T.CAP_FLAT,No.CAP_FLAT=T.CAP_FLAT,No.CAP_SQUARE=T.CAP_SQUARE,No.MAX_PRECISION_DIGITS=12;var WI=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"],Fy=function(){function _(u){r(this,_),this.geometryFactory=u||new ko}return i(_,[{key:"read",value:function(u){var c,h=(c=typeof u=="string"?JSON.parse(u):u).type;if(!Hr[h])throw new Error("Unknown GeoJSON type: "+c.type);return WI.indexOf(h)!==-1?Hr[h].call(this,c.coordinates):h==="GeometryCollection"?Hr[h].call(this,c.geometries):Hr[h].call(this,c)}},{key:"write",value:function(u){var c=u.getGeometryType();if(!Nn[c])throw new Error("Geometry is not supported");return Nn[c].call(this,u)}}]),_}(),Hr={Feature:function(_){var u={};for(var c in _)u[c]=_[c];if(_.geometry){var h=_.geometry.type;if(!Hr[h])throw new Error("Unknown GeoJSON type: "+_.type);u.geometry=this.read(_.geometry)}return _.bbox&&(u.bbox=Hr.bbox.call(this,_.bbox)),u},FeatureCollection:function(_){var u={};if(_.features){u.features=[];for(var c=0;c<_.features.length;++c)u.features.push(this.read(_.features[c]))}return _.bbox&&(u.bbox=this.parse.bbox.call(this,_.bbox)),u},coordinates:function(_){for(var u=[],c=0;c<_.length;++c){var h=_[c];u.push(f(K,w(h)))}return u},bbox:function(_){return this.geometryFactory.createLinearRing([new K(_[0],_[1]),new K(_[2],_[1]),new K(_[2],_[3]),new K(_[0],_[3]),new K(_[0],_[1])])},Point:function(_){var u=f(K,w(_));return this.geometryFactory.createPoint(u)},MultiPoint:function(_){for(var u=[],c=0;c<_.length;++c)u.push(Hr.Point.call(this,_[c]));return this.geometryFactory.createMultiPoint(u)},LineString:function(_){var u=Hr.coordinates.call(this,_);return this.geometryFactory.createLineString(u)},MultiLineString:function(_){for(var u=[],c=0;c<_.length;++c)u.push(Hr.LineString.call(this,_[c]));return this.geometryFactory.createMultiLineString(u)},Polygon:function(_){for(var u=Hr.coordinates.call(this,_[0]),c=this.geometryFactory.createLinearRing(u),h=[],m=1;m<_.length;++m){var S=_[m],E=Hr.coordinates.call(this,S),I=this.geometryFactory.createLinearRing(E);h.push(I)}return this.geometryFactory.createPolygon(c,h)},MultiPolygon:function(_){for(var u=[],c=0;c<_.length;++c){var h=_[c];u.push(Hr.Polygon.call(this,h))}return this.geometryFactory.createMultiPolygon(u)},GeometryCollection:function(_){for(var u=[],c=0;c<_.length;++c){var h=_[c];u.push(this.read(h))}return this.geometryFactory.createGeometryCollection(u)}},Nn={coordinate:function(_){var u=[_.x,_.y];return _.z&&u.push(_.z),_.m&&u.push(_.m),u},Point:function(_){return{type:"Point",coordinates:Nn.coordinate.call(this,_.getCoordinate())}},MultiPoint:function(_){for(var u=[],c=0;c<_._geometries.length;++c){var h=_._geometries[c],m=Nn.Point.call(this,h);u.push(m.coordinates)}return{type:"MultiPoint",coordinates:u}},LineString:function(_){for(var u=[],c=_.getCoordinates(),h=0;h<c.length;++h){var m=c[h];u.push(Nn.coordinate.call(this,m))}return{type:"LineString",coordinates:u}},MultiLineString:function(_){for(var u=[],c=0;c<_._geometries.length;++c){var h=_._geometries[c],m=Nn.LineString.call(this,h);u.push(m.coordinates)}return{type:"MultiLineString",coordinates:u}},Polygon:function(_){var u=[],c=Nn.LineString.call(this,_._shell);u.push(c.coordinates);for(var h=0;h<_._holes.length;++h){var m=_._holes[h],S=Nn.LineString.call(this,m);u.push(S.coordinates)}return{type:"Polygon",coordinates:u}},MultiPolygon:function(_){for(var u=[],c=0;c<_._geometries.length;++c){var h=_._geometries[c],m=Nn.Polygon.call(this,h);u.push(m.coordinates)}return{type:"MultiPolygon",coordinates:u}},GeometryCollection:function(_){for(var u=[],c=0;c<_._geometries.length;++c){var h=_._geometries[c],m=h.getGeometryType();u.push(Nn[m].call(this,h))}return{type:"GeometryCollection",geometries:u}}};return{BufferOp:No,GeoJSONReader:function(){function _(u){r(this,_),this.parser=new Fy(u||new ko)}return i(_,[{key:"read",value:function(u){return this.parser.read(u)}}]),_}(),GeoJSONWriter:function(){function _(){r(this,_),this.parser=new Fy(this.geometryFactory)}return i(_,[{key:"write",value:function(u){return this.parser.write(u)}}]),_}()}})}(af)),af.exports}var T3=C3();const E3=$D(T3);function ma(){return new Bf}function Bf(){this.reset()}Bf.prototype={constructor:Bf,reset:function(){this.s=this.t=0},add:function(t){u_(lc,t,this.t),u_(this,lc.s,this.s),this.s?this.t+=lc.t:this.s=lc.t},valueOf:function(){return this.s}};var lc=new Bf;function u_(t,e,r){var n=t.s=e+r,i=n-e,a=n-i;t.t=e-a+(r-i)}var mt=1e-6,Ke=Math.PI,Vn=Ke/2,l_=Ke/4,Qn=Ke*2,Ri=180/Ke,Wr=Ke/180,zt=Math.abs,k3=Math.atan,Ts=Math.atan2,bt=Math.cos,xt=Math.sin,Bs=Math.sqrt;function XS(t){return t>1?0:t<-1?Ke:Math.acos(t)}function go(t){return t>1?Vn:t<-1?-Vn:Math.asin(t)}function Nu(){}function zf(t,e){t&&f_.hasOwnProperty(t.type)&&f_[t.type](t,e)}var c_={Feature:function(t,e){zf(t.geometry,e)},FeatureCollection:function(t,e){for(var r=t.features,n=-1,i=r.length;++n<i;)zf(r[n].geometry,e)}},f_={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var r=t.coordinates,n=-1,i=r.length;++n<i;)t=r[n],e.point(t[0],t[1],t[2])},LineString:function(t,e){hp(t.coordinates,e,0)},MultiLineString:function(t,e){for(var r=t.coordinates,n=-1,i=r.length;++n<i;)hp(r[n],e,0)},Polygon:function(t,e){h_(t.coordinates,e)},MultiPolygon:function(t,e){for(var r=t.coordinates,n=-1,i=r.length;++n<i;)h_(r[n],e)},GeometryCollection:function(t,e){for(var r=t.geometries,n=-1,i=r.length;++n<i;)zf(r[n],e)}};function hp(t,e,r){var n=-1,i=t.length-r,a;for(e.lineStart();++n<i;)a=t[n],e.point(a[0],a[1],a[2]);e.lineEnd()}function h_(t,e){var r=-1,n=t.length;for(e.polygonStart();++r<n;)hp(t[r],e,1);e.polygonEnd()}function I3(t,e){t&&c_.hasOwnProperty(t.type)?c_[t.type](t,e):zf(t,e)}ma();ma();function vp(t){return[Ts(t[1],t[0]),go(t[2])]}function Es(t){var e=t[0],r=t[1],n=bt(r);return[n*bt(e),n*xt(e),xt(r)]}function cc(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Gf(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Rv(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function fc(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function dp(t){var e=Bs(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}ma();function KS(t,e){function r(n,i){return n=t(n,i),e(n[0],n[1])}return t.invert&&e.invert&&(r.invert=function(n,i){return n=e.invert(n,i),n&&t.invert(n[0],n[1])}),r}function pp(t,e){return[t>Ke?t-Qn:t<-Ke?t+Qn:t,e]}pp.invert=pp;function M3(t,e,r){return(t%=Qn)?e||r?KS(d_(t),p_(e,r)):d_(t):e||r?p_(e,r):pp}function v_(t){return function(e,r){return e+=t,[e>Ke?e-Qn:e<-Ke?e+Qn:e,r]}}function d_(t){var e=v_(t);return e.invert=v_(-t),e}function p_(t,e){var r=bt(t),n=xt(t),i=bt(e),a=xt(e);function o(s,l){var f=bt(l),v=bt(s)*f,d=xt(s)*f,g=xt(l),p=g*r+v*n;return[Ts(d*i-p*a,v*r-g*n),go(p*i+d*a)]}return o.invert=function(s,l){var f=bt(l),v=bt(s)*f,d=xt(s)*f,g=xt(l),p=g*i-d*a;return[Ts(d*i+g*a,v*r+p*n),go(p*r-v*n)]},o}function L3(t,e,r,n,i,a){if(r){var o=bt(e),s=xt(e),l=n*r;i==null?(i=e+n*Qn,a=e-l/2):(i=g_(o,i),a=g_(o,a),(n>0?i<a:i>a)&&(i+=n*Qn));for(var f,v=i;n>0?v>a:v<a;v-=l)f=vp([o,-s*bt(v),-s*xt(v)]),t.point(f[0],f[1])}}function g_(t,e){e=Es(e),e[0]-=t,dp(e);var r=XS(-e[1]);return((-e[2]<0?-r:r)+Qn-mt)%Qn}function ZS(){var t=[],e;return{point:function(r,n){e.push([r,n])},lineStart:function(){t.push(e=[])},lineEnd:Nu,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var r=t;return t=[],e=null,r}}}function P3(t,e,r,n,i,a){var o=t[0],s=t[1],l=e[0],f=e[1],v=0,d=1,g=l-o,p=f-s,y;if(y=r-o,!(!g&&y>0)){if(y/=g,g<0){if(y<v)return;y<d&&(d=y)}else if(g>0){if(y>d)return;y>v&&(v=y)}if(y=i-o,!(!g&&y<0)){if(y/=g,g<0){if(y>d)return;y>v&&(v=y)}else if(g>0){if(y<v)return;y<d&&(d=y)}if(y=n-s,!(!p&&y>0)){if(y/=p,p<0){if(y<v)return;y<d&&(d=y)}else if(p>0){if(y>d)return;y>v&&(v=y)}if(y=a-s,!(!p&&y<0)){if(y/=p,p<0){if(y>d)return;y>v&&(v=y)}else if(p>0){if(y<v)return;y<d&&(d=y)}return v>0&&(t[0]=o+v*g,t[1]=s+v*p),d<1&&(e[0]=o+d*g,e[1]=s+d*p),!0}}}}}function of(t,e){return zt(t[0]-e[0])<mt&&zt(t[1]-e[1])<mt}function hc(t,e,r,n){this.x=t,this.z=e,this.o=r,this.e=n,this.v=!1,this.n=this.p=null}function jS(t,e,r,n,i){var a=[],o=[],s,l;if(t.forEach(function(y){if(!((w=y.length-1)<=0)){var w,b=y[0],x=y[w],C;if(of(b,x)){for(i.lineStart(),s=0;s<w;++s)i.point((b=y[s])[0],b[1]);i.lineEnd();return}a.push(C=new hc(b,y,null,!0)),o.push(C.o=new hc(b,null,C,!1)),a.push(C=new hc(x,y,null,!1)),o.push(C.o=new hc(x,null,C,!0))}}),!!a.length){for(o.sort(e),m_(a),m_(o),s=0,l=o.length;s<l;++s)o[s].e=r=!r;for(var f=a[0],v,d;;){for(var g=f,p=!0;g.v;)if((g=g.n)===f)return;v=g.z,i.lineStart();do{if(g.v=g.o.v=!0,g.e){if(p)for(s=0,l=v.length;s<l;++s)i.point((d=v[s])[0],d[1]);else n(g.x,g.n.x,1,i);g=g.n}else{if(p)for(v=g.p.z,s=v.length-1;s>=0;--s)i.point((d=v[s])[0],d[1]);else n(g.x,g.p.x,-1,i);g=g.p}g=g.o,v=g.z,p=!p}while(!g.v);i.lineEnd()}}}function m_(t){if(e=t.length){for(var e,r=0,n=t[0],i;++r<e;)n.n=i=t[r],i.p=n,n=i;n.n=i=t[0],i.p=n}}function QS(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function N3(t){return t.length===1&&(t=A3(t)),{left:function(e,r,n,i){for(n==null&&(n=0),i==null&&(i=e.length);n<i;){var a=n+i>>>1;t(e[a],r)<0?n=a+1:i=a}return n},right:function(e,r,n,i){for(n==null&&(n=0),i==null&&(i=e.length);n<i;){var a=n+i>>>1;t(e[a],r)>0?i=a:n=a+1}return n}}}function A3(t){return function(e,r){return QS(t(e),r)}}N3(QS);function JS(t){for(var e=t.length,r,n=-1,i=0,a,o;++n<e;)i+=t[n].length;for(a=new Array(i);--e>=0;)for(o=t[e],r=o.length;--r>=0;)a[--i]=o[r];return a}var vc=1e9,dc=-1e9;function D3(t,e,r,n){function i(f,v){return t<=f&&f<=r&&e<=v&&v<=n}function a(f,v,d,g){var p=0,y=0;if(f==null||(p=o(f,d))!==(y=o(v,d))||l(f,v)<0^d>0)do g.point(p===0||p===3?t:r,p>1?n:e);while((p=(p+d+4)%4)!==y);else g.point(v[0],v[1])}function o(f,v){return zt(f[0]-t)<mt?v>0?0:3:zt(f[0]-r)<mt?v>0?2:1:zt(f[1]-e)<mt?v>0?1:0:v>0?3:2}function s(f,v){return l(f.x,v.x)}function l(f,v){var d=o(f,1),g=o(v,1);return d!==g?d-g:d===0?v[1]-f[1]:d===1?f[0]-v[0]:d===2?f[1]-v[1]:v[0]-f[0]}return function(f){var v=f,d=ZS(),g,p,y,w,b,x,C,T,k,L,M,N={point:R,lineStart:G,lineEnd:q,polygonStart:F,polygonEnd:z};function R(V,U){i(V,U)&&v.point(V,U)}function D(){for(var V=0,U=0,W=p.length;U<W;++U)for(var Q=p[U],J=1,j=Q.length,pe=Q[0],ae,ce,oe=pe[0],be=pe[1];J<j;++J)ae=oe,ce=be,pe=Q[J],oe=pe[0],be=pe[1],ce<=n?be>n&&(oe-ae)*(n-ce)>(be-ce)*(t-ae)&&++V:be<=n&&(oe-ae)*(n-ce)<(be-ce)*(t-ae)&&--V;return V}function F(){v=d,g=[],p=[],M=!0}function z(){var V=D(),U=M&&V,W=(g=JS(g)).length;(U||W)&&(f.polygonStart(),U&&(f.lineStart(),a(null,null,1,f),f.lineEnd()),W&&jS(g,s,V,a,f),f.polygonEnd()),v=f,g=p=y=null}function G(){N.point=H,p&&p.push(y=[]),L=!0,k=!1,C=T=NaN}function q(){g&&(H(w,b),x&&k&&d.rejoin(),g.push(d.result())),N.point=R,k&&v.lineEnd()}function H(V,U){var W=i(V,U);if(p&&y.push([V,U]),L)w=V,b=U,x=W,L=!1,W&&(v.lineStart(),v.point(V,U));else if(W&&k)v.point(V,U);else{var Q=[C=Math.max(dc,Math.min(vc,C)),T=Math.max(dc,Math.min(vc,T))],J=[V=Math.max(dc,Math.min(vc,V)),U=Math.max(dc,Math.min(vc,U))];P3(Q,J,t,e,r,n)?(k||(v.lineStart(),v.point(Q[0],Q[1])),v.point(J[0],J[1]),W||v.lineEnd(),M=!1):W&&(v.lineStart(),v.point(V,U),M=!1)}C=V,T=U,k=W}return N}}var Ov=ma();function R3(t,e){var r=e[0],n=e[1],i=[xt(r),-bt(r),0],a=0,o=0;Ov.reset();for(var s=0,l=t.length;s<l;++s)if(v=(f=t[s]).length)for(var f,v,d=f[v-1],g=d[0],p=d[1]/2+l_,y=xt(p),w=bt(p),b=0;b<v;++b,g=C,y=k,w=L,d=x){var x=f[b],C=x[0],T=x[1]/2+l_,k=xt(T),L=bt(T),M=C-g,N=M>=0?1:-1,R=N*M,D=R>Ke,F=y*k;if(Ov.add(Ts(F*N*xt(R),w*L+F*bt(R))),a+=D?M+N*Qn:M,D^g>=r^C>=r){var z=Gf(Es(d),Es(x));dp(z);var G=Gf(i,z);dp(G);var q=(D^M>=0?-1:1)*go(G[2]);(n>q||n===q&&(z[0]||z[1]))&&(o+=D^M>=0?1:-1)}}return(a<-1e-6||a<mt&&Ov<-1e-6)^o&1}ma();function y_(t){return t}ma();ma();var ks=1/0,Vf=ks,cl=-ks,Hf=cl,__={point:O3,lineStart:Nu,lineEnd:Nu,polygonStart:Nu,polygonEnd:Nu,result:function(){var t=[[ks,Vf],[cl,Hf]];return cl=Hf=-(Vf=ks=1/0),t}};function O3(t,e){t<ks&&(ks=t),t>cl&&(cl=t),e<Vf&&(Vf=e),e>Hf&&(Hf=e)}ma();function eC(t,e,r,n){return function(i,a){var o=e(a),s=i.invert(n[0],n[1]),l=ZS(),f=e(l),v=!1,d,g,p,y={point:w,lineStart:x,lineEnd:C,polygonStart:function(){y.point=T,y.lineStart=k,y.lineEnd=L,g=[],d=[]},polygonEnd:function(){y.point=w,y.lineStart=x,y.lineEnd=C,g=JS(g);var M=R3(d,s);g.length?(v||(a.polygonStart(),v=!0),jS(g,B3,M,r,a)):M&&(v||(a.polygonStart(),v=!0),a.lineStart(),r(null,null,1,a),a.lineEnd()),v&&(a.polygonEnd(),v=!1),g=d=null},sphere:function(){a.polygonStart(),a.lineStart(),r(null,null,1,a),a.lineEnd(),a.polygonEnd()}};function w(M,N){var R=i(M,N);t(M=R[0],N=R[1])&&a.point(M,N)}function b(M,N){var R=i(M,N);o.point(R[0],R[1])}function x(){y.point=b,o.lineStart()}function C(){y.point=w,o.lineEnd()}function T(M,N){p.push([M,N]);var R=i(M,N);f.point(R[0],R[1])}function k(){f.lineStart(),p=[]}function L(){T(p[0][0],p[0][1]),f.lineEnd();var M=f.clean(),N=l.result(),R,D=N.length,F,z,G;if(p.pop(),d.push(p),p=null,!!D){if(M&1){if(z=N[0],(F=z.length-1)>0){for(v||(a.polygonStart(),v=!0),a.lineStart(),R=0;R<F;++R)a.point((G=z[R])[0],G[1]);a.lineEnd()}return}D>1&&M&2&&N.push(N.pop().concat(N.shift())),g.push(N.filter(F3))}}return y}}function F3(t){return t.length>1}function B3(t,e){return((t=t.x)[0]<0?t[1]-Vn-mt:Vn-t[1])-((e=e.x)[0]<0?e[1]-Vn-mt:Vn-e[1])}const w_=eC(function(){return!0},z3,V3,[-Ke,-Vn]);function z3(t){var e=NaN,r=NaN,n=NaN,i;return{lineStart:function(){t.lineStart(),i=1},point:function(a,o){var s=a>0?Ke:-Ke,l=zt(a-e);zt(l-Ke)<mt?(t.point(e,r=(r+o)/2>0?Vn:-Vn),t.point(n,r),t.lineEnd(),t.lineStart(),t.point(s,r),t.point(a,r),i=0):n!==s&&l>=Ke&&(zt(e-n)<mt&&(e-=n*mt),zt(a-s)<mt&&(a-=s*mt),r=G3(e,r,a,o),t.point(n,r),t.lineEnd(),t.lineStart(),t.point(s,r),i=0),t.point(e=a,r=o),n=s},lineEnd:function(){t.lineEnd(),e=r=NaN},clean:function(){return 2-i}}}function G3(t,e,r,n){var i,a,o=xt(t-r);return zt(o)>mt?k3((xt(e)*(a=bt(n))*xt(r)-xt(n)*(i=bt(e))*xt(t))/(i*a*o)):(e+n)/2}function V3(t,e,r,n){var i;if(t==null)i=r*Vn,n.point(-Ke,i),n.point(0,i),n.point(Ke,i),n.point(Ke,0),n.point(Ke,-i),n.point(0,-i),n.point(-Ke,-i),n.point(-Ke,0),n.point(-Ke,i);else if(zt(t[0]-e[0])>mt){var a=t[0]<e[0]?Ke:-Ke;i=r*a/2,n.point(-a,i),n.point(0,i),n.point(a,i)}else n.point(e[0],e[1])}function H3(t,e){var r=bt(t),n=r>0,i=zt(r)>mt;function a(v,d,g,p){L3(p,t,e,g,v,d)}function o(v,d){return bt(v)*bt(d)>r}function s(v){var d,g,p,y,w;return{lineStart:function(){y=p=!1,w=1},point:function(b,x){var C=[b,x],T,k=o(b,x),L=n?k?0:f(b,x):k?f(b+(b<0?Ke:-Ke),x):0;if(!d&&(y=p=k)&&v.lineStart(),k!==p&&(T=l(d,C),(!T||of(d,T)||of(C,T))&&(C[0]+=mt,C[1]+=mt,k=o(C[0],C[1]))),k!==p)w=0,k?(v.lineStart(),T=l(C,d),v.point(T[0],T[1])):(T=l(d,C),v.point(T[0],T[1]),v.lineEnd()),d=T;else if(i&&d&&n^k){var M;!(L&g)&&(M=l(C,d,!0))&&(w=0,n?(v.lineStart(),v.point(M[0][0],M[0][1]),v.point(M[1][0],M[1][1]),v.lineEnd()):(v.point(M[1][0],M[1][1]),v.lineEnd(),v.lineStart(),v.point(M[0][0],M[0][1])))}k&&(!d||!of(d,C))&&v.point(C[0],C[1]),d=C,p=k,g=L},lineEnd:function(){p&&v.lineEnd(),d=null},clean:function(){return w|(y&&p)<<1}}}function l(v,d,g){var p=Es(v),y=Es(d),w=[1,0,0],b=Gf(p,y),x=cc(b,b),C=b[0],T=x-C*C;if(!T)return!g&&v;var k=r*x/T,L=-r*C/T,M=Gf(w,b),N=fc(w,k),R=fc(b,L);Rv(N,R);var D=M,F=cc(N,D),z=cc(D,D),G=F*F-z*(cc(N,N)-1);if(!(G<0)){var q=Bs(G),H=fc(D,(-F-q)/z);if(Rv(H,N),H=vp(H),!g)return H;var V=v[0],U=d[0],W=v[1],Q=d[1],J;U<V&&(J=V,V=U,U=J);var j=U-V,pe=zt(j-Ke)<mt,ae=pe||j<mt;if(!pe&&Q<W&&(J=W,W=Q,Q=J),ae?pe?W+Q>0^H[1]<(zt(H[0]-V)<mt?W:Q):W<=H[1]&&H[1]<=Q:j>Ke^(V<=H[0]&&H[0]<=U)){var ce=fc(D,(-F+q)/z);return Rv(ce,N),[H,vp(ce)]}}}function f(v,d){var g=n?t:Ke-t,p=0;return v<-g?p|=1:v>g&&(p|=2),d<-g?p|=4:d>g&&(p|=8),p}return eC(o,s,a,n?[0,-t]:[-Ke,t-Ke])}function tC(t){return function(e){var r=new gp;for(var n in t)r[n]=t[n];return r.stream=e,r}}function gp(){}gp.prototype={constructor:gp,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function rC(t,e,r){var n=e[1][0]-e[0][0],i=e[1][1]-e[0][1],a=t.clipExtent&&t.clipExtent();t.scale(150).translate([0,0]),a!=null&&t.clipExtent(null),I3(r,t.stream(__));var o=__.result(),s=Math.min(n/(o[1][0]-o[0][0]),i/(o[1][1]-o[0][1])),l=+e[0][0]+(n-s*(o[1][0]+o[0][0]))/2,f=+e[0][1]+(i-s*(o[1][1]+o[0][1]))/2;return a!=null&&t.clipExtent(a),t.scale(s*150).translate([l,f])}function $3(t,e,r){return rC(t,[[0,0],e],r)}var b_=16,U3=bt(30*Wr);function x_(t,e){return+e?q3(t,e):Y3(t)}function Y3(t){return tC({point:function(e,r){e=t(e,r),this.stream.point(e[0],e[1])}})}function q3(t,e){function r(n,i,a,o,s,l,f,v,d,g,p,y,w,b){var x=f-n,C=v-i,T=x*x+C*C;if(T>4*e&&w--){var k=o+g,L=s+p,M=l+y,N=Bs(k*k+L*L+M*M),R=go(M/=N),D=zt(zt(M)-1)<mt||zt(a-d)<mt?(a+d)/2:Ts(L,k),F=t(D,R),z=F[0],G=F[1],q=z-n,H=G-i,V=C*q-x*H;(V*V/T>e||zt((x*q+C*H)/T-.5)>.3||o*g+s*p+l*y<U3)&&(r(n,i,a,o,s,l,z,G,D,k/=N,L/=N,M,w,b),b.point(z,G),r(z,G,D,k,L,M,f,v,d,g,p,y,w,b))}}return function(n){var i,a,o,s,l,f,v,d,g,p,y,w,b={point:x,lineStart:C,lineEnd:k,polygonStart:function(){n.polygonStart(),b.lineStart=L},polygonEnd:function(){n.polygonEnd(),b.lineStart=C}};function x(R,D){R=t(R,D),n.point(R[0],R[1])}function C(){d=NaN,b.point=T,n.lineStart()}function T(R,D){var F=Es([R,D]),z=t(R,D);r(d,g,v,p,y,w,d=z[0],g=z[1],v=R,p=F[0],y=F[1],w=F[2],b_,n),n.point(d,g)}function k(){b.point=x,n.lineEnd()}function L(){C(),b.point=M,b.lineEnd=N}function M(R,D){T(i=R,D),a=d,o=g,s=p,l=y,f=w,b.point=T}function N(){r(d,g,v,p,y,w,a,o,i,s,l,f,b_,n),b.lineEnd=k,k()}return b}}var W3=tC({point:function(t,e){this.stream.point(t*Wr,e*Wr)}});function X3(t){return K3(function(){return t})()}function K3(t){var e,r=150,n=480,i=250,a,o,s=0,l=0,f=0,v=0,d=0,g,p,y=null,w=w_,b=null,x,C,T,k=y_,L=.5,M=x_(z,L),N,R;function D(H){return H=p(H[0]*Wr,H[1]*Wr),[H[0]*r+a,o-H[1]*r]}function F(H){return H=p.invert((H[0]-a)/r,(o-H[1])/r),H&&[H[0]*Ri,H[1]*Ri]}function z(H,V){return H=e(H,V),[H[0]*r+a,o-H[1]*r]}D.stream=function(H){return N&&R===H?N:N=W3(w(g,M(k(R=H))))},D.clipAngle=function(H){return arguments.length?(w=+H?H3(y=H*Wr,6*Wr):(y=null,w_),q()):y*Ri},D.clipExtent=function(H){return arguments.length?(k=H==null?(b=x=C=T=null,y_):D3(b=+H[0][0],x=+H[0][1],C=+H[1][0],T=+H[1][1]),q()):b==null?null:[[b,x],[C,T]]},D.scale=function(H){return arguments.length?(r=+H,G()):r},D.translate=function(H){return arguments.length?(n=+H[0],i=+H[1],G()):[n,i]},D.center=function(H){return arguments.length?(s=H[0]%360*Wr,l=H[1]%360*Wr,G()):[s*Ri,l*Ri]},D.rotate=function(H){return arguments.length?(f=H[0]%360*Wr,v=H[1]%360*Wr,d=H.length>2?H[2]%360*Wr:0,G()):[f*Ri,v*Ri,d*Ri]},D.precision=function(H){return arguments.length?(M=x_(z,L=H*H),q()):Bs(L)},D.fitExtent=function(H,V){return rC(D,H,V)},D.fitSize=function(H,V){return $3(D,H,V)};function G(){p=KS(g=M3(f,v,d),e);var H=e(s,l);return a=n-H[0]*r,o=i+H[1]*r,q()}function q(){return N=R=null,D}return function(){return e=t.apply(this,arguments),D.invert=e.invert&&F,G()}}function nC(t){return function(e,r){var n=bt(e),i=bt(r),a=t(n*i);return[a*i*xt(e),a*xt(r)]}}function iC(t){return function(e,r){var n=Bs(e*e+r*r),i=t(n),a=xt(i),o=bt(i);return[Ts(e*a,n*o),go(n&&r*a/n)]}}var Z3=nC(function(t){return Bs(2/(1+t))});Z3.invert=iC(function(t){return 2*go(t/2)});var aC=nC(function(t){return(t=XS(t))&&t/xt(t)});aC.invert=iC(function(t){return t});function j3(){return X3(aC).scale(79.4188).clipAngle(180-.001)}function S_(t,e){return[t,e]}S_.invert=S_;var{BufferOp:Q3,GeoJSONReader:J3,GeoJSONWriter:eF}=E3;function Fv(t,e,r){r=r||{};var n=r.units||"kilometers",i=r.steps||8;if(!t)throw new Error("geojson is required");if(typeof r!="object")throw new Error("options must be an object");if(typeof i!="number")throw new Error("steps must be an number");if(e===void 0)throw new Error("radius is required");if(i<=0)throw new Error("steps must be greater than 0");var a=[];switch(t.type){case"GeometryCollection":return Wg(t,function(o){var s=sf(o,e,n,i);s&&a.push(s)}),jn(a);case"FeatureCollection":return cp(t,function(o){var s=sf(o,e,n,i);s&&cp(s,function(l){l&&a.push(l)})}),jn(a)}return sf(t,e,n,i)}function sf(t,e,r,n){var i=t.properties||{},a=t.type==="Feature"?t.geometry:t;if(a.type==="GeometryCollection"){var o=[];return Wg(t,function(w){var b=sf(w,e,r,n);b&&o.push(b)}),jn(o)}var s=tF(a),l={type:a.type,coordinates:sC(a.coordinates,s)},f=new J3,v=f.read(l),d=qg(GS(e,r),"meters"),g=Q3.bufferOp(v,d,n),p=new eF;if(g=p.write(g),!oC(g.coordinates)){var y={type:g.type,coordinates:uC(g.coordinates,s)};return Ei(y,i)}}function oC(t){return Array.isArray(t[0])?oC(t[0]):isNaN(t[0])}function sC(t,e){return typeof t[0]!="object"?e(t):t.map(function(r){return sC(r,e)})}function uC(t,e){return typeof t[0]!="object"?e.invert(t):t.map(function(r){return uC(r,e)})}function tF(t){var e=x3(t).geometry.coordinates,r=[-e[0],-e[1]];return j3().rotate(r).scale(fr)}function rF(t,e={}){let r=0,n=0,i=0;return Mh(t,function(a){r+=a[0],n+=a[1],i++},!0),Rl([r/i,n/i],e.properties)}function nF(t,e,r={}){r.mask&&!r.units&&(r.units="kilometers");for(var n=[],i=t[0],a=t[1],o=t[2],s=t[3],l=e/J0([i,a],[o,a],r),f=l*(o-i),v=e/J0([i,a],[i,s],r),d=v*(s-a),g=o-i,p=s-a,y=Math.floor(g/f),w=Math.floor(p/d),b=(g-y*f)/2,x=(p-w*d)/2,C=i+b;C<=o;){for(var T=a+x;T<=s;){var k=Rl([C,T],r.properties);r.mask?YS(k,r.mask)&&n.push(k):n.push(k),T+=d}C+=f}return jn(n)}function iF(t,e,r,n={}){const i=[],a=t[0],o=t[1],s=t[2],l=t[3],f=s-a,v=j0(e,n.units,"degrees"),d=l-o,g=j0(r,n.units,"degrees"),p=Math.floor(Math.abs(f)/v),y=Math.floor(Math.abs(d)/g),w=(f-p*v)/2,b=(d-y*g)/2;let x=a+w;for(let C=0;C<p;C++){let T=o+b;for(let k=0;k<y;k++){const L=Ih([[[x,T],[x,T+g],[x+v,T+g],[x+v,T],[x,T]]],n.properties);n.mask?v3(n.mask,L)&&i.push(L):i.push(L),T+=g}x+=v}return jn(i)}function aF(t,e,r={}){return iF(t,e,e,r)}/*!
* MarchingSquaresJS
* version 1.3.3
* https://github.com/RaumZeit/MarchingSquares.js
*
* @license GNU Affero General Public License.
* Copyright (c) 2015-2019 Ronny Lorenz <ronny@tbi.univie.ac.at>
*/function oF(t,e,r){return t<e?(r-t)/(e-t):(t-r)/(t-e)}function sF(){this.successCallback=null,this.verbose=!1,this.polygons=!1,this.polygons_full=!1,this.linearRing=!0,this.noQuadTree=!1,this.noFrame=!1}function uF(t){var e,r,n,i,a;for(i=new sF,t=t||{},a=Object.keys(i),e=0;e<a.length;e++)r=a[e],n=t[r],typeof n<"u"&&n!==null&&(i[r]=n);return i.polygons_full=!i.polygons,i.interpolate=oF,i}function C_(t,e,r,n){var i=[];return t.polygons.forEach(function(a){a.forEach(function(o){o[0]+=e,o[1]+=r}),n.linearRing&&a.push(a[0]),i.push(a)}),i}function lF(t,e,r,n){return r===0?(t+=1,e+=n[0][1]):r===1?t+=n[0][0]:r===2?e+=n[0][1]:r===3&&(t+=n[0][0],e+=1),[t,e]}function cF(t,e,r){return r===0?t++:r===1||(r===2?e++:r===3&&(t++,e++)),[t,e]}function fF(t,e){var r,n,i,a,o;for(r=!0,n=t[0].length,i=t.length,o=0;o<i;o++)if(t[o][0]>=e||t[o][n-1]>=e){r=!1;break}if(r&&(t[i-1][0]>=e||t[i-1][n-1]>=e)&&(r=!1),r){for(a=0;a<n-1;a++)if(t[0][a]>=e||t[i-1][a]>e){r=!1;break}}return r}function hF(t,e,r){var n,i,a,o,s,l,f,v,d,g,p,y,w,b,x,C=[],T=t.length-1,k=t[0].length-1,L=["right","bottom","left","top"],M=[0,-1,0,1],N=[-1,0,1,0],R={bottom:1,left:2,top:3,right:0};return r.noFrame||fF(t,r.threshold)&&(r.linearRing?C.push([[0,0],[0,T],[k,T],[k,0],[0,0]]):C.push([[0,0],[0,T],[k,T],[k,0]])),e.forEach(function(D,F){D.forEach(function(z,G){for(n=null,i=0;i<4;i++)if(n=L[i],typeof z.edges[n]=="object"){for(s=[],a=z.edges[n],l=n,f=F,v=G,d=!1,g=[F+a.path[0][0],G+a.path[0][1]],s.push(g);!d&&(o=e[f][v],typeof o.edges[l]=="object");)if(a=o.edges[l],delete o.edges[l],p=a.path[1],p[0]+=f,p[1]+=v,s.push(p),l=a.move.enter,f=f+a.move.x,v=v+a.move.y,typeof e[f]>"u"||typeof e[f][v]>"u"){if(!r.linearRing)break;if(y=0,w=0,f===k?(f--,y=0):f<0?(f++,y=2):v===T?(v--,y=3):v<0&&(v++,y=1),f===F&&v===G&&y===R[n]){d=!0,l=n;break}for(;;){if(b=!1,w>4)throw new Error("Direction change counter overflow! This should never happen!");if(!(typeof e[f]>"u"||typeof e[f][v]>"u")&&(o=e[f][v],x=L[y],typeof o.edges[x]=="object")){a=o.edges[x],s.push(lF(f,v,y,a.path)),l=x,b=!0;break}if(b)break;if(s.push(cF(f,v,y)),f+=M[y],v+=N[y],(typeof e[f]>"u"||typeof e[f][v]>"u")&&(y===0&&v<0||y===1&&f<0||y===2&&v===T||y===3&&f===k)&&(f-=M[y],v-=N[y],y=(y+1)%4,w++),f===F&&v===G&&y===R[n]){d=!0,l=n;break}}}r.linearRing&&(s[s.length-1][0]!==g[0]||s[s.length-1][1]!==g[1])&&s.push(g),C.push(s)}})}),C}function ro(t,e,r,n,i){var a=n,o=i,s=0,l=0;if(this.x=e,this.y=r,this.lowerBound=null,this.upperBound=null,this.childA=null,this.childB=null,this.childC=null,this.childD=null,n===1&&i===1)this.lowerBound=Math.min(t[r][e],t[r][e+1],t[r+1][e+1],t[r+1][e]),this.upperBound=Math.max(t[r][e],t[r][e+1],t[r+1][e+1],t[r+1][e]);else{if(n>1){for(;a!==0;)a=a>>1,s++;n===1<<s-1&&s--,a=1<<s-1}if(i>1){for(;o!==0;)o=o>>1,l++;i===1<<l-1&&l--,o=1<<l-1}this.childA=new ro(t,e,r,a,o),this.lowerBound=this.childA.lowerBound,this.upperBound=this.childA.upperBound,n-a>0&&(this.childB=new ro(t,e+a,r,n-a,o),this.lowerBound=Math.min(this.lowerBound,this.childB.lowerBound),this.upperBound=Math.max(this.upperBound,this.childB.upperBound),i-o>0&&(this.childC=new ro(t,e+a,r+o,n-a,i-o),this.lowerBound=Math.min(this.lowerBound,this.childC.lowerBound),this.upperBound=Math.max(this.upperBound,this.childC.upperBound))),i-o>0&&(this.childD=new ro(t,e,r+o,a,i-o),this.lowerBound=Math.min(this.lowerBound,this.childD.lowerBound),this.upperBound=Math.max(this.upperBound,this.childD.upperBound))}}ro.prototype.cellsInBand=function(t,e,r){var n=[];return r=typeof r>"u"?!0:r,this.lowerBound>e||this.upperBound<t||(this.childA||this.childB||this.childC||this.childD?(this.childA&&(n=n.concat(this.childA.cellsInBand(t,e,r))),this.childB&&(n=n.concat(this.childB.cellsInBand(t,e,r))),this.childD&&(n=n.concat(this.childD.cellsInBand(t,e,r))),this.childC&&(n=n.concat(this.childC.cellsInBand(t,e,r)))):(r||this.lowerBound<=t||this.upperBound>=e)&&n.push({x:this.x,y:this.y})),n};ro.prototype.cellsBelowThreshold=function(t,e){var r=[];return e=typeof e>"u"?!0:e,this.lowerBound>t||(this.childA||this.childB||this.childC||this.childD?(this.childA&&(r=r.concat(this.childA.cellsBelowThreshold(t,e))),this.childB&&(r=r.concat(this.childB.cellsBelowThreshold(t,e))),this.childD&&(r=r.concat(this.childD.cellsBelowThreshold(t,e))),this.childC&&(r=r.concat(this.childC.cellsBelowThreshold(t,e)))):(e||this.upperBound>=t)&&r.push({x:this.x,y:this.y})),r};function T_(t){var e,r;if(!t)throw new Error("data is required");if(!Array.isArray(t)||!Array.isArray(t[0]))throw new Error("data must be scalar field, i.e. array of arrays");if(t.length<2)throw new Error("data must contain at least two rows");if(r=t[0].length,r<2)throw new Error("data must contain at least two columns");for(e=1;e<t.length;e++){if(!Array.isArray(t[e]))throw new Error("Row "+e+" is not an array");if(t[e].length!=r)throw new Error("unequal row lengths detected, please provide a regular grid")}this.data=t,this.root=new ro(t,0,0,t[0].length-1,t.length-1)}function vF(t,e,r){var n,i,a,o=!1,s=!1,l=null,f=null,v=null,d=null,g=null,p=[];if(!t)throw new Error("data is required");if(e==null)throw new Error("threshold is required");if(r&&typeof r!="object")throw new Error("options must be an object");if(n=uF(r),t instanceof T_)l=t,f=t.root,v=t.data,n.noQuadTree||(o=!0);else if(Array.isArray(t)&&Array.isArray(t[0]))v=t;else throw new Error("input is neither array of arrays nor object retrieved from 'QuadTree()'");if(Array.isArray(e)){for(s=!0,n.noQuadTree||(o=!0),i=0;i<e.length;i++)if(isNaN(+e[i]))throw new Error("threshold["+i+"] is not a number")}else{if(isNaN(+e))throw new Error("threshold must be a number or array of numbers");e=[e]}return o&&!f&&(l=new T_(v),f=l.root,v=l.data),n.verbose&&(n.polygons?console.log("MarchingSquaresJS-isoLines: returning single lines (polygons) for each grid cell"):console.log("MarchingSquaresJS-isoLines: returning line paths (polygons) for entire data grid"),s&&console.log("MarchingSquaresJS-isoLines: multiple lines requested, returning array of line paths instead of lines for a single threshold")),e.forEach(function(y,w){if(g=[],n.threshold=y,n.verbose&&console.log("MarchingSquaresJS-isoLines: computing iso lines for threshold "+y),n.polygons)if(o)f.cellsBelowThreshold(n.threshold,!0).forEach(function(b){g=g.concat(C_(pc(v,b.x,b.y,n),b.x,b.y,n))});else for(a=0;a<v.length-1;++a)for(w=0;w<v[0].length-1;++w)g=g.concat(C_(pc(v,w,a,n),w,a,n));else{for(d=[],w=0;w<v[0].length-1;++w)d[w]=[];if(o)f.cellsBelowThreshold(n.threshold,!1).forEach(function(b){d[b.x][b.y]=pc(v,b.x,b.y,n)});else for(w=0;w<v[0].length-1;++w)for(a=0;a<v.length-1;++a)d[w][a]=pc(v,w,a,n);g=hF(v,d,n)}s?p.push(g):p=g,typeof n.successCallback=="function"&&n.successCallback(p,y)}),p}function pc(t,e,r,n){var i,a,o,s,l,f,v=0,d=t[r+1][e],g=t[r+1][e+1],p=t[r][e+1],y=t[r][e],w=n.threshold;if(!(isNaN(y)||isNaN(p)||isNaN(g)||isNaN(d))){switch(v|=d>=w?8:0,v|=g>=w?4:0,v|=p>=w?2:0,v|=y>=w?1:0,v=+v,f={cval:v,polygons:[],edges:{},x0:y,x1:p,x2:g,x3:d},v){case 0:n.polygons&&f.polygons.push([[0,0],[0,1],[1,1],[1,0]]);break;case 15:break;case 14:i=n.interpolate(y,d,w),s=n.interpolate(y,p,w),n.polygons_full&&(f.edges.left={path:[[0,i],[s,0]],move:{x:0,y:-1,enter:"top"}}),n.polygons&&f.polygons.push([[0,0],[0,i],[s,0]]);break;case 13:s=n.interpolate(y,p,w),a=n.interpolate(p,g,w),n.polygons_full&&(f.edges.bottom={path:[[s,0],[1,a]],move:{x:1,y:0,enter:"left"}}),n.polygons&&f.polygons.push([[s,0],[1,a],[1,0]]);break;case 11:a=n.interpolate(p,g,w),o=n.interpolate(d,g,w),n.polygons_full&&(f.edges.right={path:[[1,a],[o,1]],move:{x:0,y:1,enter:"bottom"}}),n.polygons&&f.polygons.push([[1,a],[o,1],[1,1]]);break;case 7:i=n.interpolate(y,d,w),o=n.interpolate(d,g,w),n.polygons_full&&(f.edges.top={path:[[o,1],[0,i]],move:{x:-1,y:0,enter:"right"}}),n.polygons&&f.polygons.push([[o,1],[0,i],[0,1]]);break;case 1:i=n.interpolate(y,d,w),s=n.interpolate(y,p,w),n.polygons_full&&(f.edges.bottom={path:[[s,0],[0,i]],move:{x:-1,y:0,enter:"right"}}),n.polygons&&f.polygons.push([[s,0],[0,i],[0,1],[1,1],[1,0]]);break;case 2:s=n.interpolate(y,p,w),a=n.interpolate(p,g,w),n.polygons_full&&(f.edges.right={path:[[1,a],[s,0]],move:{x:0,y:-1,enter:"top"}}),n.polygons&&f.polygons.push([[0,0],[0,1],[1,1],[1,a],[s,0]]);break;case 4:a=n.interpolate(p,g,w),o=n.interpolate(d,g,w),n.polygons_full&&(f.edges.top={path:[[o,1],[1,a]],move:{x:1,y:0,enter:"left"}}),n.polygons&&f.polygons.push([[0,0],[0,1],[o,1],[1,a],[1,0]]);break;case 8:i=n.interpolate(y,d,w),o=n.interpolate(d,g,w),n.polygons_full&&(f.edges.left={path:[[0,i],[o,1]],move:{x:0,y:1,enter:"bottom"}}),n.polygons&&f.polygons.push([[0,0],[0,i],[o,1],[1,1],[1,0]]);break;case 12:i=n.interpolate(y,d,w),a=n.interpolate(p,g,w),n.polygons_full&&(f.edges.left={path:[[0,i],[1,a]],move:{x:1,y:0,enter:"left"}}),n.polygons&&f.polygons.push([[0,0],[0,i],[1,a],[1,0]]);break;case 9:s=n.interpolate(y,p,w),o=n.interpolate(d,g,w),n.polygons_full&&(f.edges.bottom={path:[[s,0],[o,1]],move:{x:0,y:1,enter:"bottom"}}),n.polygons&&f.polygons.push([[s,0],[o,1],[1,1],[1,0]]);break;case 3:i=n.interpolate(y,d,w),a=n.interpolate(p,g,w),n.polygons_full&&(f.edges.right={path:[[1,a],[0,i]],move:{x:-1,y:0,enter:"right"}}),n.polygons&&f.polygons.push([[0,i],[0,1],[1,1],[1,a]]);break;case 6:s=n.interpolate(y,p,w),o=n.interpolate(d,g,w),n.polygons_full&&(f.edges.top={path:[[o,1],[s,0]],move:{x:0,y:-1,enter:"top"}}),n.polygons&&f.polygons.push([[0,0],[0,1],[o,1],[s,0]]);break;case 10:i=n.interpolate(y,d,w),a=n.interpolate(p,g,w),s=n.interpolate(y,p,w),o=n.interpolate(d,g,w),l=(y+p+g+d)/4,n.polygons_full&&(l<w?(f.edges.left={path:[[0,i],[o,1]],move:{x:0,y:1,enter:"bottom"}},f.edges.right={path:[[1,a],[s,0]],move:{x:0,y:-1,enter:"top"}}):(f.edges.right={path:[[1,a],[o,1]],move:{x:0,y:1,enter:"bottom"}},f.edges.left={path:[[0,i],[s,0]],move:{x:0,y:-1,enter:"top"}})),n.polygons&&(l<w?f.polygons.push([[0,0],[0,i],[o,1],[1,1],[1,a],[s,0]]):(f.polygons.push([[0,0],[0,i],[s,0]]),f.polygons.push([[o,1],[1,1],[1,a]])));break;case 5:i=n.interpolate(y,d,w),a=n.interpolate(p,g,w),s=n.interpolate(y,p,w),o=n.interpolate(d,g,w),l=(y+p+g+d)/4,n.polygons_full&&(l<w?(f.edges.bottom={path:[[s,0],[0,i]],move:{x:-1,y:0,enter:"right"}},f.edges.top={path:[[o,1],[1,a]],move:{x:1,y:0,enter:"left"}}):(f.edges.top={path:[[o,1],[0,i]],move:{x:-1,y:0,enter:"right"}},f.edges.bottom={path:[[s,0],[1,a]],move:{x:1,y:0,enter:"left"}})),n.polygons&&(l<w?f.polygons.push([[0,i],[0,1],[o,1],[1,a],[1,0],[s,0]]):(f.polygons.push([[0,i],[0,1],[o,1]]),f.polygons.push([[s,0],[1,a],[1,0]])));break}return f}}var dF=Object.defineProperty,E_=Object.getOwnPropertySymbols,pF=Object.prototype.hasOwnProperty,gF=Object.prototype.propertyIsEnumerable,k_=(t,e,r)=>e in t?dF(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,I_=(t,e)=>{for(var r in e||(e={}))pF.call(e,r)&&k_(t,r,e[r]);if(E_)for(var r of E_(e))gF.call(e,r)&&k_(t,r,e[r]);return t};function mF(t,e){if(e=e||{},!lp(e))throw new Error("options is invalid");var r=e.zProperty||"elevation",n=e.flip,i=e.flags;VS(t,"Point","input must contain Points");for(var a=yF(t,n),o=[],s=0;s<a.length;s++){for(var l=a[s],f=[],v=0;v<l.length;v++){var d=l[v];d.properties[r]?f.push(d.properties[r]):f.push(0),i===!0&&(d.properties.matrixPosition=[s,v])}o.push(f)}return o}function yF(t,e){var r={};cp(t,function(a){var o=qi(a)[1];r[o]||(r[o]=[]),r[o].push(a)});var n=Object.keys(r).map(function(a){var o=r[a],s=o.sort(function(l,f){return qi(l)[0]-qi(f)[0]});return s}),i=n.sort(function(a,o){return e?qi(a[0])[1]-qi(o[0])[1]:qi(o[0])[1]-qi(a[0])[1]});return i}function _F(t,e,r){if(r=r||{},!lp(r))throw new Error("options is invalid");const n=r.zProperty||"elevation",i=r.commonProperties||{},a=r.breaksProperties||[];if(VS(t,"Point","Input must contain Points"),!e)throw new Error("breaks is required");if(!Array.isArray(e))throw new Error("breaks must be an Array");if(!lp(i))throw new Error("commonProperties must be an Object");if(!Array.isArray(a))throw new Error("breaksProperties must be an Array");const o=mF(t,{zProperty:n,flip:!0}),s=wF(o,e,n,i,a),l=bF(s,o,t);return jn(l)}function wF(t,e,r,n,i){const a=[];for(let o=0;o<e.length;o++){const s=+e[o],l=I_(I_({},n),i[o]);l[r]=s;const f=zS(vF(t,s,{linearRing:!1,noFrame:!0}),l);a.push(f)}return a}function bF(t,e,r){const n=ca(r),i=n[2]-n[0],a=n[3]-n[1],o=n[0],s=n[1],l=e[0].length-1,f=e.length-1,v=i/l,d=a/f,g=p=>{p[0]=p[0]*v+o,p[1]=p[1]*d+s};return t.forEach(p=>{Mh(p,g)}),t}const Vt=window.Cesium;class xF{constructor(e,r=100){this.size=250,this.terrainProvider=e,this.size=r}computeMidpoint(e,r){const n=(e.longitude+r.longitude)/2,i=(e.latitude+r.latitude)/2,a=new Vt.Cartographic(n,i);return Vt.Cartographic.toCartesian(a)}computeAspect(e){return new Promise((r,n)=>{const i=e.map(o=>Vt.Cartographic.fromCartesian(o));Vt.sampleTerrainMostDetailed(this.terrainProvider,i).then(o=>{const s=[],l=[],f=o.length/9;for(let v=0;v<f;v++){const d=o.slice(v*9,(v+1)*9);let g=d[0];const p=d[d.length-1];let y,w;for(let x=1;x<d.length-1;x++)d[x].height>g.height&&(g=d[x]);p.height>g.height?(y=p,w=g):(y=g,w=p);const b=this.calculateAzimuth(y,w);l.push(Math.floor(b)),s.push([Vt.Cartographic.toCartesian(y),Vt.Cartographic.toCartesian(w)])}r({aspects:l,directions:s})}).catch(o=>n(o))})}calculateAzimuth(e,r){const n=e.longitude,i=e.latitude,a=r.longitude,o=r.latitude,s=a-n,l=Math.sin(s)*Math.cos(o),f=Math.cos(i)*Math.sin(o)-Math.sin(i)*Math.cos(o)*Math.cos(s);let v=Math.atan2(l,f);return v=Vt.Math.toDegrees(v),v<0&&(v+=360),-v}async analyse(e,r){return new Promise((n,i)=>{try{const o=e.map(y=>Vt.Cartographic.fromCartesian(y)).map(y=>[Vt.Math.toDegrees(y.longitude),Vt.Math.toDegrees(y.latitude)]),s=[[...o,o[0]]];let l=Ih(s),f=ca(l),v=this.size,d=[],g=aF(f,v,{units:"meters"});jn(g.features.filter(y=>YS(y,l))).features.forEach(y=>{const w=y.geometry.coordinates[0],b=rF(y).geometry.coordinates,x=Vt.Cartesian3.fromDegrees(b[0],b[1]);let C=[];for(let G=0;G<w.length-1;G++)C.push(Vt.Cartesian3.fromDegrees(w[G][0],w[G][1]));const T=Vt.Rectangle.fromCartesianArray(C),k=Vt.Rectangle.northwest(T),L=Vt.Rectangle.northeast(T),M=Vt.Rectangle.southeast(T),N=Vt.Rectangle.southwest(T),R=this.computeMidpoint(k,L),D=this.computeMidpoint(L,M),F=this.computeMidpoint(M,N),z=this.computeMidpoint(N,k);d.push(...C,R,D,F,z,x)}),this.computeAspect(d).then(y=>{n(y),console.log("")}).catch(y=>i(y))}catch(a){i(a)}})}}const An=window.Cesium.Cartesian3,Ma=window.Cesium.Cartographic,M_=window.Cesium.EllipsoidGeodesic,L_=window.Cesium.sampleTerrainMostDetailed,cu=window.Cesium.Math,SF=window.Cesium.Transforms,P_=window.Cesium.Matrix3,CF=window.Cesium.Simon1994PlanetaryPositions;class no{static spaceDistance(e){try{let r=0;const n=e.length;for(let i=0;i<n-1;i++){const a=An.distance(e[i],e[i+1]);r+=a}return r}catch{return-1}}static interpolate(e,r){let n=[];for(let i=0;i<e.length-1;i++){let a=e[i],o=e[i+1],s=An.distance(a,o);const l=Math.floor(s/r);let f=Ma.fromCartesian(a),v=Ma.fromCartesian(o);n.push(f);for(let d=1;d<l;d++){let g=An.lerp(a,o,d/l,new An);n.push(Ma.fromCartesian(g))}n.push(v)}return n}static surfaceDistance(e,r,n=50){return new Promise((i,a)=>{let o=no.interpolate(r,n),s=L_(e,o),l=0;s.then(f=>{let v=[];for(let d=0;d<f.length;d++){if(d==f.length-1)continue;const g=An.distance(An.fromRadians(f[d].longitude,f[d].latitude,f[d].height),An.fromRadians(f[d+1].longitude,f[d+1].latitude,f[d+1].height));l+=g,v.push(g.toFixed(0))}i({category:v,positions:f,distance:l})}).catch(f=>{a(f)})})}static surfaceSlope(e,r,n=50){return new Promise((i,a)=>{let o=no.interpolate(r,n);L_(e,o).then(l=>{let f=[],v=[],d=0;for(let g=0;g<l.length-1;g++){const p=l[g],y=l[g+1],w=An.distance(An.fromRadians(p.longitude,p.latitude,p.height),An.fromRadians(y.longitude,y.latitude,y.height));f.push(d.toFixed(0));const x=(p.height>y.height?p.height-y.height:y.height-p.height)/w,C=Math.atan(x),T=cu.toDegrees(C);d+=w,!Number.isNaN(T)&&v.push(T)}i({distance:d,category:f,positions:l,slopes:v})}).catch(l=>{a(l)})})}static angle(e,r,n){let i=no.bearing(r,e),a=no.bearing(r,n),o=i-a;return o<0&&(o+=360),o}static bearing(e,r){let n=Math.PI/180,i=180/Math.PI,a=Ma.fromCartesian(e),o=Ma.fromCartesian(r),s=cu.toDegrees(a.longitude)*n,l=cu.toDegrees(a.latitude)*n,f=cu.toDegrees(o.longitude)*n,v=cu.toDegrees(o.latitude)*n,d=-Math.atan2(Math.sin(s-f)*Math.cos(v),Math.cos(l)*Math.sin(v)-Math.sin(l)*Math.cos(v)*Math.cos(s-f));return d<0&&(d+=Math.PI*2),d=d*i,d}static geodesicDistanceByCartesians(e){let r=0;for(let n=0;n<e.length-1;n++){let i=e[n],a=e[n+1],o=Ma.fromCartesian(i),s=Ma.fromCartesian(a),l=new M_;l.setEndPoints(o,s);let f=l.surfaceDistance;f=Math.sqrt(Math.pow(f,2)+Math.pow(s.height-o.height,2)),r+=f}return r}static geodeticDistanceByCartographics(e){let r=0;for(let n=0;n<e.length-1;n++){let i=e[n],a=e[n+1],o=new M_;o.setEndPoints(i,a);let s=o.surfaceDistance;s=Math.sqrt(Math.pow(s,2)+Math.pow(a.height-a.height,2)),r+=s}return r}static getSunPos(e){const r=new P_;SF.computeTemeToPseudoFixedMatrix(e,r);let n=CF.computeSunPositionInEarthInertialFrame(e);return P_.multiplyByVector(r,n,n),n}}const Qe=window.Cesium,N_=(t,e)=>{if(!e)return;const r=t.scene.drillPick(e);let n=null,i=!1,a=!1;for(let l in r){let f=r[l];if((f&&f.primitive instanceof Qe.Cesium3DTileFeature||f&&f.primitive instanceof Qe.Cesium3DTileset||f&&f.primitive instanceof Qe.Model)&&(i=!0),i&&(t.scene.pick(e),n=t.scene.pickPosition(e),n)){let v=Qe.Cartographic.fromCartesian(n);v.height<0&&(v.height=0);let d=Qe.Math.toDegrees(v.longitude),g=Qe.Math.toDegrees(v.latitude),p=v.height;n=Qe.Cartesian3.fromDegrees(d,g,p)}}let o=t.terrainProvider instanceof Qe.EllipsoidTerrainProvider;if(!i&&!o){var s=t.scene.camera.getPickRay(e);if(!s)return null;n=t.scene.globe.pick(s,t.scene),a=!0}return!i&&!a&&o&&(n=t.scene.camera.pickEllipsoid(e,t.scene.globe.ellipsoid)),n||!1};var wn=(t=>(t.POINT="point",t.POLYLINE="poyline",t.POLYGON="polygon",t))(wn||{});class Co{constructor(e,r){this._dbClickST=0,this.lineColor=Qe.Color.YELLOW,this.lineWidth=6,this.polygoneColor=Qe.Color.YELLOW.withAlpha(.6),this.cesiumDivEleID="cesiumContainer",this.viewer=e,this._positions=[],this._lcc=0,this._handler=new Qe.ScreenSpaceEventHandler(this.viewer.scene.canvas),this._drawType=r.type||"point",this._floatingEnitity=void 0,this._pointEntities=[],this._active=!1,this.showShape=r.showShape!=!1,this.clampToGround=r.clampToGround!=null?r.clampToGround:!0,this.viewer.screenSpaceEventHandler.removeInputAction(Qe.ScreenSpaceEventType.LEFT_DOUBLE_CLICK),this.finishedEvt=new Qe.Event,this.drawingEvt=new Qe.Event}leftClickHandler(e){const r=N_(this.viewer,e.position);if(r){if(this._lcc<this._positions.length&&this._positions.pop(),this._positions.push(r),this._lcc++,this.drawingEvt.raiseEvent(this._positions),this.showShape){const n=this.viewer.entities.add({id:Qe.createGuid(),position:r,point:{color:Qe.Color.RED,pixelSize:10,outlineWidth:this.lineWidth,outlineColor:Qe.Color.fromCssColorString("#3dc8df")}});this._pointEntities.push(n)}if(!this._floatingEnitity&&this.showShape){if(this._drawType==="poyline"&&!this._floatingEnitity){let n=this.viewer.entities.add({id:Qe.createGuid(),polyline:{positions:new Qe.CallbackProperty(()=>this._positions,!1),clampToGround:this.clampToGround,width:this.lineWidth,material:new Qe.PolylineGlowMaterialProperty({color:this.lineColor,glowPower:.6})}});this._floatingEnitity=n}else if(this._drawType==="polygon"&&!this._floatingEnitity){let n=this.viewer.entities.add({id:Qe.createGuid(),polygon:{hierarchy:new Qe.CallbackProperty(()=>new Qe.PolygonHierarchy(this._positions),!1),material:this.polygoneColor,perPositionHeight:!this.clampToGround},polyline:{positions:new Qe.CallbackProperty(()=>[...this._positions,this._positions[0]],!1),clampToGround:this.clampToGround,width:this.lineWidth,material:new Qe.PolylineGlowMaterialProperty({color:this.lineColor,glowPower:.6})}});this._floatingEnitity=n}}}}leftClick(e){const r=new Date().getTime(),n=r-this._dbClickST;this._dbClickST=r,n>500?(this._timer&&clearTimeout(this._timer),this._timer=setTimeout(()=>this.leftClickHandler(e),500)):this._timer&&(clearTimeout(this._timer),this._timer=null)}mouseMove(e){const r=N_(this.viewer,e.endPosition);r&&(this._positions.length>this._lcc&&this._positions.pop(),this._positions.push(r),this.drawingEvt.raiseEvent(this._positions))}rightClick(e){this.stop(),this.finishedEvt.raiseEvent(this._positions)}leftDoubleClick(e){for(let n=0;n<this._positions.length-this._lcc;n++)this._positions.pop();this._positions.pop();const r=this._pointEntities.pop();r&&this.viewer.entities.remove(r),this._lcc--,this.drawingEvt.raiseEvent(this._positions)}bindEvt(){this._handler.setInputAction(this.leftClickHandler.bind(this),Qe.ScreenSpaceEventType.LEFT_CLICK),this._handler.setInputAction(this.mouseMove.bind(this),Qe.ScreenSpaceEventType.MOUSE_MOVE),this._handler.setInputAction(this.rightClick.bind(this),Qe.ScreenSpaceEventType.RIGHT_CLICK)}unbindEvt(){this._handler.removeInputAction(Qe.ScreenSpaceEventType.LEFT_CLICK),this._handler.removeInputAction(Qe.ScreenSpaceEventType.MOUSE_MOVE),this._handler.removeInputAction(Qe.ScreenSpaceEventType.RIGHT_CLICK)}start(e){this._drawType=typeof e>"u"?this._drawType:e,this._active=!0,this.setCursorStyle(!0),this.bindEvt()}stop(){this.unbindEvt(),this._active=!1,this.setCursorStyle(!1)}clear(){for(this._positions.length=0,this._lcc=0,this._floatingEnitity&&(this.viewer.entities.remove(this._floatingEnitity),this._floatingEnitity=void 0);this._pointEntities.length>=1;){let e=this._pointEntities.pop();e&&this.viewer.entities.remove(e)}}updateDrawOption(e){typeof e.type=="string"&&(this._drawType=e.type),typeof e.clampToGround=="boolean"&&(this.clampToGround=e.clampToGround),typeof e.showShape=="boolean"&&(this.showShape=e.showShape)}setCursorStyle(e){try{let r=document.getElementById(this.cesiumDivEleID);r&&(r.style.cursor=e===!0?"crosshair":"default")}catch{console.error("")}}}const TF={class:"opts"},EF={class:"opt-item"},A_=window.Cesium,kF=he({__name:"Aspect",setup(t){const e=Jt({tiped:!1,size:250,loading:!1}),r=new xF(window.viewer.terrainProvider,e.size),n=new Co(window.viewer,{type:wn.POLYGON,clampToGround:!0,showShape:!0});n.finishedEvt.addEventListener(async s=>{console.log("finish drawing");let l=[...s,s[0]];l.length>=3&&(e.loading=!0,await r.analyse(l).then(f=>{const{aspects:v,directions:d}=f,g=[...new Set(v.map(w=>Math.abs(Math.ceil(w))))],p=i(g.length),y=new Map(g.map((w,b)=>[w,p[b]]));d.forEach((w,b)=>{const x=Math.abs(Math.ceil(v[b])),C=y.get(x);window.viewer.entities.add({polyline:{clampToGround:!0,positions:w,material:new A_.PolylineArrowMaterialProperty(C),width:8}})})}).finally(()=>{e.loading=!1}),n.clear())});const i=s=>{const l=[];for(let f=0;f<s;f++){const v=f*137.508%360,d=A_.Color.fromHsl(v/360,.7,.7,1);l.push(d)}return l},a=()=>{e.tiped||(la({message:"",duration:5e3}),e.tiped=!0),n.start()};Et(()=>{window.viewer.scene.globe.depthTestAgainstTerrain=!0});const o=()=>{n.clear(),window.viewer.entities.removeAll()};return Qt(()=>{o()}),(s,l)=>Mt((ie(),fe("div",null,[re("div",TF,[re("div",EF,[l[1]||(l[1]=re("label",{for:""},"",-1)),Mt(re("input",{type:"number","onUpdate:modelValue":l[0]||(l[0]=f=>e.size=f)},null,512),[[h2,e.size]])])]),re("div",{class:"btns"},[re("button",{class:"btn",onClick:a},""),re("button",{class:"btn",onClick:o},"")])])),[[P(Fs),e.loading]])}}),D_=window.Cesium.Cartesian3,IF=window.Cesium.Ray,gc=window.Cesium.Color,mc=window.Cesium.createGuid,Bv=window.Cesium.PolylineArrowMaterialProperty;class MF{constructor(e,r){this.viewer=e,this.visibleColor=r.visibleColor||"#51df3d",this.invisibleColor=r.invisibleColor||"#df2914",this.barrierColor=r.barrierColor||"#3d59df",this.entities=[]}analyse(e,r){const n=this.viewer.scene,i=new IF(e,D_.subtract(r,e,new D_));let a=n.pickFromRay(i);if(console.log(a),a){const{position:o}=a,s=this.viewer.entities.add({id:mc(),polyline:{positions:[e,o],width:8,material:new Bv(gc.fromCssColorString(this.visibleColor))}});this.entities.push(s);const l=this.viewer.entities.add({id:mc(),position:o,point:{pixelSize:10,color:gc.fromCssColorString(this.barrierColor)}});this.entities.push(l);const f=this.viewer.entities.add({id:mc(),polyline:{positions:[o,r],width:8,material:new Bv(gc.fromCssColorString(this.invisibleColor))}});this.entities.push(f)}else{const o=this.viewer.entities.add({id:mc(),polyline:{positions:[e,r],width:8,material:new Bv(gc.fromCssColorString(this.visibleColor))}});this.entities.push(o)}}clear(){for(;this.entities.length>0;){const e=this.entities.pop();e&&this.viewer.entities.remove(e)}}}const LF={class:"btns"},PF=he({__name:"Sight",setup(t){const e=new Co(window.viewer,{type:wn.POLYGON,clampToGround:!1,showShape:!0}),r=Jt({tiped:!1}),n=new MF(window.viewer,{});console.log(n),e.drawingEvt.addEventListener(o=>{o.length>=2&&(n.analyse(o[0],o[o.length-1]),e.clear())});const i=()=>{r.tiped||(la({message:"",duration:5e3}),r.tiped=!0),e.start()},a=()=>{e.clear(),n==null||n.clear()};return Qt(()=>{a()}),(o,s)=>(ie(),fe("div",LF,[re("button",{class:"btn",onClick:i},""),re("button",{class:"btn",onClick:a},"")]))}}),rr=window.Cesium;class NF{constructor(e){this.interval=50,this.breaks=[],this.minHeight=0,this.maxHeight=0,this._terrainProvider=e}get gradeCount(){return this.breaks.length}async analyse(e,r=null){try{if(typeof r=="number"&&(this.interval=r),e.length<3)throw new Error("positions.length < 3");return this.clear(),new Promise((n,i)=>{const o=e.map(p=>rr.Cartographic.fromCartesian(p)).map(p=>[rr.Math.toDegrees(p.longitude),rr.Math.toDegrees(p.latitude)]),s=[[...o,o[0]]];let l=Ih(s),f=ca(l),v=30,d=[],g=nF(f,v,{units:"meters"});g||i(new Error("grid is null")),g.features.forEach(p=>{const y=p.geometry.coordinates;d.push(rr.Cartographic.fromDegrees(y[0],y[1],0))}),rr.sampleTerrainMostDetailed(this._terrainProvider,d).then(p=>{const y=[];for(let C=0;C<p.length;C++)g.features[C].properties.height=p[C].height,y.push(p[C].height);y.sort((C,T)=>C-T),this.minHeight=y[0],this.maxHeight=y[y.length-1];for(let C=0;C<=(this.maxHeight-this.minHeight)/this.interval;C++)this.breaks.push(this.minHeight+C*this.interval);let b=_F(g,this.breaks,{zProperty:"height"}).features;const x=[];b.forEach(C=>{const T=C.properties.height,k=C.geometry.coordinates,L=[];k.forEach(M=>{L.push(M.map(N=>rr.Cartesian3.fromDegrees(N[0],N[1],T)))}),x.push({grade:T,positions:L})}),n({lines:x})}).catch(p=>i(p))})}catch(n){return Promise.reject(n)}}coloring(e,r=rr.Color.fromCssColorString("#0e6bf4"),n=rr.Color.fromCssColorString("#fb5106")){return rr.Color.lerp(r,n,e,new rr.Color)}visualize(e,r=2,n=null){const i=[],{lines:a}=e;return a.forEach(o=>{const{positions:s,grade:l}=o,f=(l-this.minHeight)/(this.maxHeight-this.minHeight),v=[];s.forEach(g=>{const p=new rr.GeometryInstance({geometry:new rr.GroundPolylineGeometry({positions:g,width:r})});v.push(p)});const d=n?n(f):this.coloring(f);i.push(new rr.GroundPolylinePrimitive({geometryInstances:v,appearance:new rr.PolylineMaterialAppearance({material:new rr.Material({fabric:{type:"Color",uniforms:{color:d}}})})}))}),i}clear(){this.breaks.length=0,this.minHeight=0,this.maxHeight=0}}const hn=window.Cesium,AF=t=>{const[e,r]=[0,100];return t<e?hn.Color.WHITE:t==e?hn.Color.fromHsl(Math.abs(2/3-t/r),1,.5,1):e<t&&t<25?hn.Color.fromHsl(Math.abs(2/3-t/r),1,.5,.7):t==25?hn.Color.fromHsl(Math.abs(2/3-(e+t)/r),1,.5,.7):25<t&&t<50?hn.Color.fromHsl(Math.abs(2/3-t/r),1,.5,.7):t==50||50<t&&t<75||t==75||75<t&&t<r?hn.Color.fromHsl(Math.abs(2/3-(e+t)/r),1,.5,.7):(t==r,hn.Color.fromHsl(Math.abs(3/3-r/r),1,.5,1))},DF={class:"color-wrapper"},RF={class:"color-tip"},OF=he({__name:"ColorMap",props:{unit:{type:String,default:()=>"%"},colorFunc:{type:[Function,null],default:()=>null},quartLabels:{type:[Array,Array],default:()=>[0,25,50,75,100]}},setup(t){const e=t;let r=Z(()=>{let n=e.colorFunc||AF;const i=n(0),a=n(25),o=n(50),s=n(75),l=n(100);return{position:"relative",width:"100%",height:"20px","border-radius":"5px","background-image":`linear-gradient(to right, ${i.toCssColorString()}, ${a.toCssColorString()}, ${o.toCssColorString()},${s.toCssColorString()}, ${l.toCssColorString()})`}});return(n,i)=>(ie(),fe("div",DF,[re("div",{class:"colormap",style:kt(P(r))},[re("div",RF,[re("ul",null,[(ie(!0),fe($t,null,wi(t.quartLabels,a=>(ie(),fe("li",{key:`${a}`},At(`${a} ${t.unit}`),1))),128))])])],4)]))}}),lC=Ps(OF,[["__scopeId","data-v-0e37ed9a"]]),FF={class:"opts"},BF={class:"opt-item"},Lr=window.Cesium,zF=he({__name:"Contour",setup(t){const e=new Co(window.viewer,{type:wn.POLYGON,clampToGround:!1,showShape:!0}),r=Jt({tiped:!1,loading:!1,interval:50,breaks:[0,25,50,75,100],lineWidth:2}),n=window.viewer,i=new NF(n.terrainProvider),a=n.scene.groundPrimitives.add(new Lr.PrimitiveCollection),o=v=>{let d=Lr.Color.WHITE,g=Lr.Color.RED;return 0<v&&v<=.25?(d=Lr.Color.fromCssColorString("#0cf2f4"),g=Lr.Color.fromCssColorString("#77f40c")):.25<v&&v<=.5?(d=Lr.Color.fromCssColorString("#77f40c"),g=Lr.Color.fromCssColorString("#f4dc0c")):.5<v&&v<=.75?(d=Lr.Color.fromCssColorString("#f4dc0c"),g=Lr.Color.fromCssColorString("#f45a0c")):.75<v&&v<=1&&(d=Lr.Color.fromCssColorString("#f45a0c"),g=Lr.Color.fromCssColorString("#f00")),Lr.Color.lerp(d,g,v,new Lr.Color)};e.finishedEvt.addEventListener(v=>{v.length>=3&&(r.loading=!0,i.analyse(v,r.interval).then(d=>{const g=(i.maxHeight-i.minHeight)/4,p=i.minHeight;r.breaks.length=0;for(let y=0;y<=4;y++)r.breaks.push((p+g*y).toFixed(1));i.visualize(d,r.lineWidth,o).forEach(y=>a.add(y))}).finally(()=>{r.loading=!1,e.clear()}))});function s(v){return i.coloring(v/100)}const l=()=>{r.tiped||(la({message:"",duration:5e3}),r.tiped=!0),e.start()},f=()=>{e.clear(),a.removeAll()};return Et(async()=>{}),Qt(()=>{f()}),(v,d)=>Mt((ie(),fe("div",null,[re("div",FF,[re("div",BF,[d[1]||(d[1]=re("label",null,"",-1)),Ee(P(Dl),{modelValue:r.interval,"onUpdate:modelValue":d[0]||(d[0]=g=>r.interval=g),min:10,max:2e3,controls:!1},null,8,["modelValue"])])]),Ee(lC,{unit:"m","quart-labels":r.breaks,"color-func":s},null,8,["quart-labels"]),re("div",{class:"btns"},[re("button",{class:"btn",onClick:l},""),re("button",{class:"btn",onClick:f},"")])])),[[P(Fs),r.loading]])}}),fu=window.Cesium;var uf=(t=>(t.TERRAIN="terrain",t.MODEL="model",t))(uf||{});class GF{constructor(e,r){this.interval=50,this._viewer=e,this._terrainProvider=e.terrainProvider,this.type="terrain",r&&this.setOptions(r)}setOptions(e){this.interval=e.interval?e.interval:this.interval,this.type=e.type?e.type:this.type}sampleHeightThroughModel(e){return new Promise((r,n)=>{try{const a=no.interpolate(e,this.interval).map(v=>fu.Cartographic.toCartesian(v));var i=[];let o=[],s=0;const f=this._viewer.scene;a.forEach(v=>{const d=fu.Cartographic.fromCartesian(v),g=f.sampleHeight(d);d.height=g,i.push(d)});for(let v=0;v<i.length-1;v++){const d=i[v],g=i[v+1],p=fu.Cartesian3.distance(fu.Cartesian3.fromRadians(d.longitude,d.latitude,d.height),fu.Cartesian3.fromRadians(g.longitude,g.latitude,g.height));o.push(p),s+=p}r({distance:s,category:o,positions:i})}catch(a){n(a)}})}async analyse(e,r){return r&&this.setOptions(r),this.type==="terrain"?no.surfaceDistance(this._terrainProvider,e,this.interval):this.type==="model"?this.sampleHeightThroughModel(e):Promise.reject("")}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var mp=function(t,e){return mp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},mp(t,e)};function xe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");mp(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var VF=function(){function t(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1}return t}(),HF=function(){function t(){this.browser=new VF,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow=typeof window<"u"}return t}(),Oe=new HF;typeof wx=="object"&&typeof wx.getSystemInfoSync=="function"?(Oe.wxa=!0,Oe.touchEventsSupported=!0):typeof document>"u"&&typeof self<"u"?Oe.worker=!0:!Oe.hasGlobalWindow||"Deno"in window?(Oe.node=!0,Oe.svgSupported=!0):$F(navigator.userAgent,Oe);function $F(t,e){var r=e.browser,n=t.match(/Firefox\/([\d.]+)/),i=t.match(/MSIE\s([\d.]+)/)||t.match(/Trident\/.+?rv:(([\d.]+))/),a=t.match(/Edge?\/([\d.]+)/),o=/micromessenger/i.test(t);n&&(r.firefox=!0,r.version=n[1]),i&&(r.ie=!0,r.version=i[1]),a&&(r.edge=!0,r.version=a[1],r.newEdge=+a[1].split(".")[0]>18),o&&(r.weChat=!0),e.svgSupported=typeof SVGRect<"u",e.touchEventsSupported="ontouchstart"in window&&!r.ie&&!r.edge,e.pointerEventsSupported="onpointerdown"in window&&(r.edge||r.ie&&+r.version>=11),e.domSupported=typeof document<"u";var s=document.documentElement.style;e.transform3dSupported=(r.ie&&"transition"in s||r.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in s)&&!("OTransition"in s),e.transformSupported=e.transform3dSupported||r.ie&&+r.version>=9}var Kg=12,UF="sans-serif",mo=Kg+"px "+UF,YF=20,qF=100,WF="007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N";function XF(t){var e={};if(typeof JSON>"u")return e;for(var r=0;r<t.length;r++){var n=String.fromCharCode(r+32),i=(t.charCodeAt(r)-YF)/qF;e[n]=i}return e}var KF=XF(WF),zs={createCanvas:function(){return typeof document<"u"&&document.createElement("canvas")},measureText:function(){var t,e;return function(r,n){if(!t){var i=zs.createCanvas();t=i&&i.getContext("2d")}if(t)return e!==n&&(e=t.font=n||mo),t.measureText(r);r=r||"",n=n||mo;var a=/((?:\d+)?\.?\d*)px/.exec(n),o=a&&+a[1]||Kg,s=0;if(n.indexOf("mono")>=0)s=o*r.length;else for(var l=0;l<r.length;l++){var f=KF[r[l]];s+=f==null?o:f*o}return{width:s}}}(),loadImage:function(t,e,r){var n=new Image;return n.onload=e,n.onerror=r,n.src=t,n}},cC=Gs(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(t,e){return t["[object "+e+"]"]=!0,t},{}),fC=Gs(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(t,e){return t["[object "+e+"Array]"]=!0,t},{}),Fl=Object.prototype.toString,Lh=Array.prototype,ZF=Lh.forEach,jF=Lh.filter,Zg=Lh.slice,QF=Lh.map,R_=(function(){}).constructor,yc=R_?R_.prototype:null,jg="__proto__",JF=2311;function hC(){return JF++}function Qg(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];typeof console<"u"&&console.error.apply(console,t)}function qe(t){if(t==null||typeof t!="object")return t;var e=t,r=Fl.call(t);if(r==="[object Array]"){if(!Uu(t)){e=[];for(var n=0,i=t.length;n<i;n++)e[n]=qe(t[n])}}else if(fC[r]){if(!Uu(t)){var a=t.constructor;if(a.from)e=a.from(t);else{e=new a(t.length);for(var n=0,i=t.length;n<i;n++)e[n]=t[n]}}}else if(!cC[r]&&!Uu(t)&&!fl(t)){e={};for(var o in t)t.hasOwnProperty(o)&&o!==jg&&(e[o]=qe(t[o]))}return e}function ct(t,e,r){if(!Le(e)||!Le(t))return r?qe(e):t;for(var n in e)if(e.hasOwnProperty(n)&&n!==jg){var i=t[n],a=e[n];Le(a)&&Le(i)&&!we(a)&&!we(i)&&!fl(a)&&!fl(i)&&!O_(a)&&!O_(i)&&!Uu(a)&&!Uu(i)?ct(i,a,r):(r||!(n in t))&&(t[n]=qe(e[n]))}return t}function ye(t,e){if(Object.assign)Object.assign(t,e);else for(var r in e)e.hasOwnProperty(r)&&r!==jg&&(t[r]=e[r]);return t}function $e(t,e,r){for(var n=yt(e),i=0,a=n.length;i<a;i++){var o=n[i];t[o]==null&&(t[o]=e[o])}return t}function lt(t,e){if(t){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r}return-1}function e5(t,e){var r=t.prototype;function n(){}n.prototype=e.prototype,t.prototype=new n;for(var i in r)r.hasOwnProperty(i)&&(t.prototype[i]=r[i]);t.prototype.constructor=t,t.superClass=e}function ei(t,e,r){if(t="prototype"in t?t.prototype:t,e="prototype"in e?e.prototype:e,Object.getOwnPropertyNames)for(var n=Object.getOwnPropertyNames(e),i=0;i<n.length;i++){var a=n[i];a!=="constructor"&&t[a]==null&&(t[a]=e[a])}else $e(t,e)}function xr(t){return!t||typeof t=="string"?!1:typeof t.length=="number"}function Y(t,e,r){if(t&&e)if(t.forEach&&t.forEach===ZF)t.forEach(e,r);else if(t.length===+t.length)for(var n=0,i=t.length;n<i;n++)e.call(r,t[n],n,t);else for(var a in t)t.hasOwnProperty(a)&&e.call(r,t[a],a,t)}function Me(t,e,r){if(!t)return[];if(!e)return Jg(t);if(t.map&&t.map===QF)return t.map(e,r);for(var n=[],i=0,a=t.length;i<a;i++)n.push(e.call(r,t[i],i,t));return n}function Gs(t,e,r,n){if(t&&e){for(var i=0,a=t.length;i<a;i++)r=e.call(n,r,t[i],i,t);return r}}function Bt(t,e,r){if(!t)return[];if(!e)return Jg(t);if(t.filter&&t.filter===jF)return t.filter(e,r);for(var n=[],i=0,a=t.length;i<a;i++)e.call(r,t[i],i,t)&&n.push(t[i]);return n}function yt(t){if(!t)return[];if(Object.keys)return Object.keys(t);var e=[];for(var r in t)t.hasOwnProperty(r)&&e.push(r);return e}function t5(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return function(){return t.apply(e,r.concat(Zg.call(arguments)))}}var Ct=yc&&ze(yc.bind)?yc.call.bind(yc.bind):t5;function tn(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return function(){return t.apply(this,e.concat(Zg.call(arguments)))}}function we(t){return Array.isArray?Array.isArray(t):Fl.call(t)==="[object Array]"}function ze(t){return typeof t=="function"}function ke(t){return typeof t=="string"}function yp(t){return Fl.call(t)==="[object String]"}function Tt(t){return typeof t=="number"}function Le(t){var e=typeof t;return e==="function"||!!t&&e==="object"}function O_(t){return!!cC[Fl.call(t)]}function Sr(t){return!!fC[Fl.call(t)]}function fl(t){return typeof t=="object"&&typeof t.nodeType=="number"&&typeof t.ownerDocument=="object"}function Ph(t){return t.colorStops!=null}function r5(t){return t.image!=null}function $f(t){return t!==t}function hl(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var r=0,n=t.length;r<n;r++)if(t[r]!=null)return t[r]}function He(t,e){return t??e}function lf(t,e,r){return t??e??r}function Jg(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return Zg.apply(t,e)}function vC(t){if(typeof t=="number")return[t,t,t,t];var e=t.length;return e===2?[t[0],t[1],t[0],t[1]]:e===3?[t[0],t[1],t[2],t[1]]:t}function ki(t,e){if(!t)throw new Error(e)}function Hn(t){return t==null?null:typeof t.trim=="function"?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var dC="__ec_primitive__";function _p(t){t[dC]=!0}function Uu(t){return t[dC]}var n5=function(){function t(){this.data={}}return t.prototype.delete=function(e){var r=this.has(e);return r&&delete this.data[e],r},t.prototype.has=function(e){return this.data.hasOwnProperty(e)},t.prototype.get=function(e){return this.data[e]},t.prototype.set=function(e,r){return this.data[e]=r,this},t.prototype.keys=function(){return yt(this.data)},t.prototype.forEach=function(e){var r=this.data;for(var n in r)r.hasOwnProperty(n)&&e(r[n],n)},t}(),pC=typeof Map=="function";function i5(){return pC?new Map:new n5}var a5=function(){function t(e){var r=we(e);this.data=i5();var n=this;e instanceof t?e.each(i):e&&Y(e,i);function i(a,o){r?n.set(a,o):n.set(o,a)}}return t.prototype.hasKey=function(e){return this.data.has(e)},t.prototype.get=function(e){return this.data.get(e)},t.prototype.set=function(e,r){return this.data.set(e,r),r},t.prototype.each=function(e,r){this.data.forEach(function(n,i){e.call(r,n,i)})},t.prototype.keys=function(){var e=this.data.keys();return pC?Array.from(e):e},t.prototype.removeKey=function(e){this.data.delete(e)},t}();function Be(t){return new a5(t)}function o5(t,e){for(var r=new t.constructor(t.length+e.length),n=0;n<t.length;n++)r[n]=t[n];for(var i=t.length,n=0;n<e.length;n++)r[n+i]=e[n];return r}function Nh(t,e){var r;if(Object.create)r=Object.create(t);else{var n=function(){};n.prototype=t,r=new n}return e&&ye(r,e),r}function gC(t){var e=t.style;e.webkitUserSelect="none",e.userSelect="none",e.webkitTapHighlightColor="rgba(0,0,0,0)",e["-webkit-touch-callout"]="none"}function Is(t,e){return t.hasOwnProperty(e)}function br(){}var s5=180/Math.PI;function Vs(t,e){return t==null&&(t=0),e==null&&(e=0),[t,e]}function u5(t){return[t[0],t[1]]}function F_(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t}function l5(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t}function c5(t){return Math.sqrt(f5(t))}function f5(t){return t[0]*t[0]+t[1]*t[1]}function zv(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t}function h5(t,e){var r=c5(e);return r===0?(t[0]=0,t[1]=0):(t[0]=e[0]/r,t[1]=e[1]/r),t}function wp(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))}var v5=wp;function d5(t,e){return(t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])}var ls=d5;function p5(t,e,r,n){return t[0]=e[0]+n*(r[0]-e[0]),t[1]=e[1]+n*(r[1]-e[1]),t}function rn(t,e,r){var n=e[0],i=e[1];return t[0]=r[0]*n+r[2]*i+r[4],t[1]=r[1]*n+r[3]*i+r[5],t}function rs(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t}function ns(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t}var Fo=function(){function t(e,r){this.target=e,this.topTarget=r&&r.topTarget}return t}(),g5=function(){function t(e){this.handler=e,e.on("mousedown",this._dragStart,this),e.on("mousemove",this._drag,this),e.on("mouseup",this._dragEnd,this)}return t.prototype._dragStart=function(e){for(var r=e.target;r&&!r.draggable;)r=r.parent||r.__hostTarget;r&&(this._draggingTarget=r,r.dragging=!0,this._x=e.offsetX,this._y=e.offsetY,this.handler.dispatchToElement(new Fo(r,e),"dragstart",e.event))},t.prototype._drag=function(e){var r=this._draggingTarget;if(r){var n=e.offsetX,i=e.offsetY,a=n-this._x,o=i-this._y;this._x=n,this._y=i,r.drift(a,o,e),this.handler.dispatchToElement(new Fo(r,e),"drag",e.event);var s=this.handler.findHover(n,i,r).target,l=this._dropTarget;this._dropTarget=s,r!==s&&(l&&s!==l&&this.handler.dispatchToElement(new Fo(l,e),"dragleave",e.event),s&&s!==l&&this.handler.dispatchToElement(new Fo(s,e),"dragenter",e.event))}},t.prototype._dragEnd=function(e){var r=this._draggingTarget;r&&(r.dragging=!1),this.handler.dispatchToElement(new Fo(r,e),"dragend",e.event),this._dropTarget&&this.handler.dispatchToElement(new Fo(this._dropTarget,e),"drop",e.event),this._draggingTarget=null,this._dropTarget=null},t}(),ti=function(){function t(e){e&&(this._$eventProcessor=e)}return t.prototype.on=function(e,r,n,i){this._$handlers||(this._$handlers={});var a=this._$handlers;if(typeof r=="function"&&(i=n,n=r,r=null),!n||!e)return this;var o=this._$eventProcessor;r!=null&&o&&o.normalizeQuery&&(r=o.normalizeQuery(r)),a[e]||(a[e]=[]);for(var s=0;s<a[e].length;s++)if(a[e][s].h===n)return this;var l={h:n,query:r,ctx:i||this,callAtLast:n.zrEventfulCallAtLast},f=a[e].length-1,v=a[e][f];return v&&v.callAtLast?a[e].splice(f,0,l):a[e].push(l),this},t.prototype.isSilent=function(e){var r=this._$handlers;return!r||!r[e]||!r[e].length},t.prototype.off=function(e,r){var n=this._$handlers;if(!n)return this;if(!e)return this._$handlers={},this;if(r){if(n[e]){for(var i=[],a=0,o=n[e].length;a<o;a++)n[e][a].h!==r&&i.push(n[e][a]);n[e]=i}n[e]&&n[e].length===0&&delete n[e]}else delete n[e];return this},t.prototype.trigger=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];if(!this._$handlers)return this;var i=this._$handlers[e],a=this._$eventProcessor;if(i)for(var o=r.length,s=i.length,l=0;l<s;l++){var f=i[l];if(!(a&&a.filter&&f.query!=null&&!a.filter(e,f.query)))switch(o){case 0:f.h.call(f.ctx);break;case 1:f.h.call(f.ctx,r[0]);break;case 2:f.h.call(f.ctx,r[0],r[1]);break;default:f.h.apply(f.ctx,r);break}}return a&&a.afterTrigger&&a.afterTrigger(e),this},t.prototype.triggerWithContext=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];if(!this._$handlers)return this;var i=this._$handlers[e],a=this._$eventProcessor;if(i)for(var o=r.length,s=r[o-1],l=i.length,f=0;f<l;f++){var v=i[f];if(!(a&&a.filter&&v.query!=null&&!a.filter(e,v.query)))switch(o){case 0:v.h.call(s);break;case 1:v.h.call(s,r[0]);break;case 2:v.h.call(s,r[0],r[1]);break;default:v.h.apply(s,r.slice(1,o-1));break}}return a&&a.afterTrigger&&a.afterTrigger(e),this},t}(),m5=Math.log(2);function bp(t,e,r,n,i,a){var o=n+"-"+i,s=t.length;if(a.hasOwnProperty(o))return a[o];if(e===1){var l=Math.round(Math.log((1<<s)-1&~i)/m5);return t[r][l]}for(var f=n|1<<r,v=r+1;n&1<<v;)v++;for(var d=0,g=0,p=0;g<s;g++){var y=1<<g;y&i||(d+=(p%2?-1:1)*t[r][g]*bp(t,e-1,v,f,i|y,a),p++)}return a[o]=d,d}function B_(t,e){var r=[[t[0],t[1],1,0,0,0,-e[0]*t[0],-e[0]*t[1]],[0,0,0,t[0],t[1],1,-e[1]*t[0],-e[1]*t[1]],[t[2],t[3],1,0,0,0,-e[2]*t[2],-e[2]*t[3]],[0,0,0,t[2],t[3],1,-e[3]*t[2],-e[3]*t[3]],[t[4],t[5],1,0,0,0,-e[4]*t[4],-e[4]*t[5]],[0,0,0,t[4],t[5],1,-e[5]*t[4],-e[5]*t[5]],[t[6],t[7],1,0,0,0,-e[6]*t[6],-e[6]*t[7]],[0,0,0,t[6],t[7],1,-e[7]*t[6],-e[7]*t[7]]],n={},i=bp(r,8,0,0,0,n);if(i!==0){for(var a=[],o=0;o<8;o++)for(var s=0;s<8;s++)a[s]==null&&(a[s]=0),a[s]+=((o+s)%2?-1:1)*bp(r,7,o===0?1:0,1<<o,1<<s,n)/i*e[o];return function(l,f,v){var d=f*a[6]+v*a[7]+1;l[0]=(f*a[0]+v*a[1]+a[2])/d,l[1]=(f*a[3]+v*a[4]+a[5])/d}}}var z_="___zrEVENTSAVED",Gv=[];function y5(t,e,r,n,i){return xp(Gv,e,n,i,!0)&&xp(t,r,Gv[0],Gv[1])}function xp(t,e,r,n,i){if(e.getBoundingClientRect&&Oe.domSupported&&!mC(e)){var a=e[z_]||(e[z_]={}),o=_5(e,a),s=w5(o,a,i);if(s)return s(t,r,n),!0}return!1}function _5(t,e){var r=e.markers;if(r)return r;r=e.markers=[];for(var n=["left","right"],i=["top","bottom"],a=0;a<4;a++){var o=document.createElement("div"),s=o.style,l=a%2,f=(a>>1)%2;s.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",n[l]+":0",i[f]+":0",n[1-l]+":auto",i[1-f]+":auto",""].join("!important;"),t.appendChild(o),r.push(o)}return r}function w5(t,e,r){for(var n=r?"invTrans":"trans",i=e[n],a=e.srcCoords,o=[],s=[],l=!0,f=0;f<4;f++){var v=t[f].getBoundingClientRect(),d=2*f,g=v.left,p=v.top;o.push(g,p),l=l&&a&&g===a[d]&&p===a[d+1],s.push(t[f].offsetLeft,t[f].offsetTop)}return l&&i?i:(e.srcCoords=o,e[n]=r?B_(s,o):B_(o,s))}function mC(t){return t.nodeName.toUpperCase()==="CANVAS"}var b5=/([&<>"'])/g,x5={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function hr(t){return t==null?"":(t+"").replace(b5,function(e,r){return x5[r]})}var S5=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Vv=[],C5=Oe.browser.firefox&&+Oe.browser.version.split(".")[0]<39;function Sp(t,e,r,n){return r=r||{},n?G_(t,e,r):C5&&e.layerX!=null&&e.layerX!==e.offsetX?(r.zrX=e.layerX,r.zrY=e.layerY):e.offsetX!=null?(r.zrX=e.offsetX,r.zrY=e.offsetY):G_(t,e,r),r}function G_(t,e,r){if(Oe.domSupported&&t.getBoundingClientRect){var n=e.clientX,i=e.clientY;if(mC(t)){var a=t.getBoundingClientRect();r.zrX=n-a.left,r.zrY=i-a.top;return}else if(xp(Vv,t,n,i)){r.zrX=Vv[0],r.zrY=Vv[1];return}}r.zrX=r.zrY=0}function em(t){return t||window.event}function Xr(t,e,r){if(e=em(e),e.zrX!=null)return e;var n=e.type,i=n&&n.indexOf("touch")>=0;if(i){var o=n!=="touchend"?e.targetTouches[0]:e.changedTouches[0];o&&Sp(t,o,e,r)}else{Sp(t,e,e,r);var a=T5(e);e.zrDelta=a?a/120:-(e.detail||0)/3}var s=e.button;return e.which==null&&s!==void 0&&S5.test(e.type)&&(e.which=s&1?1:s&2?3:s&4?2:0),e}function T5(t){var e=t.wheelDelta;if(e)return e;var r=t.deltaX,n=t.deltaY;if(r==null||n==null)return e;var i=Math.abs(n!==0?n:r),a=n>0?-1:n<0?1:r>0?-1:1;return 3*i*a}function E5(t,e,r,n){t.addEventListener(e,r,n)}function k5(t,e,r,n){t.removeEventListener(e,r,n)}var yC=function(t){t.preventDefault(),t.stopPropagation(),t.cancelBubble=!0},I5=function(){function t(){this._track=[]}return t.prototype.recognize=function(e,r,n){return this._doTrack(e,r,n),this._recognize(e)},t.prototype.clear=function(){return this._track.length=0,this},t.prototype._doTrack=function(e,r,n){var i=e.touches;if(i){for(var a={points:[],touches:[],target:r,event:e},o=0,s=i.length;o<s;o++){var l=i[o],f=Sp(n,l,{});a.points.push([f.zrX,f.zrY]),a.touches.push(l)}this._track.push(a)}},t.prototype._recognize=function(e){for(var r in Hv)if(Hv.hasOwnProperty(r)){var n=Hv[r](this._track,e);if(n)return n}},t}();function V_(t){var e=t[1][0]-t[0][0],r=t[1][1]-t[0][1];return Math.sqrt(e*e+r*r)}function M5(t){return[(t[0][0]+t[1][0])/2,(t[0][1]+t[1][1])/2]}var Hv={pinch:function(t,e){var r=t.length;if(r){var n=(t[r-1]||{}).points,i=(t[r-2]||{}).points||n;if(i&&i.length>1&&n&&n.length>1){var a=V_(n)/V_(i);!isFinite(a)&&(a=1),e.pinchScale=a;var o=M5(n);return e.pinchX=o[0],e.pinchY=o[1],{type:"pinch",target:t[0].target,event:e}}}}};function cs(){return[1,0,0,1,0,0]}function tm(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function L5(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function fs(t,e,r){var n=e[0]*r[0]+e[2]*r[1],i=e[1]*r[0]+e[3]*r[1],a=e[0]*r[2]+e[2]*r[3],o=e[1]*r[2]+e[3]*r[3],s=e[0]*r[4]+e[2]*r[5]+e[4],l=e[1]*r[4]+e[3]*r[5]+e[5];return t[0]=n,t[1]=i,t[2]=a,t[3]=o,t[4]=s,t[5]=l,t}function Cp(t,e,r){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4]+r[0],t[5]=e[5]+r[1],t}function rm(t,e,r,n){n===void 0&&(n=[0,0]);var i=e[0],a=e[2],o=e[4],s=e[1],l=e[3],f=e[5],v=Math.sin(r),d=Math.cos(r);return t[0]=i*d+s*v,t[1]=-i*v+s*d,t[2]=a*d+l*v,t[3]=-a*v+d*l,t[4]=d*(o-n[0])+v*(f-n[1])+n[0],t[5]=d*(f-n[1])-v*(o-n[0])+n[1],t}function P5(t,e,r){var n=r[0],i=r[1];return t[0]=e[0]*n,t[1]=e[1]*i,t[2]=e[2]*n,t[3]=e[3]*i,t[4]=e[4]*n,t[5]=e[5]*i,t}function nm(t,e){var r=e[0],n=e[2],i=e[4],a=e[1],o=e[3],s=e[5],l=r*o-a*n;return l?(l=1/l,t[0]=o*l,t[1]=-a*l,t[2]=-n*l,t[3]=r*l,t[4]=(n*s-o*i)*l,t[5]=(a*i-r*s)*l,t):null}var Ye=function(){function t(e,r){this.x=e||0,this.y=r||0}return t.prototype.copy=function(e){return this.x=e.x,this.y=e.y,this},t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.set=function(e,r){return this.x=e,this.y=r,this},t.prototype.equal=function(e){return e.x===this.x&&e.y===this.y},t.prototype.add=function(e){return this.x+=e.x,this.y+=e.y,this},t.prototype.scale=function(e){this.x*=e,this.y*=e},t.prototype.scaleAndAdd=function(e,r){this.x+=e.x*r,this.y+=e.y*r},t.prototype.sub=function(e){return this.x-=e.x,this.y-=e.y,this},t.prototype.dot=function(e){return this.x*e.x+this.y*e.y},t.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},t.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},t.prototype.normalize=function(){var e=this.len();return this.x/=e,this.y/=e,this},t.prototype.distance=function(e){var r=this.x-e.x,n=this.y-e.y;return Math.sqrt(r*r+n*n)},t.prototype.distanceSquare=function(e){var r=this.x-e.x,n=this.y-e.y;return r*r+n*n},t.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},t.prototype.transform=function(e){if(e){var r=this.x,n=this.y;return this.x=e[0]*r+e[2]*n+e[4],this.y=e[1]*r+e[3]*n+e[5],this}},t.prototype.toArray=function(e){return e[0]=this.x,e[1]=this.y,e},t.prototype.fromArray=function(e){this.x=e[0],this.y=e[1]},t.set=function(e,r,n){e.x=r,e.y=n},t.copy=function(e,r){e.x=r.x,e.y=r.y},t.len=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},t.lenSquare=function(e){return e.x*e.x+e.y*e.y},t.dot=function(e,r){return e.x*r.x+e.y*r.y},t.add=function(e,r,n){e.x=r.x+n.x,e.y=r.y+n.y},t.sub=function(e,r,n){e.x=r.x-n.x,e.y=r.y-n.y},t.scale=function(e,r,n){e.x=r.x*n,e.y=r.y*n},t.scaleAndAdd=function(e,r,n,i){e.x=r.x+n.x*i,e.y=r.y+n.y*i},t.lerp=function(e,r,n,i){var a=1-i;e.x=a*r.x+i*n.x,e.y=a*r.y+i*n.y},t}(),_c=Math.min,wc=Math.max,La=new Ye,Pa=new Ye,Na=new Ye,Aa=new Ye,hu=new Ye,vu=new Ye,Je=function(){function t(e,r,n,i){n<0&&(e=e+n,n=-n),i<0&&(r=r+i,i=-i),this.x=e,this.y=r,this.width=n,this.height=i}return t.prototype.union=function(e){var r=_c(e.x,this.x),n=_c(e.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=wc(e.x+e.width,this.x+this.width)-r:this.width=e.width,isFinite(this.y)&&isFinite(this.height)?this.height=wc(e.y+e.height,this.y+this.height)-n:this.height=e.height,this.x=r,this.y=n},t.prototype.applyTransform=function(e){t.applyTransform(this,this,e)},t.prototype.calculateTransform=function(e){var r=this,n=e.width/r.width,i=e.height/r.height,a=cs();return Cp(a,a,[-r.x,-r.y]),P5(a,a,[n,i]),Cp(a,a,[e.x,e.y]),a},t.prototype.intersect=function(e,r){if(!e)return!1;e instanceof t||(e=t.create(e));var n=this,i=n.x,a=n.x+n.width,o=n.y,s=n.y+n.height,l=e.x,f=e.x+e.width,v=e.y,d=e.y+e.height,g=!(a<l||f<i||s<v||d<o);if(r){var p=1/0,y=0,w=Math.abs(a-l),b=Math.abs(f-i),x=Math.abs(s-v),C=Math.abs(d-o),T=Math.min(w,b),k=Math.min(x,C);a<l||f<i?T>y&&(y=T,w<b?Ye.set(vu,-w,0):Ye.set(vu,b,0)):T<p&&(p=T,w<b?Ye.set(hu,w,0):Ye.set(hu,-b,0)),s<v||d<o?k>y&&(y=k,x<C?Ye.set(vu,0,-x):Ye.set(vu,0,C)):T<p&&(p=T,x<C?Ye.set(hu,0,x):Ye.set(hu,0,-C))}return r&&Ye.copy(r,g?hu:vu),g},t.prototype.contain=function(e,r){var n=this;return e>=n.x&&e<=n.x+n.width&&r>=n.y&&r<=n.y+n.height},t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.copy=function(e){t.copy(this,e)},t.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},t.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},t.prototype.isZero=function(){return this.width===0||this.height===0},t.create=function(e){return new t(e.x,e.y,e.width,e.height)},t.copy=function(e,r){e.x=r.x,e.y=r.y,e.width=r.width,e.height=r.height},t.applyTransform=function(e,r,n){if(!n){e!==r&&t.copy(e,r);return}if(n[1]<1e-5&&n[1]>-1e-5&&n[2]<1e-5&&n[2]>-1e-5){var i=n[0],a=n[3],o=n[4],s=n[5];e.x=r.x*i+o,e.y=r.y*a+s,e.width=r.width*i,e.height=r.height*a,e.width<0&&(e.x+=e.width,e.width=-e.width),e.height<0&&(e.y+=e.height,e.height=-e.height);return}La.x=Na.x=r.x,La.y=Aa.y=r.y,Pa.x=Aa.x=r.x+r.width,Pa.y=Na.y=r.y+r.height,La.transform(n),Aa.transform(n),Pa.transform(n),Na.transform(n),e.x=_c(La.x,Pa.x,Na.x,Aa.x),e.y=_c(La.y,Pa.y,Na.y,Aa.y);var l=wc(La.x,Pa.x,Na.x,Aa.x),f=wc(La.y,Pa.y,Na.y,Aa.y);e.width=l-e.x,e.height=f-e.y},t}(),_C="silent";function N5(t,e,r){return{type:t,event:r,target:e.target,topTarget:e.topTarget,cancelBubble:!1,offsetX:r.zrX,offsetY:r.zrY,gestureEvent:r.gestureEvent,pinchX:r.pinchX,pinchY:r.pinchY,pinchScale:r.pinchScale,wheelDelta:r.zrDelta,zrByTouch:r.zrByTouch,which:r.which,stop:A5}}function A5(){yC(this.event)}var D5=function(t){xe(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.handler=null,r}return e.prototype.dispose=function(){},e.prototype.setCursor=function(){},e}(ti),du=function(){function t(e,r){this.x=e,this.y=r}return t}(),R5=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],$v=new Je(0,0,0,0),wC=function(t){xe(e,t);function e(r,n,i,a,o){var s=t.call(this)||this;return s._hovered=new du(0,0),s.storage=r,s.painter=n,s.painterRoot=a,s._pointerSize=o,i=i||new D5,s.proxy=null,s.setHandlerProxy(i),s._draggingMgr=new g5(s),s}return e.prototype.setHandlerProxy=function(r){this.proxy&&this.proxy.dispose(),r&&(Y(R5,function(n){r.on&&r.on(n,this[n],this)},this),r.handler=this),this.proxy=r},e.prototype.mousemove=function(r){var n=r.zrX,i=r.zrY,a=bC(this,n,i),o=this._hovered,s=o.target;s&&!s.__zr&&(o=this.findHover(o.x,o.y),s=o.target);var l=this._hovered=a?new du(n,i):this.findHover(n,i),f=l.target,v=this.proxy;v.setCursor&&v.setCursor(f?f.cursor:"default"),s&&f!==s&&this.dispatchToElement(o,"mouseout",r),this.dispatchToElement(l,"mousemove",r),f&&f!==s&&this.dispatchToElement(l,"mouseover",r)},e.prototype.mouseout=function(r){var n=r.zrEventControl;n!=="only_globalout"&&this.dispatchToElement(this._hovered,"mouseout",r),n!=="no_globalout"&&this.trigger("globalout",{type:"globalout",event:r})},e.prototype.resize=function(){this._hovered=new du(0,0)},e.prototype.dispatch=function(r,n){var i=this[r];i&&i.call(this,n)},e.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},e.prototype.setCursorStyle=function(r){var n=this.proxy;n.setCursor&&n.setCursor(r)},e.prototype.dispatchToElement=function(r,n,i){r=r||{};var a=r.target;if(!(a&&a.silent)){for(var o="on"+n,s=N5(n,r,i);a&&(a[o]&&(s.cancelBubble=!!a[o].call(a,s)),a.trigger(n,s),a=a.__hostTarget?a.__hostTarget:a.parent,!s.cancelBubble););s.cancelBubble||(this.trigger(n,s),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(l){typeof l[o]=="function"&&l[o].call(l,s),l.trigger&&l.trigger(n,s)}))}},e.prototype.findHover=function(r,n,i){var a=this.storage.getDisplayList(),o=new du(r,n);if(H_(a,o,r,n,i),this._pointerSize&&!o.target){for(var s=[],l=this._pointerSize,f=l/2,v=new Je(r-f,n-f,l,l),d=a.length-1;d>=0;d--){var g=a[d];g!==i&&!g.ignore&&!g.ignoreCoarsePointer&&(!g.parent||!g.parent.ignoreCoarsePointer)&&($v.copy(g.getBoundingRect()),g.transform&&$v.applyTransform(g.transform),$v.intersect(v)&&s.push(g))}if(s.length)for(var p=4,y=Math.PI/12,w=Math.PI*2,b=0;b<f;b+=p)for(var x=0;x<w;x+=y){var C=r+b*Math.cos(x),T=n+b*Math.sin(x);if(H_(s,o,C,T,i),o.target)return o}}return o},e.prototype.processGesture=function(r,n){this._gestureMgr||(this._gestureMgr=new I5);var i=this._gestureMgr;n==="start"&&i.clear();var a=i.recognize(r,this.findHover(r.zrX,r.zrY,null).target,this.proxy.dom);if(n==="end"&&i.clear(),a){var o=a.type;r.gestureEvent=o;var s=new du;s.target=a.target,this.dispatchToElement(s,o,a.event)}},e}(ti);Y(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(t){wC.prototype[t]=function(e){var r=e.zrX,n=e.zrY,i=bC(this,r,n),a,o;if((t!=="mouseup"||!i)&&(a=this.findHover(r,n),o=a.target),t==="mousedown")this._downEl=o,this._downPoint=[e.zrX,e.zrY],this._upEl=o;else if(t==="mouseup")this._upEl=o;else if(t==="click"){if(this._downEl!==this._upEl||!this._downPoint||v5(this._downPoint,[e.zrX,e.zrY])>4)return;this._downPoint=null}this.dispatchToElement(a,t,e)}});function O5(t,e,r){if(t[t.rectHover?"rectContain":"contain"](e,r)){for(var n=t,i=void 0,a=!1;n;){if(n.ignoreClip&&(a=!0),!a){var o=n.getClipPath();if(o&&!o.contain(e,r))return!1}n.silent&&(i=!0);var s=n.__hostTarget;n=s||n.parent}return i?_C:!0}return!1}function H_(t,e,r,n,i){for(var a=t.length-1;a>=0;a--){var o=t[a],s=void 0;if(o!==i&&!o.ignore&&(s=O5(o,r,n))&&(!e.topTarget&&(e.topTarget=o),s!==_C)){e.target=o;break}}}function bC(t,e,r){var n=t.painter;return e<0||e>n.getWidth()||r<0||r>n.getHeight()}var xC=32,pu=7;function F5(t){for(var e=0;t>=xC;)e|=t&1,t>>=1;return t+e}function $_(t,e,r,n){var i=e+1;if(i===r)return 1;if(n(t[i++],t[e])<0){for(;i<r&&n(t[i],t[i-1])<0;)i++;B5(t,e,i)}else for(;i<r&&n(t[i],t[i-1])>=0;)i++;return i-e}function B5(t,e,r){for(r--;e<r;){var n=t[e];t[e++]=t[r],t[r--]=n}}function U_(t,e,r,n,i){for(n===e&&n++;n<r;n++){for(var a=t[n],o=e,s=n,l;o<s;)l=o+s>>>1,i(a,t[l])<0?s=l:o=l+1;var f=n-o;switch(f){case 3:t[o+3]=t[o+2];case 2:t[o+2]=t[o+1];case 1:t[o+1]=t[o];break;default:for(;f>0;)t[o+f]=t[o+f-1],f--}t[o]=a}}function Uv(t,e,r,n,i,a){var o=0,s=0,l=1;if(a(t,e[r+i])>0){for(s=n-i;l<s&&a(t,e[r+i+l])>0;)o=l,l=(l<<1)+1,l<=0&&(l=s);l>s&&(l=s),o+=i,l+=i}else{for(s=i+1;l<s&&a(t,e[r+i-l])<=0;)o=l,l=(l<<1)+1,l<=0&&(l=s);l>s&&(l=s);var f=o;o=i-l,l=i-f}for(o++;o<l;){var v=o+(l-o>>>1);a(t,e[r+v])>0?o=v+1:l=v}return l}function Yv(t,e,r,n,i,a){var o=0,s=0,l=1;if(a(t,e[r+i])<0){for(s=i+1;l<s&&a(t,e[r+i-l])<0;)o=l,l=(l<<1)+1,l<=0&&(l=s);l>s&&(l=s);var f=o;o=i-l,l=i-f}else{for(s=n-i;l<s&&a(t,e[r+i+l])>=0;)o=l,l=(l<<1)+1,l<=0&&(l=s);l>s&&(l=s),o+=i,l+=i}for(o++;o<l;){var v=o+(l-o>>>1);a(t,e[r+v])<0?l=v:o=v+1}return l}function z5(t,e){var r=pu,n,i,a=0,o=[];n=[],i=[];function s(p,y){n[a]=p,i[a]=y,a+=1}function l(){for(;a>1;){var p=a-2;if(p>=1&&i[p-1]<=i[p]+i[p+1]||p>=2&&i[p-2]<=i[p]+i[p-1])i[p-1]<i[p+1]&&p--;else if(i[p]>i[p+1])break;v(p)}}function f(){for(;a>1;){var p=a-2;p>0&&i[p-1]<i[p+1]&&p--,v(p)}}function v(p){var y=n[p],w=i[p],b=n[p+1],x=i[p+1];i[p]=w+x,p===a-3&&(n[p+1]=n[p+2],i[p+1]=i[p+2]),a--;var C=Yv(t[b],t,y,w,0,e);y+=C,w-=C,w!==0&&(x=Uv(t[y+w-1],t,b,x,x-1,e),x!==0&&(w<=x?d(y,w,b,x):g(y,w,b,x)))}function d(p,y,w,b){var x=0;for(x=0;x<y;x++)o[x]=t[p+x];var C=0,T=w,k=p;if(t[k++]=t[T++],--b===0){for(x=0;x<y;x++)t[k+x]=o[C+x];return}if(y===1){for(x=0;x<b;x++)t[k+x]=t[T+x];t[k+b]=o[C];return}for(var L=r,M,N,R;;){M=0,N=0,R=!1;do if(e(t[T],o[C])<0){if(t[k++]=t[T++],N++,M=0,--b===0){R=!0;break}}else if(t[k++]=o[C++],M++,N=0,--y===1){R=!0;break}while((M|N)<L);if(R)break;do{if(M=Yv(t[T],o,C,y,0,e),M!==0){for(x=0;x<M;x++)t[k+x]=o[C+x];if(k+=M,C+=M,y-=M,y<=1){R=!0;break}}if(t[k++]=t[T++],--b===0){R=!0;break}if(N=Uv(o[C],t,T,b,0,e),N!==0){for(x=0;x<N;x++)t[k+x]=t[T+x];if(k+=N,T+=N,b-=N,b===0){R=!0;break}}if(t[k++]=o[C++],--y===1){R=!0;break}L--}while(M>=pu||N>=pu);if(R)break;L<0&&(L=0),L+=2}if(r=L,r<1&&(r=1),y===1){for(x=0;x<b;x++)t[k+x]=t[T+x];t[k+b]=o[C]}else{if(y===0)throw new Error;for(x=0;x<y;x++)t[k+x]=o[C+x]}}function g(p,y,w,b){var x=0;for(x=0;x<b;x++)o[x]=t[w+x];var C=p+y-1,T=b-1,k=w+b-1,L=0,M=0;if(t[k--]=t[C--],--y===0){for(L=k-(b-1),x=0;x<b;x++)t[L+x]=o[x];return}if(b===1){for(k-=y,C-=y,M=k+1,L=C+1,x=y-1;x>=0;x--)t[M+x]=t[L+x];t[k]=o[T];return}for(var N=r;;){var R=0,D=0,F=!1;do if(e(o[T],t[C])<0){if(t[k--]=t[C--],R++,D=0,--y===0){F=!0;break}}else if(t[k--]=o[T--],D++,R=0,--b===1){F=!0;break}while((R|D)<N);if(F)break;do{if(R=y-Yv(o[T],t,p,y,y-1,e),R!==0){for(k-=R,C-=R,y-=R,M=k+1,L=C+1,x=R-1;x>=0;x--)t[M+x]=t[L+x];if(y===0){F=!0;break}}if(t[k--]=o[T--],--b===1){F=!0;break}if(D=b-Uv(t[C],o,0,b,b-1,e),D!==0){for(k-=D,T-=D,b-=D,M=k+1,L=T+1,x=0;x<D;x++)t[M+x]=o[L+x];if(b<=1){F=!0;break}}if(t[k--]=t[C--],--y===0){F=!0;break}N--}while(R>=pu||D>=pu);if(F)break;N<0&&(N=0),N+=2}if(r=N,r<1&&(r=1),b===1){for(k-=y,C-=y,M=k+1,L=C+1,x=y-1;x>=0;x--)t[M+x]=t[L+x];t[k]=o[T]}else{if(b===0)throw new Error;for(L=k-(b-1),x=0;x<b;x++)t[L+x]=o[x]}}return{mergeRuns:l,forceMergeRuns:f,pushRun:s}}function cf(t,e,r,n){r||(r=0),n||(n=t.length);var i=n-r;if(!(i<2)){var a=0;if(i<xC){a=$_(t,r,n,e),U_(t,r,n,r+a,e);return}var o=z5(t,e),s=F5(i);do{if(a=$_(t,r,n,e),a<s){var l=i;l>s&&(l=s),U_(t,r,r+l,r+a,e),a=l}o.pushRun(r,a),o.mergeRuns(),i-=a,r+=a}while(i!==0);o.forceMergeRuns()}}var Wn=1,ff=2,Au=4,Y_=!1;function qv(){Y_||(Y_=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function q_(t,e){return t.zlevel===e.zlevel?t.z===e.z?t.z2-e.z2:t.z-e.z:t.zlevel-e.zlevel}var G5=function(){function t(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=q_}return t.prototype.traverse=function(e,r){for(var n=0;n<this._roots.length;n++)this._roots[n].traverse(e,r)},t.prototype.getDisplayList=function(e,r){r=r||!1;var n=this._displayList;return(e||!n.length)&&this.updateDisplayList(r),n},t.prototype.updateDisplayList=function(e){this._displayListLen=0;for(var r=this._roots,n=this._displayList,i=0,a=r.length;i<a;i++)this._updateAndAddDisplayable(r[i],null,e);n.length=this._displayListLen,cf(n,q_)},t.prototype._updateAndAddDisplayable=function(e,r,n){if(!(e.ignore&&!n)){e.beforeUpdate(),e.update(),e.afterUpdate();var i=e.getClipPath();if(e.ignoreClip)r=null;else if(i){r?r=r.slice():r=[];for(var a=i,o=e;a;)a.parent=o,a.updateTransform(),r.push(a),o=a,a=a.getClipPath()}if(e.childrenRef){for(var s=e.childrenRef(),l=0;l<s.length;l++){var f=s[l];e.__dirty&&(f.__dirty|=Wn),this._updateAndAddDisplayable(f,r,n)}e.__dirty=0}else{var v=e;r&&r.length?v.__clipPaths=r:v.__clipPaths&&v.__clipPaths.length>0&&(v.__clipPaths=[]),isNaN(v.z)&&(qv(),v.z=0),isNaN(v.z2)&&(qv(),v.z2=0),isNaN(v.zlevel)&&(qv(),v.zlevel=0),this._displayList[this._displayListLen++]=v}var d=e.getDecalElement&&e.getDecalElement();d&&this._updateAndAddDisplayable(d,r,n);var g=e.getTextGuideLine();g&&this._updateAndAddDisplayable(g,r,n);var p=e.getTextContent();p&&this._updateAndAddDisplayable(p,r,n)}},t.prototype.addRoot=function(e){e.__zr&&e.__zr.storage===this||this._roots.push(e)},t.prototype.delRoot=function(e){if(e instanceof Array){for(var r=0,n=e.length;r<n;r++)this.delRoot(e[r]);return}var i=lt(this._roots,e);i>=0&&this._roots.splice(i,1)},t.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},t.prototype.getRoots=function(){return this._roots},t.prototype.dispose=function(){this._displayList=null,this._roots=null},t}(),Uf;Uf=Oe.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(t){return setTimeout(t,16)};var Yu={linear:function(t){return t},quadraticIn:function(t){return t*t},quadraticOut:function(t){return t*(2-t)},quadraticInOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)},cubicIn:function(t){return t*t*t},cubicOut:function(t){return--t*t*t+1},cubicInOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},quarticIn:function(t){return t*t*t*t},quarticOut:function(t){return 1- --t*t*t*t},quarticInOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},quinticIn:function(t){return t*t*t*t*t},quinticOut:function(t){return--t*t*t*t*t+1},quinticInOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},sinusoidalIn:function(t){return 1-Math.cos(t*Math.PI/2)},sinusoidalOut:function(t){return Math.sin(t*Math.PI/2)},sinusoidalInOut:function(t){return .5*(1-Math.cos(Math.PI*t))},exponentialIn:function(t){return t===0?0:Math.pow(1024,t-1)},exponentialOut:function(t){return t===1?1:1-Math.pow(2,-10*t)},exponentialInOut:function(t){return t===0?0:t===1?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(-Math.pow(2,-10*(t-1))+2)},circularIn:function(t){return 1-Math.sqrt(1-t*t)},circularOut:function(t){return Math.sqrt(1- --t*t)},circularInOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},elasticIn:function(t){var e,r=.1,n=.4;return t===0?0:t===1?1:(!r||r<1?(r=1,e=n/4):e=n*Math.asin(1/r)/(2*Math.PI),-(r*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/n)))},elasticOut:function(t){var e,r=.1,n=.4;return t===0?0:t===1?1:(!r||r<1?(r=1,e=n/4):e=n*Math.asin(1/r)/(2*Math.PI),r*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/n)+1)},elasticInOut:function(t){var e,r=.1,n=.4;return t===0?0:t===1?1:(!r||r<1?(r=1,e=n/4):e=n*Math.asin(1/r)/(2*Math.PI),(t*=2)<1?-.5*(r*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/n)):r*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/n)*.5+1)},backIn:function(t){var e=1.70158;return t*t*((e+1)*t-e)},backOut:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},backInOut:function(t){var e=2.5949095;return(t*=2)<1?.5*(t*t*((e+1)*t-e)):.5*((t-=2)*t*((e+1)*t+e)+2)},bounceIn:function(t){return 1-Yu.bounceOut(1-t)},bounceOut:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},bounceInOut:function(t){return t<.5?Yu.bounceIn(t*2)*.5:Yu.bounceOut(t*2-1)*.5+.5}},bc=Math.pow,ra=Math.sqrt,SC=1e-8,CC=1e-4,W_=ra(3),xc=1/3,zn=Vs(),jr=Vs(),hs=Vs();function Ji(t){return t>-1e-8&&t<SC}function TC(t){return t>SC||t<-1e-8}function Ht(t,e,r,n,i){var a=1-i;return a*a*(a*t+3*i*e)+i*i*(i*n+3*a*r)}function X_(t,e,r,n,i){var a=1-i;return 3*(((e-t)*a+2*(r-e)*i)*a+(n-r)*i*i)}function Yf(t,e,r,n,i,a){var o=n+3*(e-r)-t,s=3*(r-e*2+t),l=3*(e-t),f=t-i,v=s*s-3*o*l,d=s*l-9*o*f,g=l*l-3*s*f,p=0;if(Ji(v)&&Ji(d))if(Ji(s))a[0]=0;else{var y=-l/s;y>=0&&y<=1&&(a[p++]=y)}else{var w=d*d-4*v*g;if(Ji(w)){var b=d/v,y=-s/o+b,x=-b/2;y>=0&&y<=1&&(a[p++]=y),x>=0&&x<=1&&(a[p++]=x)}else if(w>0){var C=ra(w),T=v*s+1.5*o*(-d+C),k=v*s+1.5*o*(-d-C);T<0?T=-bc(-T,xc):T=bc(T,xc),k<0?k=-bc(-k,xc):k=bc(k,xc);var y=(-s-(T+k))/(3*o);y>=0&&y<=1&&(a[p++]=y)}else{var L=(2*v*s-3*o*d)/(2*ra(v*v*v)),M=Math.acos(L)/3,N=ra(v),R=Math.cos(M),y=(-s-2*N*R)/(3*o),x=(-s+N*(R+W_*Math.sin(M)))/(3*o),D=(-s+N*(R-W_*Math.sin(M)))/(3*o);y>=0&&y<=1&&(a[p++]=y),x>=0&&x<=1&&(a[p++]=x),D>=0&&D<=1&&(a[p++]=D)}}return p}function EC(t,e,r,n,i){var a=6*r-12*e+6*t,o=9*e+3*n-3*t-9*r,s=3*e-3*t,l=0;if(Ji(o)){if(TC(a)){var f=-s/a;f>=0&&f<=1&&(i[l++]=f)}}else{var v=a*a-4*o*s;if(Ji(v))i[0]=-a/(2*o);else if(v>0){var d=ra(v),f=(-a+d)/(2*o),g=(-a-d)/(2*o);f>=0&&f<=1&&(i[l++]=f),g>=0&&g<=1&&(i[l++]=g)}}return l}function fa(t,e,r,n,i,a){var o=(e-t)*i+t,s=(r-e)*i+e,l=(n-r)*i+r,f=(s-o)*i+o,v=(l-s)*i+s,d=(v-f)*i+f;a[0]=t,a[1]=o,a[2]=f,a[3]=d,a[4]=d,a[5]=v,a[6]=l,a[7]=n}function V5(t,e,r,n,i,a,o,s,l,f,v){var d,g=.005,p=1/0,y,w,b,x;zn[0]=l,zn[1]=f;for(var C=0;C<1;C+=.05)jr[0]=Ht(t,r,i,o,C),jr[1]=Ht(e,n,a,s,C),b=ls(zn,jr),b<p&&(d=C,p=b);p=1/0;for(var T=0;T<32&&!(g<CC);T++)y=d-g,w=d+g,jr[0]=Ht(t,r,i,o,y),jr[1]=Ht(e,n,a,s,y),b=ls(jr,zn),y>=0&&b<p?(d=y,p=b):(hs[0]=Ht(t,r,i,o,w),hs[1]=Ht(e,n,a,s,w),x=ls(hs,zn),w<=1&&x<p?(d=w,p=x):g*=.5);return ra(p)}function H5(t,e,r,n,i,a,o,s,l){for(var f=t,v=e,d=0,g=1/l,p=1;p<=l;p++){var y=p*g,w=Ht(t,r,i,o,y),b=Ht(e,n,a,s,y),x=w-f,C=b-v;d+=Math.sqrt(x*x+C*C),f=w,v=b}return d}function vr(t,e,r,n){var i=1-n;return i*(i*t+2*n*e)+n*n*r}function K_(t,e,r,n){return 2*((1-n)*(e-t)+n*(r-e))}function $5(t,e,r,n,i){var a=t-2*e+r,o=2*(e-t),s=t-n,l=0;if(Ji(a)){if(TC(o)){var f=-s/o;f>=0&&f<=1&&(i[l++]=f)}}else{var v=o*o-4*a*s;if(Ji(v)){var f=-o/(2*a);f>=0&&f<=1&&(i[l++]=f)}else if(v>0){var d=ra(v),f=(-o+d)/(2*a),g=(-o-d)/(2*a);f>=0&&f<=1&&(i[l++]=f),g>=0&&g<=1&&(i[l++]=g)}}return l}function kC(t,e,r){var n=t+r-2*e;return n===0?.5:(t-e)/n}function qf(t,e,r,n,i){var a=(e-t)*n+t,o=(r-e)*n+e,s=(o-a)*n+a;i[0]=t,i[1]=a,i[2]=s,i[3]=s,i[4]=o,i[5]=r}function U5(t,e,r,n,i,a,o,s,l){var f,v=.005,d=1/0;zn[0]=o,zn[1]=s;for(var g=0;g<1;g+=.05){jr[0]=vr(t,r,i,g),jr[1]=vr(e,n,a,g);var p=ls(zn,jr);p<d&&(f=g,d=p)}d=1/0;for(var y=0;y<32&&!(v<CC);y++){var w=f-v,b=f+v;jr[0]=vr(t,r,i,w),jr[1]=vr(e,n,a,w);var p=ls(jr,zn);if(w>=0&&p<d)f=w,d=p;else{hs[0]=vr(t,r,i,b),hs[1]=vr(e,n,a,b);var x=ls(hs,zn);b<=1&&x<d?(f=b,d=x):v*=.5}}return ra(d)}function Y5(t,e,r,n,i,a,o){for(var s=t,l=e,f=0,v=1/o,d=1;d<=o;d++){var g=d*v,p=vr(t,r,i,g),y=vr(e,n,a,g),w=p-s,b=y-l;f+=Math.sqrt(w*w+b*b),s=p,l=y}return f}var q5=/cubic-bezier\(([0-9,\.e ]+)\)/;function IC(t){var e=t&&q5.exec(t);if(e){var r=e[1].split(","),n=+Hn(r[0]),i=+Hn(r[1]),a=+Hn(r[2]),o=+Hn(r[3]);if(isNaN(n+i+a+o))return;var s=[];return function(l){return l<=0?0:l>=1?1:Yf(0,n,a,1,l,s)&&Ht(0,i,o,1,s[0])}}}var W5=function(){function t(e){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=e.life||1e3,this._delay=e.delay||0,this.loop=e.loop||!1,this.onframe=e.onframe||br,this.ondestroy=e.ondestroy||br,this.onrestart=e.onrestart||br,e.easing&&this.setEasing(e.easing)}return t.prototype.step=function(e,r){if(this._inited||(this._startTime=e+this._delay,this._inited=!0),this._paused){this._pausedTime+=r;return}var n=this._life,i=e-this._startTime-this._pausedTime,a=i/n;a<0&&(a=0),a=Math.min(a,1);var o=this.easingFunc,s=o?o(a):a;if(this.onframe(s),a===1)if(this.loop){var l=i%n;this._startTime=e-l,this._pausedTime=0,this.onrestart()}else return!0;return!1},t.prototype.pause=function(){this._paused=!0},t.prototype.resume=function(){this._paused=!1},t.prototype.setEasing=function(e){this.easing=e,this.easingFunc=ze(e)?e:Yu[e]||IC(e)},t}(),MC=function(){function t(e){this.value=e}return t}(),X5=function(){function t(){this._len=0}return t.prototype.insert=function(e){var r=new MC(e);return this.insertEntry(r),r},t.prototype.insertEntry=function(e){this.head?(this.tail.next=e,e.prev=this.tail,e.next=null,this.tail=e):this.head=this.tail=e,this._len++},t.prototype.remove=function(e){var r=e.prev,n=e.next;r?r.next=n:this.head=n,n?n.prev=r:this.tail=r,e.next=e.prev=null,this._len--},t.prototype.len=function(){return this._len},t.prototype.clear=function(){this.head=this.tail=null,this._len=0},t}(),Bl=function(){function t(e){this._list=new X5,this._maxSize=10,this._map={},this._maxSize=e}return t.prototype.put=function(e,r){var n=this._list,i=this._map,a=null;if(i[e]==null){var o=n.len(),s=this._lastRemovedEntry;if(o>=this._maxSize&&o>0){var l=n.head;n.remove(l),delete i[l.key],a=l.value,this._lastRemovedEntry=l}s?s.value=r:s=new MC(r),s.key=e,n.insertEntry(s),i[e]=s}return a},t.prototype.get=function(e){var r=this._map[e],n=this._list;if(r!=null)return r!==n.tail&&(n.remove(r),n.insertEntry(r)),r.value},t.prototype.clear=function(){this._list.clear(),this._map={}},t.prototype.len=function(){return this._list.len()},t}(),Z_={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function na(t){return t=Math.round(t),t<0?0:t>255?255:t}function Tp(t){return t<0?0:t>1?1:t}function Wv(t){var e=t;return e.length&&e.charAt(e.length-1)==="%"?na(parseFloat(e)/100*255):na(parseInt(e,10))}function qu(t){var e=t;return e.length&&e.charAt(e.length-1)==="%"?Tp(parseFloat(e)/100):Tp(parseFloat(e))}function Xv(t,e,r){return r<0?r+=1:r>1&&(r-=1),r*6<1?t+(e-t)*r*6:r*2<1?e:r*3<2?t+(e-t)*(2/3-r)*6:t}function Sc(t,e,r){return t+(e-t)*r}function Yr(t,e,r,n,i){return t[0]=e,t[1]=r,t[2]=n,t[3]=i,t}function Ep(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}var LC=new Bl(20),Cc=null;function Bo(t,e){Cc&&Ep(Cc,e),Cc=LC.put(t,Cc||e.slice())}function ia(t,e){if(t){e=e||[];var r=LC.get(t);if(r)return Ep(e,r);t=t+"";var n=t.replace(/ /g,"").toLowerCase();if(n in Z_)return Ep(e,Z_[n]),Bo(t,e),e;var i=n.length;if(n.charAt(0)==="#"){if(i===4||i===5){var a=parseInt(n.slice(1,4),16);if(!(a>=0&&a<=4095)){Yr(e,0,0,0,1);return}return Yr(e,(a&3840)>>4|(a&3840)>>8,a&240|(a&240)>>4,a&15|(a&15)<<4,i===5?parseInt(n.slice(4),16)/15:1),Bo(t,e),e}else if(i===7||i===9){var a=parseInt(n.slice(1,7),16);if(!(a>=0&&a<=16777215)){Yr(e,0,0,0,1);return}return Yr(e,(a&16711680)>>16,(a&65280)>>8,a&255,i===9?parseInt(n.slice(7),16)/255:1),Bo(t,e),e}return}var o=n.indexOf("("),s=n.indexOf(")");if(o!==-1&&s+1===i){var l=n.substr(0,o),f=n.substr(o+1,s-(o+1)).split(","),v=1;switch(l){case"rgba":if(f.length!==4)return f.length===3?Yr(e,+f[0],+f[1],+f[2],1):Yr(e,0,0,0,1);v=qu(f.pop());case"rgb":if(f.length>=3)return Yr(e,Wv(f[0]),Wv(f[1]),Wv(f[2]),f.length===3?v:qu(f[3])),Bo(t,e),e;Yr(e,0,0,0,1);return;case"hsla":if(f.length!==4){Yr(e,0,0,0,1);return}return f[3]=qu(f[3]),j_(f,e),Bo(t,e),e;case"hsl":if(f.length!==3){Yr(e,0,0,0,1);return}return j_(f,e),Bo(t,e),e;default:return}}Yr(e,0,0,0,1)}}function j_(t,e){var r=(parseFloat(t[0])%360+360)%360/360,n=qu(t[1]),i=qu(t[2]),a=i<=.5?i*(n+1):i+n-i*n,o=i*2-a;return e=e||[],Yr(e,na(Xv(o,a,r+1/3)*255),na(Xv(o,a,r)*255),na(Xv(o,a,r-1/3)*255),1),t.length===4&&(e[3]=t[3]),e}function Q_(t,e){var r=ia(t);if(r){for(var n=0;n<3;n++)r[n]=r[n]*(1-e)|0,r[n]>255?r[n]=255:r[n]<0&&(r[n]=0);return im(r,r.length===4?"rgba":"rgb")}}function K5(t,e,r){if(!(!(e&&e.length)||!(t>=0&&t<=1))){var n=t*(e.length-1),i=Math.floor(n),a=Math.ceil(n),o=ia(e[i]),s=ia(e[a]),l=n-i,f=im([na(Sc(o[0],s[0],l)),na(Sc(o[1],s[1],l)),na(Sc(o[2],s[2],l)),Tp(Sc(o[3],s[3],l))],"rgba");return r?{color:f,leftIndex:i,rightIndex:a,value:n}:f}}function im(t,e){if(!(!t||!t.length)){var r=t[0]+","+t[1]+","+t[2];return(e==="rgba"||e==="hsva"||e==="hsla")&&(r+=","+t[3]),e+"("+r+")"}}function Wf(t,e){var r=ia(t);return r?(.299*r[0]+.587*r[1]+.114*r[2])*r[3]/255+(1-r[3])*e:0}var J_=new Bl(100);function e1(t){if(ke(t)){var e=J_.get(t);return e||(e=Q_(t,-.1),J_.put(t,e)),e}else if(Ph(t)){var r=ye({},t);return r.colorStops=Me(t.colorStops,function(n){return{offset:n.offset,color:Q_(n.color,-.1)}}),r}return t}function Z5(t){return t.type==="linear"}function j5(t){return t.type==="radial"}(function(){return Oe.hasGlobalWindow&&ze(window.btoa)?function(t){return window.btoa(unescape(encodeURIComponent(t)))}:typeof Buffer<"u"?function(t){return Buffer.from(t).toString("base64")}:function(t){return null}})();var kp=Array.prototype.slice;function di(t,e,r){return(e-t)*r+t}function Kv(t,e,r,n){for(var i=e.length,a=0;a<i;a++)t[a]=di(e[a],r[a],n);return t}function Q5(t,e,r,n){for(var i=e.length,a=i&&e[0].length,o=0;o<i;o++){t[o]||(t[o]=[]);for(var s=0;s<a;s++)t[o][s]=di(e[o][s],r[o][s],n)}return t}function Tc(t,e,r,n){for(var i=e.length,a=0;a<i;a++)t[a]=e[a]+r[a]*n;return t}function t1(t,e,r,n){for(var i=e.length,a=i&&e[0].length,o=0;o<i;o++){t[o]||(t[o]=[]);for(var s=0;s<a;s++)t[o][s]=e[o][s]+r[o][s]*n}return t}function J5(t,e){for(var r=t.length,n=e.length,i=r>n?e:t,a=Math.min(r,n),o=i[a-1]||{color:[0,0,0,0],offset:0},s=a;s<Math.max(r,n);s++)i.push({offset:o.offset,color:o.color.slice()})}function eB(t,e,r){var n=t,i=e;if(!(!n.push||!i.push)){var a=n.length,o=i.length;if(a!==o){var s=a>o;if(s)n.length=o;else for(var l=a;l<o;l++)n.push(r===1?i[l]:kp.call(i[l]))}for(var f=n[0]&&n[0].length,l=0;l<n.length;l++)if(r===1)isNaN(n[l])&&(n[l]=i[l]);else for(var v=0;v<f;v++)isNaN(n[l][v])&&(n[l][v]=i[l][v])}}function hf(t){if(xr(t)){var e=t.length;if(xr(t[0])){for(var r=[],n=0;n<e;n++)r.push(kp.call(t[n]));return r}return kp.call(t)}return t}function vf(t){return t[0]=Math.floor(t[0])||0,t[1]=Math.floor(t[1])||0,t[2]=Math.floor(t[2])||0,t[3]=t[3]==null?1:t[3],"rgba("+t.join(",")+")"}function tB(t){return xr(t&&t[0])?2:1}var Ec=0,df=1,PC=2,Du=3,Ip=4,Mp=5,r1=6;function n1(t){return t===Ip||t===Mp}function kc(t){return t===df||t===PC}var gu=[0,0,0,0],rB=function(){function t(e){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=e}return t.prototype.isFinished=function(){return this._finished},t.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},t.prototype.needsAnimate=function(){return this.keyframes.length>=1},t.prototype.getAdditiveTrack=function(){return this._additiveTrack},t.prototype.addKeyframe=function(e,r,n){this._needsSort=!0;var i=this.keyframes,a=i.length,o=!1,s=r1,l=r;if(xr(r)){var f=tB(r);s=f,(f===1&&!Tt(r[0])||f===2&&!Tt(r[0][0]))&&(o=!0)}else if(Tt(r)&&!$f(r))s=Ec;else if(ke(r))if(!isNaN(+r))s=Ec;else{var v=ia(r);v&&(l=v,s=Du)}else if(Ph(r)){var d=ye({},l);d.colorStops=Me(r.colorStops,function(p){return{offset:p.offset,color:ia(p.color)}}),Z5(r)?s=Ip:j5(r)&&(s=Mp),l=d}a===0?this.valType=s:(s!==this.valType||s===r1)&&(o=!0),this.discrete=this.discrete||o;var g={time:e,value:l,rawValue:r,percent:0};return n&&(g.easing=n,g.easingFunc=ze(n)?n:Yu[n]||IC(n)),i.push(g),g},t.prototype.prepare=function(e,r){var n=this.keyframes;this._needsSort&&n.sort(function(w,b){return w.time-b.time});for(var i=this.valType,a=n.length,o=n[a-1],s=this.discrete,l=kc(i),f=n1(i),v=0;v<a;v++){var d=n[v],g=d.value,p=o.value;d.percent=d.time/e,s||(l&&v!==a-1?eB(g,p,i):f&&J5(g.colorStops,p.colorStops))}if(!s&&i!==Mp&&r&&this.needsAnimate()&&r.needsAnimate()&&i===r.valType&&!r._finished){this._additiveTrack=r;for(var y=n[0].value,v=0;v<a;v++)i===Ec?n[v].additiveValue=n[v].value-y:i===Du?n[v].additiveValue=Tc([],n[v].value,y,-1):kc(i)&&(n[v].additiveValue=i===df?Tc([],n[v].value,y,-1):t1([],n[v].value,y,-1))}},t.prototype.step=function(e,r){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var n=this._additiveTrack!=null,i=n?"additiveValue":"value",a=this.valType,o=this.keyframes,s=o.length,l=this.propName,f=a===Du,v,d=this._lastFr,g=Math.min,p,y;if(s===1)p=y=o[0];else{if(r<0)v=0;else if(r<this._lastFrP){var w=g(d+1,s-1);for(v=w;v>=0&&!(o[v].percent<=r);v--);v=g(v,s-2)}else{for(v=d;v<s&&!(o[v].percent>r);v++);v=g(v-1,s-2)}y=o[v+1],p=o[v]}if(p&&y){this._lastFr=v,this._lastFrP=r;var b=y.percent-p.percent,x=b===0?1:g((r-p.percent)/b,1);y.easingFunc&&(x=y.easingFunc(x));var C=n?this._additiveValue:f?gu:e[l];if((kc(a)||f)&&!C&&(C=this._additiveValue=[]),this.discrete)e[l]=x<1?p.rawValue:y.rawValue;else if(kc(a))a===df?Kv(C,p[i],y[i],x):Q5(C,p[i],y[i],x);else if(n1(a)){var T=p[i],k=y[i],L=a===Ip;e[l]={type:L?"linear":"radial",x:di(T.x,k.x,x),y:di(T.y,k.y,x),colorStops:Me(T.colorStops,function(N,R){var D=k.colorStops[R];return{offset:di(N.offset,D.offset,x),color:vf(Kv([],N.color,D.color,x))}}),global:k.global},L?(e[l].x2=di(T.x2,k.x2,x),e[l].y2=di(T.y2,k.y2,x)):e[l].r=di(T.r,k.r,x)}else if(f)Kv(C,p[i],y[i],x),n||(e[l]=vf(C));else{var M=di(p[i],y[i],x);n?this._additiveValue=M:e[l]=M}n&&this._addToTarget(e)}}},t.prototype._addToTarget=function(e){var r=this.valType,n=this.propName,i=this._additiveValue;r===Ec?e[n]=e[n]+i:r===Du?(ia(e[n],gu),Tc(gu,gu,i,1),e[n]=vf(gu)):r===df?Tc(e[n],e[n],i,1):r===PC&&t1(e[n],e[n],i,1)},t}(),am=function(){function t(e,r,n,i){if(this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=e,this._loop=r,r&&i){Qg("Can' use additive animation on looped animation.");return}this._additiveAnimators=i,this._allowDiscrete=n}return t.prototype.getMaxTime=function(){return this._maxTime},t.prototype.getDelay=function(){return this._delay},t.prototype.getLoop=function(){return this._loop},t.prototype.getTarget=function(){return this._target},t.prototype.changeTarget=function(e){this._target=e},t.prototype.when=function(e,r,n){return this.whenWithKeys(e,r,yt(r),n)},t.prototype.whenWithKeys=function(e,r,n,i){for(var a=this._tracks,o=0;o<n.length;o++){var s=n[o],l=a[s];if(!l){l=a[s]=new rB(s);var f=void 0,v=this._getAdditiveTrack(s);if(v){var d=v.keyframes,g=d[d.length-1];f=g&&g.value,v.valType===Du&&f&&(f=vf(f))}else f=this._target[s];if(f==null)continue;e>0&&l.addKeyframe(0,hf(f),i),this._trackKeys.push(s)}l.addKeyframe(e,hf(r[s]),i)}return this._maxTime=Math.max(this._maxTime,e),this},t.prototype.pause=function(){this._clip.pause(),this._paused=!0},t.prototype.resume=function(){this._clip.resume(),this._paused=!1},t.prototype.isPaused=function(){return!!this._paused},t.prototype.duration=function(e){return this._maxTime=e,this._force=!0,this},t.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var e=this._doneCbs;if(e)for(var r=e.length,n=0;n<r;n++)e[n].call(this)},t.prototype._abortedCallback=function(){this._setTracksFinished();var e=this.animation,r=this._abortedCbs;if(e&&e.removeClip(this._clip),this._clip=null,r)for(var n=0;n<r.length;n++)r[n].call(this)},t.prototype._setTracksFinished=function(){for(var e=this._tracks,r=this._trackKeys,n=0;n<r.length;n++)e[r[n]].setFinished()},t.prototype._getAdditiveTrack=function(e){var r,n=this._additiveAnimators;if(n)for(var i=0;i<n.length;i++){var a=n[i].getTrack(e);a&&(r=a)}return r},t.prototype.start=function(e){if(!(this._started>0)){this._started=1;for(var r=this,n=[],i=this._maxTime||0,a=0;a<this._trackKeys.length;a++){var o=this._trackKeys[a],s=this._tracks[o],l=this._getAdditiveTrack(o),f=s.keyframes,v=f.length;if(s.prepare(i,l),s.needsAnimate())if(!this._allowDiscrete&&s.discrete){var d=f[v-1];d&&(r._target[s.propName]=d.rawValue),s.setFinished()}else n.push(s)}if(n.length||this._force){var g=new W5({life:i,loop:this._loop,delay:this._delay||0,onframe:function(p){r._started=2;var y=r._additiveAnimators;if(y){for(var w=!1,b=0;b<y.length;b++)if(y[b]._clip){w=!0;break}w||(r._additiveAnimators=null)}for(var b=0;b<n.length;b++)n[b].step(r._target,p);var x=r._onframeCbs;if(x)for(var b=0;b<x.length;b++)x[b](r._target,p)},ondestroy:function(){r._doneCallback()}});this._clip=g,this.animation&&this.animation.addClip(g),e&&g.setEasing(e)}else this._doneCallback();return this}},t.prototype.stop=function(e){if(this._clip){var r=this._clip;e&&r.onframe(1),this._abortedCallback()}},t.prototype.delay=function(e){return this._delay=e,this},t.prototype.during=function(e){return e&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(e)),this},t.prototype.done=function(e){return e&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(e)),this},t.prototype.aborted=function(e){return e&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(e)),this},t.prototype.getClip=function(){return this._clip},t.prototype.getTrack=function(e){return this._tracks[e]},t.prototype.getTracks=function(){var e=this;return Me(this._trackKeys,function(r){return e._tracks[r]})},t.prototype.stopTracks=function(e,r){if(!e.length||!this._clip)return!0;for(var n=this._tracks,i=this._trackKeys,a=0;a<e.length;a++){var o=n[e[a]];o&&!o.isFinished()&&(r?o.step(this._target,1):this._started===1&&o.step(this._target,0),o.setFinished())}for(var s=!0,a=0;a<i.length;a++)if(!n[i[a]].isFinished()){s=!1;break}return s&&this._abortedCallback(),s},t.prototype.saveTo=function(e,r,n){if(e){r=r||this._trackKeys;for(var i=0;i<r.length;i++){var a=r[i],o=this._tracks[a];if(!(!o||o.isFinished())){var s=o.keyframes,l=s[n?0:s.length-1];l&&(e[a]=hf(l.rawValue))}}}},t.prototype.__changeFinalValue=function(e,r){r=r||yt(e);for(var n=0;n<r.length;n++){var i=r[n],a=this._tracks[i];if(a){var o=a.keyframes;if(o.length>1){var s=o.pop();a.addKeyframe(s.time,e[i]),a.prepare(this._maxTime,a.getAdditiveTrack())}}}},t}();function is(){return new Date().getTime()}var nB=function(t){xe(e,t);function e(r){var n=t.call(this)||this;return n._running=!1,n._time=0,n._pausedTime=0,n._pauseStart=0,n._paused=!1,r=r||{},n.stage=r.stage||{},n}return e.prototype.addClip=function(r){r.animation&&this.removeClip(r),this._head?(this._tail.next=r,r.prev=this._tail,r.next=null,this._tail=r):this._head=this._tail=r,r.animation=this},e.prototype.addAnimator=function(r){r.animation=this;var n=r.getClip();n&&this.addClip(n)},e.prototype.removeClip=function(r){if(r.animation){var n=r.prev,i=r.next;n?n.next=i:this._head=i,i?i.prev=n:this._tail=n,r.next=r.prev=r.animation=null}},e.prototype.removeAnimator=function(r){var n=r.getClip();n&&this.removeClip(n),r.animation=null},e.prototype.update=function(r){for(var n=is()-this._pausedTime,i=n-this._time,a=this._head;a;){var o=a.next,s=a.step(n,i);s&&(a.ondestroy(),this.removeClip(a)),a=o}this._time=n,r||(this.trigger("frame",i),this.stage.update&&this.stage.update())},e.prototype._startLoop=function(){var r=this;this._running=!0;function n(){r._running&&(Uf(n),!r._paused&&r.update())}Uf(n)},e.prototype.start=function(){this._running||(this._time=is(),this._pausedTime=0,this._startLoop())},e.prototype.stop=function(){this._running=!1},e.prototype.pause=function(){this._paused||(this._pauseStart=is(),this._paused=!0)},e.prototype.resume=function(){this._paused&&(this._pausedTime+=is()-this._pauseStart,this._paused=!1)},e.prototype.clear=function(){for(var r=this._head;r;){var n=r.next;r.prev=r.next=r.animation=null,r=n}this._head=this._tail=null},e.prototype.isFinished=function(){return this._head==null},e.prototype.animate=function(r,n){n=n||{},this.start();var i=new am(r,n.loop);return this.addAnimator(i),i},e}(ti),iB=300,Zv=Oe.domSupported,jv=function(){var t=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],e=["touchstart","touchend","touchmove"],r={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},n=Me(t,function(i){var a=i.replace("mouse","pointer");return r.hasOwnProperty(a)?a:i});return{mouse:t,touch:e,pointer:n}}(),i1={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]},a1=!1;function Lp(t){var e=t.pointerType;return e==="pen"||e==="touch"}function aB(t){t.touching=!0,t.touchTimer!=null&&(clearTimeout(t.touchTimer),t.touchTimer=null),t.touchTimer=setTimeout(function(){t.touching=!1,t.touchTimer=null},700)}function Qv(t){t&&(t.zrByTouch=!0)}function oB(t,e){return Xr(t.dom,new sB(t,e),!0)}function NC(t,e){for(var r=e,n=!1;r&&r.nodeType!==9&&!(n=r.domBelongToZr||r!==e&&r===t.painterRoot);)r=r.parentNode;return n}var sB=function(){function t(e,r){this.stopPropagation=br,this.stopImmediatePropagation=br,this.preventDefault=br,this.type=r.type,this.target=this.currentTarget=e.dom,this.pointerType=r.pointerType,this.clientX=r.clientX,this.clientY=r.clientY}return t}(),yn={mousedown:function(t){t=Xr(this.dom,t),this.__mayPointerCapture=[t.zrX,t.zrY],this.trigger("mousedown",t)},mousemove:function(t){t=Xr(this.dom,t);var e=this.__mayPointerCapture;e&&(t.zrX!==e[0]||t.zrY!==e[1])&&this.__togglePointerCapture(!0),this.trigger("mousemove",t)},mouseup:function(t){t=Xr(this.dom,t),this.__togglePointerCapture(!1),this.trigger("mouseup",t)},mouseout:function(t){t=Xr(this.dom,t);var e=t.toElement||t.relatedTarget;NC(this,e)||(this.__pointerCapturing&&(t.zrEventControl="no_globalout"),this.trigger("mouseout",t))},wheel:function(t){a1=!0,t=Xr(this.dom,t),this.trigger("mousewheel",t)},mousewheel:function(t){a1||(t=Xr(this.dom,t),this.trigger("mousewheel",t))},touchstart:function(t){t=Xr(this.dom,t),Qv(t),this.__lastTouchMoment=new Date,this.handler.processGesture(t,"start"),yn.mousemove.call(this,t),yn.mousedown.call(this,t)},touchmove:function(t){t=Xr(this.dom,t),Qv(t),this.handler.processGesture(t,"change"),yn.mousemove.call(this,t)},touchend:function(t){t=Xr(this.dom,t),Qv(t),this.handler.processGesture(t,"end"),yn.mouseup.call(this,t),+new Date-+this.__lastTouchMoment<iB&&yn.click.call(this,t)},pointerdown:function(t){yn.mousedown.call(this,t)},pointermove:function(t){Lp(t)||yn.mousemove.call(this,t)},pointerup:function(t){yn.mouseup.call(this,t)},pointerout:function(t){Lp(t)||yn.mouseout.call(this,t)}};Y(["click","dblclick","contextmenu"],function(t){yn[t]=function(e){e=Xr(this.dom,e),this.trigger(t,e)}});var Pp={pointermove:function(t){Lp(t)||Pp.mousemove.call(this,t)},pointerup:function(t){Pp.mouseup.call(this,t)},mousemove:function(t){this.trigger("mousemove",t)},mouseup:function(t){var e=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",t),e&&(t.zrEventControl="only_globalout",this.trigger("mouseout",t))}};function uB(t,e){var r=e.domHandlers;Oe.pointerEventsSupported?Y(jv.pointer,function(n){pf(e,n,function(i){r[n].call(t,i)})}):(Oe.touchEventsSupported&&Y(jv.touch,function(n){pf(e,n,function(i){r[n].call(t,i),aB(e)})}),Y(jv.mouse,function(n){pf(e,n,function(i){i=em(i),e.touching||r[n].call(t,i)})}))}function lB(t,e){Oe.pointerEventsSupported?Y(i1.pointer,r):Oe.touchEventsSupported||Y(i1.mouse,r);function r(n){function i(a){a=em(a),NC(t,a.target)||(a=oB(t,a),e.domHandlers[n].call(t,a))}pf(e,n,i,{capture:!0})}}function pf(t,e,r,n){t.mounted[e]=r,t.listenerOpts[e]=n,E5(t.domTarget,e,r,n)}function Jv(t){var e=t.mounted;for(var r in e)e.hasOwnProperty(r)&&k5(t.domTarget,r,e[r],t.listenerOpts[r]);t.mounted={}}var o1=function(){function t(e,r){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=e,this.domHandlers=r}return t}(),cB=function(t){xe(e,t);function e(r,n){var i=t.call(this)||this;return i.__pointerCapturing=!1,i.dom=r,i.painterRoot=n,i._localHandlerScope=new o1(r,yn),Zv&&(i._globalHandlerScope=new o1(document,Pp)),uB(i,i._localHandlerScope),i}return e.prototype.dispose=function(){Jv(this._localHandlerScope),Zv&&Jv(this._globalHandlerScope)},e.prototype.setCursor=function(r){this.dom.style&&(this.dom.style.cursor=r||"default")},e.prototype.__togglePointerCapture=function(r){if(this.__mayPointerCapture=null,Zv&&+this.__pointerCapturing^+r){this.__pointerCapturing=r;var n=this._globalHandlerScope;r?lB(this,n):Jv(n)}},e}(ti),AC=1;Oe.hasGlobalWindow&&(AC=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var Xf=AC,Np=.4,Ap="#333",Dp="#ccc",fB="#eee",s1=tm,hB=5e-5;function Da(t){return t>hB||t<-5e-5}var Ra=[],zo=[],ed=cs(),td=Math.abs,Ah=function(){function t(){}return t.prototype.getLocalTransform=function(e){return t.getLocalTransform(this,e)},t.prototype.setPosition=function(e){this.x=e[0],this.y=e[1]},t.prototype.setScale=function(e){this.scaleX=e[0],this.scaleY=e[1]},t.prototype.setSkew=function(e){this.skewX=e[0],this.skewY=e[1]},t.prototype.setOrigin=function(e){this.originX=e[0],this.originY=e[1]},t.prototype.needLocalTransform=function(){return Da(this.rotation)||Da(this.x)||Da(this.y)||Da(this.scaleX-1)||Da(this.scaleY-1)||Da(this.skewX)||Da(this.skewY)},t.prototype.updateTransform=function(){var e=this.parent&&this.parent.transform,r=this.needLocalTransform(),n=this.transform;if(!(r||e)){n&&(s1(n),this.invTransform=null);return}n=n||cs(),r?this.getLocalTransform(n):s1(n),e&&(r?fs(n,e,n):L5(n,e)),this.transform=n,this._resolveGlobalScaleRatio(n)},t.prototype._resolveGlobalScaleRatio=function(e){var r=this.globalScaleRatio;if(r!=null&&r!==1){this.getGlobalScale(Ra);var n=Ra[0]<0?-1:1,i=Ra[1]<0?-1:1,a=((Ra[0]-n)*r+n)/Ra[0]||0,o=((Ra[1]-i)*r+i)/Ra[1]||0;e[0]*=a,e[1]*=a,e[2]*=o,e[3]*=o}this.invTransform=this.invTransform||cs(),nm(this.invTransform,e)},t.prototype.getComputedTransform=function(){for(var e=this,r=[];e;)r.push(e),e=e.parent;for(;e=r.pop();)e.updateTransform();return this.transform},t.prototype.setLocalTransform=function(e){if(e){var r=e[0]*e[0]+e[1]*e[1],n=e[2]*e[2]+e[3]*e[3],i=Math.atan2(e[1],e[0]),a=Math.PI/2+i-Math.atan2(e[3],e[2]);n=Math.sqrt(n)*Math.cos(a),r=Math.sqrt(r),this.skewX=a,this.skewY=0,this.rotation=-i,this.x=+e[4],this.y=+e[5],this.scaleX=r,this.scaleY=n,this.originX=0,this.originY=0}},t.prototype.decomposeTransform=function(){if(this.transform){var e=this.parent,r=this.transform;e&&e.transform&&(e.invTransform=e.invTransform||cs(),fs(zo,e.invTransform,r),r=zo);var n=this.originX,i=this.originY;(n||i)&&(ed[4]=n,ed[5]=i,fs(zo,r,ed),zo[4]-=n,zo[5]-=i,r=zo),this.setLocalTransform(r)}},t.prototype.getGlobalScale=function(e){var r=this.transform;return e=e||[],r?(e[0]=Math.sqrt(r[0]*r[0]+r[1]*r[1]),e[1]=Math.sqrt(r[2]*r[2]+r[3]*r[3]),r[0]<0&&(e[0]=-e[0]),r[3]<0&&(e[1]=-e[1]),e):(e[0]=1,e[1]=1,e)},t.prototype.transformCoordToLocal=function(e,r){var n=[e,r],i=this.invTransform;return i&&rn(n,n,i),n},t.prototype.transformCoordToGlobal=function(e,r){var n=[e,r],i=this.transform;return i&&rn(n,n,i),n},t.prototype.getLineScale=function(){var e=this.transform;return e&&td(e[0]-1)>1e-10&&td(e[3]-1)>1e-10?Math.sqrt(td(e[0]*e[3]-e[2]*e[1])):1},t.prototype.copyTransform=function(e){vB(this,e)},t.getLocalTransform=function(e,r){r=r||[];var n=e.originX||0,i=e.originY||0,a=e.scaleX,o=e.scaleY,s=e.anchorX,l=e.anchorY,f=e.rotation||0,v=e.x,d=e.y,g=e.skewX?Math.tan(e.skewX):0,p=e.skewY?Math.tan(-e.skewY):0;if(n||i||s||l){var y=n+s,w=i+l;r[4]=-y*a-g*w*o,r[5]=-w*o-p*y*a}else r[4]=r[5]=0;return r[0]=a,r[3]=o,r[1]=p*a,r[2]=g*o,f&&rm(r,r,f),r[4]+=n+v,r[5]+=i+d,r},t.initDefaultProps=function(){var e=t.prototype;e.scaleX=e.scaleY=e.globalScaleRatio=1,e.x=e.y=e.originX=e.originY=e.skewX=e.skewY=e.rotation=e.anchorX=e.anchorY=0}(),t}(),vl=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function vB(t,e){for(var r=0;r<vl.length;r++){var n=vl[r];t[n]=e[n]}}var u1={};function Rr(t,e){e=e||mo;var r=u1[e];r||(r=u1[e]=new Bl(500));var n=r.get(t);return n==null&&(n=zs.measureText(t,e).width,r.put(t,n)),n}function l1(t,e,r,n){var i=Rr(t,e),a=sm(e),o=Ru(0,i,r),s=es(0,a,n),l=new Je(o,s,i,a);return l}function om(t,e,r,n){var i=((t||"")+"").split(`
`),a=i.length;if(a===1)return l1(i[0],e,r,n);for(var o=new Je(0,0,0,0),s=0;s<i.length;s++){var l=l1(i[s],e,r,n);s===0?o.copy(l):o.union(l)}return o}function Ru(t,e,r){return r==="right"?t-=e:r==="center"&&(t-=e/2),t}function es(t,e,r){return r==="middle"?t-=e/2:r==="bottom"&&(t-=e),t}function sm(t){return Rr("",t)}function yo(t,e){return typeof t=="string"?t.lastIndexOf("%")>=0?parseFloat(t)/100*e:parseFloat(t):t}function DC(t,e,r){var n=e.position||"inside",i=e.distance!=null?e.distance:5,a=r.height,o=r.width,s=a/2,l=r.x,f=r.y,v="left",d="top";if(n instanceof Array)l+=yo(n[0],r.width),f+=yo(n[1],r.height),v=null,d=null;else switch(n){case"left":l-=i,f+=s,v="right",d="middle";break;case"right":l+=i+o,f+=s,d="middle";break;case"top":l+=o/2,f-=i,v="center",d="bottom";break;case"bottom":l+=o/2,f+=a+i,v="center";break;case"inside":l+=o/2,f+=s,v="center",d="middle";break;case"insideLeft":l+=i,f+=s,d="middle";break;case"insideRight":l+=o-i,f+=s,v="right",d="middle";break;case"insideTop":l+=o/2,f+=i,v="center";break;case"insideBottom":l+=o/2,f+=a-i,v="center",d="bottom";break;case"insideTopLeft":l+=i,f+=i;break;case"insideTopRight":l+=o-i,f+=i,v="right";break;case"insideBottomLeft":l+=i,f+=a-i,d="bottom";break;case"insideBottomRight":l+=o-i,f+=a-i,v="right",d="bottom";break}return t=t||{},t.x=l,t.y=f,t.align=v,t.verticalAlign=d,t}var rd="__zr_normal__",nd=vl.concat(["ignore"]),dB=Gs(vl,function(t,e){return t[e]=!0,t},{ignore:!1}),Go={},pB=new Je(0,0,0,0),Dh=function(){function t(e){this.id=hC(),this.animators=[],this.currentStates=[],this.states={},this._init(e)}return t.prototype._init=function(e){this.attr(e)},t.prototype.drift=function(e,r,n){switch(this.draggable){case"horizontal":r=0;break;case"vertical":e=0;break}var i=this.transform;i||(i=this.transform=[1,0,0,1,0,0]),i[4]+=e,i[5]+=r,this.decomposeTransform(),this.markRedraw()},t.prototype.beforeUpdate=function(){},t.prototype.afterUpdate=function(){},t.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},t.prototype.updateInnerText=function(e){var r=this._textContent;if(r&&(!r.ignore||e)){this.textConfig||(this.textConfig={});var n=this.textConfig,i=n.local,a=r.innerTransformable,o=void 0,s=void 0,l=!1;a.parent=i?this:null;var f=!1;if(a.copyTransform(r),n.position!=null){var v=pB;n.layoutRect?v.copy(n.layoutRect):v.copy(this.getBoundingRect()),i||v.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(Go,n,v):DC(Go,n,v),a.x=Go.x,a.y=Go.y,o=Go.align,s=Go.verticalAlign;var d=n.origin;if(d&&n.rotation!=null){var g=void 0,p=void 0;d==="center"?(g=v.width*.5,p=v.height*.5):(g=yo(d[0],v.width),p=yo(d[1],v.height)),f=!0,a.originX=-a.x+g+(i?0:v.x),a.originY=-a.y+p+(i?0:v.y)}}n.rotation!=null&&(a.rotation=n.rotation);var y=n.offset;y&&(a.x+=y[0],a.y+=y[1],f||(a.originX=-y[0],a.originY=-y[1]));var w=n.inside==null?typeof n.position=="string"&&n.position.indexOf("inside")>=0:n.inside,b=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),x=void 0,C=void 0,T=void 0;w&&this.canBeInsideText()?(x=n.insideFill,C=n.insideStroke,(x==null||x==="auto")&&(x=this.getInsideTextFill()),(C==null||C==="auto")&&(C=this.getInsideTextStroke(x),T=!0)):(x=n.outsideFill,C=n.outsideStroke,(x==null||x==="auto")&&(x=this.getOutsideFill()),(C==null||C==="auto")&&(C=this.getOutsideStroke(x),T=!0)),x=x||"#000",(x!==b.fill||C!==b.stroke||T!==b.autoStroke||o!==b.align||s!==b.verticalAlign)&&(l=!0,b.fill=x,b.stroke=C,b.autoStroke=T,b.align=o,b.verticalAlign=s,r.setDefaultTextStyle(b)),r.__dirty|=Wn,l&&r.dirtyStyle(!0)}},t.prototype.canBeInsideText=function(){return!0},t.prototype.getInsideTextFill=function(){return"#fff"},t.prototype.getInsideTextStroke=function(e){return"#000"},t.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?Dp:Ap},t.prototype.getOutsideStroke=function(e){var r=this.__zr&&this.__zr.getBackgroundColor(),n=typeof r=="string"&&ia(r);n||(n=[255,255,255,1]);for(var i=n[3],a=this.__zr.isDarkMode(),o=0;o<3;o++)n[o]=n[o]*i+(a?0:255)*(1-i);return n[3]=1,im(n,"rgba")},t.prototype.traverse=function(e,r){},t.prototype.attrKV=function(e,r){e==="textConfig"?this.setTextConfig(r):e==="textContent"?this.setTextContent(r):e==="clipPath"?this.setClipPath(r):e==="extra"?(this.extra=this.extra||{},ye(this.extra,r)):this[e]=r},t.prototype.hide=function(){this.ignore=!0,this.markRedraw()},t.prototype.show=function(){this.ignore=!1,this.markRedraw()},t.prototype.attr=function(e,r){if(typeof e=="string")this.attrKV(e,r);else if(Le(e))for(var n=e,i=yt(n),a=0;a<i.length;a++){var o=i[a];this.attrKV(o,e[o])}return this.markRedraw(),this},t.prototype.saveCurrentToNormalState=function(e){this._innerSaveToNormal(e);for(var r=this._normalState,n=0;n<this.animators.length;n++){var i=this.animators[n],a=i.__fromStateTransition;if(!(i.getLoop()||a&&a!==rd)){var o=i.targetName,s=o?r[o]:r;i.saveTo(s)}}},t.prototype._innerSaveToNormal=function(e){var r=this._normalState;r||(r=this._normalState={}),e.textConfig&&!r.textConfig&&(r.textConfig=this.textConfig),this._savePrimaryToNormal(e,r,nd)},t.prototype._savePrimaryToNormal=function(e,r,n){for(var i=0;i<n.length;i++){var a=n[i];e[a]!=null&&!(a in r)&&(r[a]=this[a])}},t.prototype.hasState=function(){return this.currentStates.length>0},t.prototype.getState=function(e){return this.states[e]},t.prototype.ensureState=function(e){var r=this.states;return r[e]||(r[e]={}),r[e]},t.prototype.clearStates=function(e){this.useState(rd,!1,e)},t.prototype.useState=function(e,r,n,i){var a=e===rd,o=this.hasState();if(!(!o&&a)){var s=this.currentStates,l=this.stateTransition;if(!(lt(s,e)>=0&&(r||s.length===1))){var f;if(this.stateProxy&&!a&&(f=this.stateProxy(e)),f||(f=this.states&&this.states[e]),!f&&!a){Qg("State "+e+" not exists.");return}a||this.saveCurrentToNormalState(f);var v=!!(f&&f.hoverLayer||i);v&&this._toggleHoverLayerFlag(!0),this._applyStateObj(e,f,this._normalState,r,!n&&!this.__inHover&&l&&l.duration>0,l);var d=this._textContent,g=this._textGuide;return d&&d.useState(e,r,n,v),g&&g.useState(e,r,n,v),a?(this.currentStates=[],this._normalState={}):r?this.currentStates.push(e):this.currentStates=[e],this._updateAnimationTargets(),this.markRedraw(),!v&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=-2),f}}},t.prototype.useStates=function(e,r,n){if(!e.length)this.clearStates();else{var i=[],a=this.currentStates,o=e.length,s=o===a.length;if(s){for(var l=0;l<o;l++)if(e[l]!==a[l]){s=!1;break}}if(s)return;for(var l=0;l<o;l++){var f=e[l],v=void 0;this.stateProxy&&(v=this.stateProxy(f,e)),v||(v=this.states[f]),v&&i.push(v)}var d=i[o-1],g=!!(d&&d.hoverLayer||n);g&&this._toggleHoverLayerFlag(!0);var p=this._mergeStates(i),y=this.stateTransition;this.saveCurrentToNormalState(p),this._applyStateObj(e.join(","),p,this._normalState,!1,!r&&!this.__inHover&&y&&y.duration>0,y);var w=this._textContent,b=this._textGuide;w&&w.useStates(e,r,g),b&&b.useStates(e,r,g),this._updateAnimationTargets(),this.currentStates=e.slice(),this.markRedraw(),!g&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=-2)}},t.prototype.isSilent=function(){for(var e=this.silent,r=this.parent;!e&&r;){if(r.silent){e=!0;break}r=r.parent}return e},t.prototype._updateAnimationTargets=function(){for(var e=0;e<this.animators.length;e++){var r=this.animators[e];r.targetName&&r.changeTarget(this[r.targetName])}},t.prototype.removeState=function(e){var r=lt(this.currentStates,e);if(r>=0){var n=this.currentStates.slice();n.splice(r,1),this.useStates(n)}},t.prototype.replaceState=function(e,r,n){var i=this.currentStates.slice(),a=lt(i,e),o=lt(i,r)>=0;a>=0?o?i.splice(a,1):i[a]=r:n&&!o&&i.push(r),this.useStates(i)},t.prototype.toggleState=function(e,r){r?this.useState(e,!0):this.removeState(e)},t.prototype._mergeStates=function(e){for(var r={},n,i=0;i<e.length;i++){var a=e[i];ye(r,a),a.textConfig&&(n=n||{},ye(n,a.textConfig))}return n&&(r.textConfig=n),r},t.prototype._applyStateObj=function(e,r,n,i,a,o){var s=!(r&&i);r&&r.textConfig?(this.textConfig=ye({},i?this.textConfig:n.textConfig),ye(this.textConfig,r.textConfig)):s&&n.textConfig&&(this.textConfig=n.textConfig);for(var l={},f=!1,v=0;v<nd.length;v++){var d=nd[v],g=a&&dB[d];r&&r[d]!=null?g?(f=!0,l[d]=r[d]):this[d]=r[d]:s&&n[d]!=null&&(g?(f=!0,l[d]=n[d]):this[d]=n[d])}if(!a)for(var v=0;v<this.animators.length;v++){var p=this.animators[v],y=p.targetName;p.getLoop()||p.__changeFinalValue(y?(r||n)[y]:r||n)}f&&this._transitionState(e,l,o)},t.prototype._attachComponent=function(e){if(!(e.__zr&&!e.__hostTarget)&&e!==this){var r=this.__zr;r&&e.addSelfToZr(r),e.__zr=r,e.__hostTarget=this}},t.prototype._detachComponent=function(e){e.__zr&&e.removeSelfFromZr(e.__zr),e.__zr=null,e.__hostTarget=null},t.prototype.getClipPath=function(){return this._clipPath},t.prototype.setClipPath=function(e){this._clipPath&&this._clipPath!==e&&this.removeClipPath(),this._attachComponent(e),this._clipPath=e,this.markRedraw()},t.prototype.removeClipPath=function(){var e=this._clipPath;e&&(this._detachComponent(e),this._clipPath=null,this.markRedraw())},t.prototype.getTextContent=function(){return this._textContent},t.prototype.setTextContent=function(e){var r=this._textContent;r!==e&&(r&&r!==e&&this.removeTextContent(),e.innerTransformable=new Ah,this._attachComponent(e),this._textContent=e,this.markRedraw())},t.prototype.setTextConfig=function(e){this.textConfig||(this.textConfig={}),ye(this.textConfig,e),this.markRedraw()},t.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},t.prototype.removeTextContent=function(){var e=this._textContent;e&&(e.innerTransformable=null,this._detachComponent(e),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},t.prototype.getTextGuideLine=function(){return this._textGuide},t.prototype.setTextGuideLine=function(e){this._textGuide&&this._textGuide!==e&&this.removeTextGuideLine(),this._attachComponent(e),this._textGuide=e,this.markRedraw()},t.prototype.removeTextGuideLine=function(){var e=this._textGuide;e&&(this._detachComponent(e),this._textGuide=null,this.markRedraw())},t.prototype.markRedraw=function(){this.__dirty|=Wn;var e=this.__zr;e&&(this.__inHover?e.refreshHover():e.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},t.prototype.dirty=function(){this.markRedraw()},t.prototype._toggleHoverLayerFlag=function(e){this.__inHover=e;var r=this._textContent,n=this._textGuide;r&&(r.__inHover=e),n&&(n.__inHover=e)},t.prototype.addSelfToZr=function(e){if(this.__zr!==e){this.__zr=e;var r=this.animators;if(r)for(var n=0;n<r.length;n++)e.animation.addAnimator(r[n]);this._clipPath&&this._clipPath.addSelfToZr(e),this._textContent&&this._textContent.addSelfToZr(e),this._textGuide&&this._textGuide.addSelfToZr(e)}},t.prototype.removeSelfFromZr=function(e){if(this.__zr){this.__zr=null;var r=this.animators;if(r)for(var n=0;n<r.length;n++)e.animation.removeAnimator(r[n]);this._clipPath&&this._clipPath.removeSelfFromZr(e),this._textContent&&this._textContent.removeSelfFromZr(e),this._textGuide&&this._textGuide.removeSelfFromZr(e)}},t.prototype.animate=function(e,r,n){var i=e?this[e]:this,a=new am(i,r,n);return e&&(a.targetName=e),this.addAnimator(a,e),a},t.prototype.addAnimator=function(e,r){var n=this.__zr,i=this;e.during(function(){i.updateDuringAnimation(r)}).done(function(){var a=i.animators,o=lt(a,e);o>=0&&a.splice(o,1)}),this.animators.push(e),n&&n.animation.addAnimator(e),n&&n.wakeUp()},t.prototype.updateDuringAnimation=function(e){this.markRedraw()},t.prototype.stopAnimation=function(e,r){for(var n=this.animators,i=n.length,a=[],o=0;o<i;o++){var s=n[o];!e||e===s.scope?s.stop(r):a.push(s)}return this.animators=a,this},t.prototype.animateTo=function(e,r,n){id(this,e,r,n)},t.prototype.animateFrom=function(e,r,n){id(this,e,r,n,!0)},t.prototype._transitionState=function(e,r,n,i){for(var a=id(this,r,n,i),o=0;o<a.length;o++)a[o].__fromStateTransition=e},t.prototype.getBoundingRect=function(){return null},t.prototype.getPaintRect=function(){return null},t.initDefaultProps=function(){var e=t.prototype;e.type="element",e.name="",e.ignore=e.silent=e.isGroup=e.draggable=e.dragging=e.ignoreClip=e.__inHover=!1,e.__dirty=Wn;function r(n,i,a,o){Object.defineProperty(e,n,{get:function(){if(!this[i]){var l=this[i]=[];s(this,l)}return this[i]},set:function(l){this[a]=l[0],this[o]=l[1],this[i]=l,s(this,l)}});function s(l,f){Object.defineProperty(f,0,{get:function(){return l[a]},set:function(v){l[a]=v}}),Object.defineProperty(f,1,{get:function(){return l[o]},set:function(v){l[o]=v}})}}Object.defineProperty&&(r("position","_legacyPos","x","y"),r("scale","_legacyScale","scaleX","scaleY"),r("origin","_legacyOrigin","originX","originY"))}(),t}();ei(Dh,ti);ei(Dh,Ah);function id(t,e,r,n,i){r=r||{};var a=[];RC(t,"",t,e,r,n,a,i);var o=a.length,s=!1,l=r.done,f=r.aborted,v=function(){s=!0,o--,o<=0&&(s?l&&l():f&&f())},d=function(){o--,o<=0&&(s?l&&l():f&&f())};o||l&&l(),a.length>0&&r.during&&a[0].during(function(y,w){r.during(w)});for(var g=0;g<a.length;g++){var p=a[g];v&&p.done(v),d&&p.aborted(d),r.force&&p.duration(r.duration),p.start(r.easing)}return a}function ad(t,e,r){for(var n=0;n<r;n++)t[n]=e[n]}function gB(t){return xr(t[0])}function mB(t,e,r){if(xr(e[r]))if(xr(t[r])||(t[r]=[]),Sr(e[r])){var n=e[r].length;t[r].length!==n&&(t[r]=new e[r].constructor(n),ad(t[r],e[r],n))}else{var i=e[r],a=t[r],o=i.length;if(gB(i))for(var s=i[0].length,l=0;l<o;l++)a[l]?ad(a[l],i[l],s):a[l]=Array.prototype.slice.call(i[l]);else ad(a,i,o);a.length=i.length}else t[r]=e[r]}function yB(t,e){return t===e||xr(t)&&xr(e)&&_B(t,e)}function _B(t,e){var r=t.length;if(r!==e.length)return!1;for(var n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}function RC(t,e,r,n,i,a,o,s){for(var l=yt(n),f=i.duration,v=i.delay,d=i.additive,g=i.setToFinal,p=!Le(a),y=t.animators,w=[],b=0;b<l.length;b++){var x=l[b],C=n[x];if(C!=null&&r[x]!=null&&(p||a[x]))if(Le(C)&&!xr(C)&&!Ph(C)){if(e){s||(r[x]=C,t.updateDuringAnimation(e));continue}RC(t,x,r[x],C,i,a&&a[x],o,s)}else w.push(x);else s||(r[x]=C,t.updateDuringAnimation(e),w.push(x))}var T=w.length;if(!d&&T)for(var k=0;k<y.length;k++){var L=y[k];if(L.targetName===e){var M=L.stopTracks(w);if(M){var N=lt(y,L);y.splice(N,1)}}}if(i.force||(w=Bt(w,function(z){return!yB(n[z],r[z])}),T=w.length),T>0||i.force&&!o.length){var R=void 0,D=void 0,F=void 0;if(s){D={},g&&(R={});for(var k=0;k<T;k++){var x=w[k];D[x]=r[x],g?R[x]=n[x]:r[x]=n[x]}}else if(g){F={};for(var k=0;k<T;k++){var x=w[k];F[x]=hf(r[x]),mB(r,n,x)}}var L=new am(r,!1,!1,d?Bt(y,function(G){return G.targetName===e}):null);L.targetName=e,i.scope&&(L.scope=i.scope),g&&R&&L.whenWithKeys(0,R,w),F&&L.whenWithKeys(0,F,w),L.whenWithKeys(f??500,s?D:n,w).delay(v||0),t.addAnimator(L,e),o.push(L)}}var Cr=function(t){xe(e,t);function e(r){var n=t.call(this)||this;return n.isGroup=!0,n._children=[],n.attr(r),n}return e.prototype.childrenRef=function(){return this._children},e.prototype.children=function(){return this._children.slice()},e.prototype.childAt=function(r){return this._children[r]},e.prototype.childOfName=function(r){for(var n=this._children,i=0;i<n.length;i++)if(n[i].name===r)return n[i]},e.prototype.childCount=function(){return this._children.length},e.prototype.add=function(r){return r&&r!==this&&r.parent!==this&&(this._children.push(r),this._doAdd(r)),this},e.prototype.addBefore=function(r,n){if(r&&r!==this&&r.parent!==this&&n&&n.parent===this){var i=this._children,a=i.indexOf(n);a>=0&&(i.splice(a,0,r),this._doAdd(r))}return this},e.prototype.replace=function(r,n){var i=lt(this._children,r);return i>=0&&this.replaceAt(n,i),this},e.prototype.replaceAt=function(r,n){var i=this._children,a=i[n];if(r&&r!==this&&r.parent!==this&&r!==a){i[n]=r,a.parent=null;var o=this.__zr;o&&a.removeSelfFromZr(o),this._doAdd(r)}return this},e.prototype._doAdd=function(r){r.parent&&r.parent.remove(r),r.parent=this;var n=this.__zr;n&&n!==r.__zr&&r.addSelfToZr(n),n&&n.refresh()},e.prototype.remove=function(r){var n=this.__zr,i=this._children,a=lt(i,r);return a<0?this:(i.splice(a,1),r.parent=null,n&&r.removeSelfFromZr(n),n&&n.refresh(),this)},e.prototype.removeAll=function(){for(var r=this._children,n=this.__zr,i=0;i<r.length;i++){var a=r[i];n&&a.removeSelfFromZr(n),a.parent=null}return r.length=0,this},e.prototype.eachChild=function(r,n){for(var i=this._children,a=0;a<i.length;a++){var o=i[a];r.call(n,o,a)}return this},e.prototype.traverse=function(r,n){for(var i=0;i<this._children.length;i++){var a=this._children[i],o=r.call(n,a);a.isGroup&&!o&&a.traverse(r,n)}return this},e.prototype.addSelfToZr=function(r){t.prototype.addSelfToZr.call(this,r);for(var n=0;n<this._children.length;n++){var i=this._children[n];i.addSelfToZr(r)}},e.prototype.removeSelfFromZr=function(r){t.prototype.removeSelfFromZr.call(this,r);for(var n=0;n<this._children.length;n++){var i=this._children[n];i.removeSelfFromZr(r)}},e.prototype.getBoundingRect=function(r){for(var n=new Je(0,0,0,0),i=r||this._children,a=[],o=null,s=0;s<i.length;s++){var l=i[s];if(!(l.ignore||l.invisible)){var f=l.getBoundingRect(),v=l.getLocalTransform(a);v?(Je.applyTransform(n,f,v),o=o||n.clone(),o.union(n)):(o=o||f.clone(),o.union(f))}}return o||n},e}(Dh);Cr.prototype.type="group";/*!
* ZRender, a high performance 2d drawing library.
*
* Copyright (c) 2013, Baidu Inc.
* All rights reserved.
*
* LICENSE
* https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
*/var gf={},OC={};function wB(t){delete OC[t]}function bB(t){if(!t)return!1;if(typeof t=="string")return Wf(t,1)<Np;if(t.colorStops){for(var e=t.colorStops,r=0,n=e.length,i=0;i<n;i++)r+=Wf(e[i].color,1);return r/=n,r<Np}return!1}var xB=function(){function t(e,r,n){var i=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,n=n||{},this.dom=r,this.id=e;var a=new G5,o=n.renderer||"canvas";gf[o]||(o=yt(gf)[0]),n.useDirtyRect=n.useDirtyRect==null?!1:n.useDirtyRect;var s=new gf[o](r,a,n,e),l=n.ssr||s.ssrOnly;this.storage=a,this.painter=s;var f=!Oe.node&&!Oe.worker&&!l?new cB(s.getViewportRoot(),s.root):null,v=n.useCoarsePointer,d=v==null||v==="auto"?Oe.touchEventsSupported:!!v,g=44,p;d&&(p=He(n.pointerSize,g)),this.handler=new wC(a,s,f,s.root,p),this.animation=new nB({stage:{update:l?null:function(){return i._flush(!0)}}}),l||this.animation.start()}return t.prototype.add=function(e){this._disposed||!e||(this.storage.addRoot(e),e.addSelfToZr(this),this.refresh())},t.prototype.remove=function(e){this._disposed||!e||(this.storage.delRoot(e),e.removeSelfFromZr(this),this.refresh())},t.prototype.configLayer=function(e,r){this._disposed||(this.painter.configLayer&&this.painter.configLayer(e,r),this.refresh())},t.prototype.setBackgroundColor=function(e){this._disposed||(this.painter.setBackgroundColor&&this.painter.setBackgroundColor(e),this.refresh(),this._backgroundColor=e,this._darkMode=bB(e))},t.prototype.getBackgroundColor=function(){return this._backgroundColor},t.prototype.setDarkMode=function(e){this._darkMode=e},t.prototype.isDarkMode=function(){return this._darkMode},t.prototype.refreshImmediately=function(e){this._disposed||(e||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1)},t.prototype.refresh=function(){this._disposed||(this._needsRefresh=!0,this.animation.start())},t.prototype.flush=function(){this._disposed||this._flush(!1)},t.prototype._flush=function(e){var r,n=is();this._needsRefresh&&(r=!0,this.refreshImmediately(e)),this._needsRefreshHover&&(r=!0,this.refreshHoverImmediately());var i=is();r?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:i-n})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},t.prototype.setSleepAfterStill=function(e){this._sleepAfterStill=e},t.prototype.wakeUp=function(){this._disposed||(this.animation.start(),this._stillFrameAccum=0)},t.prototype.refreshHover=function(){this._needsRefreshHover=!0},t.prototype.refreshHoverImmediately=function(){this._disposed||(this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.getType()==="canvas"&&this.painter.refreshHover())},t.prototype.resize=function(e){this._disposed||(e=e||{},this.painter.resize(e.width,e.height),this.handler.resize())},t.prototype.clearAnimation=function(){this._disposed||this.animation.clear()},t.prototype.getWidth=function(){if(!this._disposed)return this.painter.getWidth()},t.prototype.getHeight=function(){if(!this._disposed)return this.painter.getHeight()},t.prototype.setCursorStyle=function(e){this._disposed||this.handler.setCursorStyle(e)},t.prototype.findHover=function(e,r){if(!this._disposed)return this.handler.findHover(e,r)},t.prototype.on=function(e,r,n){return this._disposed||this.handler.on(e,r,n),this},t.prototype.off=function(e,r){this._disposed||this.handler.off(e,r)},t.prototype.trigger=function(e,r){this._disposed||this.handler.trigger(e,r)},t.prototype.clear=function(){if(!this._disposed){for(var e=this.storage.getRoots(),r=0;r<e.length;r++)e[r]instanceof Cr&&e[r].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()}},t.prototype.dispose=function(){this._disposed||(this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,this._disposed=!0,wB(this.id))},t}();function c1(t,e){var r=new xB(hC(),t,e);return OC[r.id]=r,r}function SB(t,e){gf[t]=e}var CB=1e-4,FC=20;function TB(t){return t.replace(/^\s+|\s+$/g,"")}function f1(t,e,r,n){var i=e[0],a=e[1],o=r[0],s=r[1],l=a-i,f=s-o;if(l===0)return f===0?o:(o+s)/2;if(n)if(l>0){if(t<=i)return o;if(t>=a)return s}else{if(t>=i)return o;if(t<=a)return s}else{if(t===i)return o;if(t===a)return s}return(t-i)/l*f+o}function ir(t,e){switch(t){case"center":case"middle":t="50%";break;case"left":case"top":t="0%";break;case"right":case"bottom":t="100%";break}return ke(t)?TB(t).match(/%$/)?parseFloat(t)/100*e:parseFloat(t):t==null?NaN:+t}function Dt(t,e,r){return e==null&&(e=10),e=Math.min(Math.max(0,e),FC),t=(+t).toFixed(e),r?t:+t}function mi(t){if(t=+t,isNaN(t))return 0;if(t>1e-14){for(var e=1,r=0;r<15;r++,e*=10)if(Math.round(t*e)/e===t)return r}return EB(t)}function EB(t){var e=t.toString().toLowerCase(),r=e.indexOf("e"),n=r>0?+e.slice(r+1):0,i=r>0?r:e.length,a=e.indexOf("."),o=a<0?0:i-1-a;return Math.max(0,o-n)}function kB(t,e){var r=Math.log,n=Math.LN10,i=Math.floor(r(t[1]-t[0])/n),a=Math.round(r(Math.abs(e[1]-e[0]))/n),o=Math.min(Math.max(-i+a,0),20);return isFinite(o)?o:20}function IB(t,e){var r=Math.max(mi(t),mi(e)),n=t+e;return r>FC?n:Dt(n,r)}function BC(t){var e=Math.PI*2;return(t%e+e)%e}function Kf(t){return t>-1e-4&&t<CB}var MB=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function Ii(t){if(t instanceof Date)return t;if(ke(t)){var e=MB.exec(t);if(!e)return new Date(NaN);if(e[8]){var r=+e[4]||0;return e[8].toUpperCase()!=="Z"&&(r-=+e[8].slice(0,3)),new Date(Date.UTC(+e[1],+(e[2]||1)-1,+e[3]||1,r,+(e[5]||0),+e[6]||0,e[7]?+e[7].substring(0,3):0))}else return new Date(+e[1],+(e[2]||1)-1,+e[3]||1,+e[4]||0,+(e[5]||0),+e[6]||0,e[7]?+e[7].substring(0,3):0)}else if(t==null)return new Date(NaN);return new Date(Math.round(t))}function LB(t){return Math.pow(10,um(t))}function um(t){if(t===0)return 0;var e=Math.floor(Math.log(t)/Math.LN10);return t/Math.pow(10,e)>=10&&e++,e}function zC(t,e){var r=um(t),n=Math.pow(10,r),i=t/n,a;return i<1.5?a=1:i<2.5?a=2:i<4?a=3:i<7?a=5:a=10,t=a*n,r>=-20?+t.toFixed(r<0?-r:0):t}function Zf(t){var e=parseFloat(t);return e==t&&(e!==0||!ke(t)||t.indexOf("x")<=0)?e:NaN}function PB(t){return!isNaN(Zf(t))}function GC(){return Math.round(Math.random()*9)}function VC(t,e){return e===0?t:VC(e,t%e)}function h1(t,e){return t==null?e:e==null?t:t*e/VC(t,e)}function dr(t){throw new Error(t)}function v1(t,e,r){return(e-t)*r+t}var HC="series\0",NB="\0_ec_\0";function Rt(t){return t instanceof Array?t:t==null?[]:[t]}function d1(t,e,r){if(t){t[e]=t[e]||{},t.emphasis=t.emphasis||{},t.emphasis[e]=t.emphasis[e]||{};for(var n=0,i=r.length;n<i;n++){var a=r[n];!t.emphasis[e].hasOwnProperty(a)&&t[e].hasOwnProperty(a)&&(t.emphasis[e][a]=t[e][a])}}}var p1=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function zl(t){return Le(t)&&!we(t)&&!(t instanceof Date)?t.value:t}function AB(t){return Le(t)&&!(t instanceof Array)}function DB(t,e,r){var n=r==="normalMerge",i=r==="replaceMerge",a=r==="replaceAll";t=t||[],e=(e||[]).slice();var o=Be();Y(e,function(l,f){if(!Le(l)){e[f]=null;return}});var s=RB(t,o,r);return(n||i)&&OB(s,t,o,e),n&&FB(s,e),n||i?BB(s,e,i):a&&zB(s,e),GB(s),s}function RB(t,e,r){var n=[];if(r==="replaceAll")return n;for(var i=0;i<t.length;i++){var a=t[i];a&&a.id!=null&&e.set(a.id,i),n.push({existing:r==="replaceMerge"||dl(a)?null:a,newOption:null,keyInfo:null,brandNew:null})}return n}function OB(t,e,r,n){Y(n,function(i,a){if(!(!i||i.id==null)){var o=Wu(i.id),s=r.get(o);if(s!=null){var l=t[s];ki(!l.newOption,'Duplicated option on id "'+o+'".'),l.newOption=i,l.existing=e[s],n[a]=null}}})}function FB(t,e){Y(e,function(r,n){if(!(!r||r.name==null))for(var i=0;i<t.length;i++){var a=t[i].existing;if(!t[i].newOption&&a&&(a.id==null||r.id==null)&&!dl(r)&&!dl(a)&&$C("name",a,r)){t[i].newOption=r,e[n]=null;return}}})}function BB(t,e,r){Y(e,function(n){if(n){for(var i,a=0;(i=t[a])&&(i.newOption||dl(i.existing)||i.existing&&n.id!=null&&!$C("id",n,i.existing));)a++;i?(i.newOption=n,i.brandNew=r):t.push({newOption:n,brandNew:r,existing:null,keyInfo:null}),a++}})}function zB(t,e){Y(e,function(r){t.push({newOption:r,brandNew:!0,existing:null,keyInfo:null})})}function GB(t){var e=Be();Y(t,function(r){var n=r.existing;n&&e.set(n.id,r)}),Y(t,function(r){var n=r.newOption;ki(!n||n.id==null||!e.get(n.id)||e.get(n.id)===r,"id duplicates: "+(n&&n.id)),n&&n.id!=null&&e.set(n.id,r),!r.keyInfo&&(r.keyInfo={})}),Y(t,function(r,n){var i=r.existing,a=r.newOption,o=r.keyInfo;if(Le(a)){if(o.name=a.name!=null?Wu(a.name):i?i.name:HC+n,i)o.id=Wu(i.id);else if(a.id!=null)o.id=Wu(a.id);else{var s=0;do o.id="\0"+o.name+"\0"+s++;while(e.get(o.id))}e.set(o.id,r)}})}function $C(t,e,r){var n=Xn(e[t],null),i=Xn(r[t],null);return n!=null&&i!=null&&n===i}function Wu(t){return Xn(t,"")}function Xn(t,e){return t==null?e:ke(t)?t:Tt(t)||yp(t)?t+"":e}function UC(t){var e=t.name;return!!(e&&e.indexOf(HC))}function dl(t){return t&&t.id!=null&&Wu(t.id).indexOf(NB)===0}function VB(t,e,r){Y(t,function(n){var i=n.newOption;Le(i)&&(n.keyInfo.mainType=e,n.keyInfo.subType=HB(e,i,n.existing,r))})}function HB(t,e,r,n){var i=e.type?e.type:r?r.subType:n.determineSubType(t,e);return i}function _o(t,e){if(e.dataIndexInside!=null)return e.dataIndexInside;if(e.dataIndex!=null)return we(e.dataIndex)?Me(e.dataIndex,function(r){return t.indexOfRawIndex(r)}):t.indexOfRawIndex(e.dataIndex);if(e.name!=null)return we(e.name)?Me(e.name,function(r){return t.indexOfName(r)}):t.indexOfName(e.name)}function Ot(){var t="__ec_inner_"+$B++;return function(e){return e[t]||(e[t]={})}}var $B=GC();function od(t,e,r){var n=lm(e,r),i=n.mainTypeSpecified,a=n.queryOptionMap,o=n.others,s=o,l=r?r.defaultMainType:null;return!i&&l&&a.set(l,{}),a.each(function(f,v){var d=Gl(t,v,f,{useDefault:l===v,enableAll:r&&r.enableAll!=null?r.enableAll:!0,enableNone:r&&r.enableNone!=null?r.enableNone:!0});s[v+"Models"]=d.models,s[v+"Model"]=d.models[0]}),s}function lm(t,e){var r;if(ke(t)){var n={};n[t+"Index"]=0,r=n}else r=t;var i=Be(),a={},o=!1;return Y(r,function(s,l){if(l==="dataIndex"||l==="dataIndexInside"){a[l]=s;return}var f=l.match(/^(\w+)(Index|Id|Name)$/)||[],v=f[1],d=(f[2]||"").toLowerCase();if(!(!v||!d||e&&e.includeMainTypes&&lt(e.includeMainTypes,v)<0)){o=o||!!v;var g=i.get(v)||i.set(v,{});g[d]=s}}),{mainTypeSpecified:o,queryOptionMap:i,others:a}}var bn={useDefault:!0,enableAll:!1,enableNone:!1};function Gl(t,e,r,n){n=n||bn;var i=r.index,a=r.id,o=r.name,s={models:null,specified:i!=null||a!=null||o!=null};if(!s.specified){var l=void 0;return s.models=n.useDefault&&(l=t.getComponent(e))?[l]:[],s}return i==="none"||i===!1?(ki(n.enableNone,'`"none"` or `false` is not a valid value on index option.'),s.models=[],s):(i==="all"&&(ki(n.enableAll,'`"all"` is not a valid value on index option.'),i=a=o=null),s.models=t.queryComponents({mainType:e,index:i,id:a,name:o}),s)}function YC(t,e,r){t.setAttribute?t.setAttribute(e,r):t[e]=r}function UB(t,e){return t.getAttribute?t.getAttribute(e):t[e]}function YB(t){return t==="auto"?Oe.domSupported?"html":"richText":t||"html"}function qB(t,e,r,n,i){var a=e==null||e==="auto";if(n==null)return n;if(Tt(n)){var o=v1(r||0,n,i);return Dt(o,a?Math.max(mi(r||0),mi(n)):e)}else{if(ke(n))return i<1?r:n;for(var s=[],l=r,f=n,v=Math.max(l?l.length:0,f.length),d=0;d<v;++d){var g=t.getDimensionInfo(d);if(g&&g.type==="ordinal")s[d]=(i<1&&l?l:f)[d];else{var p=l&&l[d]?l[d]:0,y=f[d],o=v1(p,y,i);s[d]=Dt(o,a?Math.max(mi(p),mi(y)):e)}}return s}}var WB=".",Oa="___EC__COMPONENT__CONTAINER___",qC="___EC__EXTENDED_CLASS___";function $n(t){var e={main:"",sub:""};if(t){var r=t.split(WB);e.main=r[0]||"",e.sub=r[1]||""}return e}function XB(t){ki(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(t),'componentType "'+t+'" illegal')}function KB(t){return!!(t&&t[qC])}function cm(t,e){t.$constructor=t,t.extend=function(r){var n=this,i;return ZB(n)?i=function(a){xe(o,a);function o(){return a.apply(this,arguments)||this}return o}(n):(i=function(){(r.$constructor||n).apply(this,arguments)},e5(i,this)),ye(i.prototype,r),i[qC]=!0,i.extend=this.extend,i.superCall=JB,i.superApply=e4,i.superClass=n,i}}function ZB(t){return ze(t)&&/^class\s/.test(Function.prototype.toString.call(t))}function WC(t,e){t.extend=e.extend}var jB=Math.round(Math.random()*10);function QB(t){var e=["__\0is_clz",jB++].join("_");t.prototype[e]=!0,t.isInstance=function(r){return!!(r&&r[e])}}function JB(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return this.superClass.prototype[e].apply(t,r)}function e4(t,e,r){return this.superClass.prototype[e].apply(t,r)}function Rh(t){var e={};t.registerClass=function(n){var i=n.type||n.prototype.type;if(i){XB(i),n.prototype.type=i;var a=$n(i);if(!a.sub)e[a.main]=n;else if(a.sub!==Oa){var o=r(a);o[a.sub]=n}}return n},t.getClass=function(n,i,a){var o=e[n];if(o&&o[Oa]&&(o=i?o[i]:null),a&&!o)throw new Error(i?"Component "+n+"."+(i||"")+" is used but not imported.":n+".type should be specified.");return o},t.getClassesByMainType=function(n){var i=$n(n),a=[],o=e[i.main];return o&&o[Oa]?Y(o,function(s,l){l!==Oa&&a.push(s)}):a.push(o),a},t.hasClass=function(n){var i=$n(n);return!!e[i.main]},t.getAllClassMainTypes=function(){var n=[];return Y(e,function(i,a){n.push(a)}),n},t.hasSubTypes=function(n){var i=$n(n),a=e[i.main];return a&&a[Oa]};function r(n){var i=e[n.main];return(!i||!i[Oa])&&(i=e[n.main]={},i[Oa]=!0),i}}function pl(t,e){for(var r=0;r<t.length;r++)t[r][1]||(t[r][1]=t[r][0]);return e=e||!1,function(n,i,a){for(var o={},s=0;s<t.length;s++){var l=t[s][1];if(!(i&&lt(i,l)>=0||a&&lt(a,l)<0)){var f=n.getShallow(l,e);f!=null&&(o[t[s][0]]=f)}}return o}}var t4=[["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]],r4=pl(t4),n4=function(){function t(){}return t.prototype.getAreaStyle=function(e,r){return r4(this,e,r)},t}(),Rp=new Bl(50);function i4(t){if(typeof t=="string"){var e=Rp.get(t);return e&&e.image}else return t}function XC(t,e,r,n,i){if(t)if(typeof t=="string"){if(e&&e.__zrImageSrc===t||!r)return e;var a=Rp.get(t),o={hostEl:r,cb:n,cbPayload:i};return a?(e=a.image,!Oh(e)&&a.pending.push(o)):(e=zs.loadImage(t,g1,g1),e.__zrImageSrc=t,Rp.put(t,e.__cachedImgObj={image:e,pending:[o]})),e}else return t;else return e}function g1(){var t=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var e=0;e<t.pending.length;e++){var r=t.pending[e],n=r.cb;n&&n(this,r.cbPayload),r.hostEl.dirty()}t.pending.length=0}function Oh(t){return t&&t.width&&t.height}var sd=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function a4(t,e,r,n,i,a){if(!r){t.text="",t.isTruncated=!1;return}var o=(e+"").split(`
`);a=KC(r,n,i,a);for(var s=!1,l={},f=0,v=o.length;f<v;f++)ZC(l,o[f],a),o[f]=l.textLine,s=s||l.isTruncated;t.text=o.join(`
`),t.isTruncated=s}function KC(t,e,r,n){n=n||{};var i=ye({},n);i.font=e,r=He(r,"..."),i.maxIterations=He(n.maxIterations,2);var a=i.minChar=He(n.minChar,0);i.cnCharWidth=Rr("",e);var o=i.ascCharWidth=Rr("a",e);i.placeholder=He(n.placeholder,"");for(var s=t=Math.max(0,t-1),l=0;l<a&&s>=o;l++)s-=o;var f=Rr(r,e);return f>s&&(r="",f=0),s=t-f,i.ellipsis=r,i.ellipsisWidth=f,i.contentWidth=s,i.containerWidth=t,i}function ZC(t,e,r){var n=r.containerWidth,i=r.font,a=r.contentWidth;if(!n){t.textLine="",t.isTruncated=!1;return}var o=Rr(e,i);if(o<=n){t.textLine=e,t.isTruncated=!1;return}for(var s=0;;s++){if(o<=a||s>=r.maxIterations){e+=r.ellipsis;break}var l=s===0?o4(e,a,r.ascCharWidth,r.cnCharWidth):o>0?Math.floor(e.length*a/o):0;e=e.substr(0,l),o=Rr(e,i)}e===""&&(e=r.placeholder),t.textLine=e,t.isTruncated=!0}function o4(t,e,r,n){for(var i=0,a=0,o=t.length;a<o&&i<e;a++){var s=t.charCodeAt(a);i+=0<=s&&s<=127?r:n}return a}function s4(t,e){t!=null&&(t+="");var r=e.overflow,n=e.padding,i=e.font,a=r==="truncate",o=sm(i),s=He(e.lineHeight,o),l=!!e.backgroundColor,f=e.lineOverflow==="truncate",v=!1,d=e.width,g;d!=null&&(r==="break"||r==="breakAll")?g=t?jC(t,e.font,d,r==="breakAll",0).lines:[]:g=t?t.split(`
`):[];var p=g.length*s,y=He(e.height,p);if(p>y&&f){var w=Math.floor(y/s);v=v||g.length>w,g=g.slice(0,w)}if(t&&a&&d!=null)for(var b=KC(d,i,e.ellipsis,{minChar:e.truncateMinChar,placeholder:e.placeholder}),x={},C=0;C<g.length;C++)ZC(x,g[C],b),g[C]=x.textLine,v=v||x.isTruncated;for(var T=y,k=0,C=0;C<g.length;C++)k=Math.max(Rr(g[C],i),k);d==null&&(d=k);var L=k;return n&&(T+=n[0]+n[2],L+=n[1]+n[3],d+=n[1]+n[3]),l&&(L=d),{lines:g,height:y,outerWidth:L,outerHeight:T,lineHeight:s,calculatedLineHeight:o,contentWidth:k,contentHeight:p,width:d,isTruncated:v}}var u4=function(){function t(){}return t}(),m1=function(){function t(e){this.tokens=[],e&&(this.tokens=e)}return t}(),l4=function(){function t(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[],this.isTruncated=!1}return t}();function c4(t,e){var r=new l4;if(t!=null&&(t+=""),!t)return r;for(var n=e.width,i=e.height,a=e.overflow,o=(a==="break"||a==="breakAll")&&n!=null?{width:n,accumWidth:0,breakAll:a==="breakAll"}:null,s=sd.lastIndex=0,l;(l=sd.exec(t))!=null;){var f=l.index;f>s&&ud(r,t.substring(s,f),e,o),ud(r,l[2],e,o,l[1]),s=sd.lastIndex}s<t.length&&ud(r,t.substring(s,t.length),e,o);var v=[],d=0,g=0,p=e.padding,y=a==="truncate",w=e.lineOverflow==="truncate",b={};function x(j,pe,ae){j.width=pe,j.lineHeight=ae,d+=ae,g=Math.max(g,pe)}e:for(var C=0;C<r.lines.length;C++){for(var T=r.lines[C],k=0,L=0,M=0;M<T.tokens.length;M++){var N=T.tokens[M],R=N.styleName&&e.rich[N.styleName]||{},D=N.textPadding=R.padding,F=D?D[1]+D[3]:0,z=N.font=R.font||e.font;N.contentHeight=sm(z);var G=He(R.height,N.contentHeight);if(N.innerHeight=G,D&&(G+=D[0]+D[2]),N.height=G,N.lineHeight=lf(R.lineHeight,e.lineHeight,G),N.align=R&&R.align||e.align,N.verticalAlign=R&&R.verticalAlign||"middle",w&&i!=null&&d+N.lineHeight>i){var q=r.lines.length;M>0?(T.tokens=T.tokens.slice(0,M),x(T,L,k),r.lines=r.lines.slice(0,C+1)):r.lines=r.lines.slice(0,C),r.isTruncated=r.isTruncated||r.lines.length<q;break e}var H=R.width,V=H==null||H==="auto";if(typeof H=="string"&&H.charAt(H.length-1)==="%")N.percentWidth=H,v.push(N),N.contentWidth=Rr(N.text,z);else{if(V){var U=R.backgroundColor,W=U&&U.image;W&&(W=i4(W),Oh(W)&&(N.width=Math.max(N.width,W.width*G/W.height)))}var Q=y&&n!=null?n-L:null;Q!=null&&Q<N.width?!V||Q<F?(N.text="",N.width=N.contentWidth=0):(a4(b,N.text,Q-F,z,e.ellipsis,{minChar:e.truncateMinChar}),N.text=b.text,r.isTruncated=r.isTruncated||b.isTruncated,N.width=N.contentWidth=Rr(N.text,z)):N.contentWidth=Rr(N.text,z)}N.width+=F,L+=N.width,R&&(k=Math.max(k,N.lineHeight))}x(T,L,k)}r.outerWidth=r.width=He(n,g),r.outerHeight=r.height=He(i,d),r.contentHeight=d,r.contentWidth=g,p&&(r.outerWidth+=p[1]+p[3],r.outerHeight+=p[0]+p[2]);for(var C=0;C<v.length;C++){var N=v[C],J=N.percentWidth;N.width=parseInt(J,10)/100*r.width}return r}function ud(t,e,r,n,i){var a=e==="",o=i&&r.rich[i]||{},s=t.lines,l=o.font||r.font,f=!1,v,d;if(n){var g=o.padding,p=g?g[1]+g[3]:0;if(o.width!=null&&o.width!=="auto"){var y=yo(o.width,n.width)+p;s.length>0&&y+n.accumWidth>n.width&&(v=e.split(`
`),f=!0),n.accumWidth=y}else{var w=jC(e,l,n.width,n.breakAll,n.accumWidth);n.accumWidth=w.accumWidth+p,d=w.linesWidths,v=w.lines}}else v=e.split(`
`);for(var b=0;b<v.length;b++){var x=v[b],C=new u4;if(C.styleName=i,C.text=x,C.isLineHolder=!x&&!a,typeof o.width=="number"?C.width=o.width:C.width=d?d[b]:Rr(x,l),!b&&!f){var T=(s[s.length-1]||(s[0]=new m1)).tokens,k=T.length;k===1&&T[0].isLineHolder?T[0]=C:(x||!k||a)&&T.push(C)}else s.push(new m1([C]))}}function f4(t){var e=t.charCodeAt(0);return e>=32&&e<=591||e>=880&&e<=4351||e>=4608&&e<=5119||e>=7680&&e<=8303}var h4=Gs(",&?/;] ".split(""),function(t,e){return t[e]=!0,t},{});function v4(t){return f4(t)?!!h4[t]:!0}function jC(t,e,r,n,i){for(var a=[],o=[],s="",l="",f=0,v=0,d=0;d<t.length;d++){var g=t.charAt(d);if(g===`
`){l&&(s+=l,v+=f),a.push(s),o.push(v),s="",l="",f=0,v=0;continue}var p=Rr(g,e),y=n?!1:!v4(g);if(a.length?v+p>r:i+v+p>r){v?(s||l)&&(y?(s||(s=l,l="",f=0,v=f),a.push(s),o.push(v-f),l+=g,f+=p,s="",v=f):(l&&(s+=l,l="",f=0),a.push(s),o.push(v),s=g,v=p)):y?(a.push(l),o.push(f),l=g,f=p):(a.push(g),o.push(p));continue}v+=p,y?(l+=g,f+=p):(l&&(s+=l,l="",f=0),s+=g)}return!a.length&&!s&&(s=t,l="",f=0),l&&(s+=l),s&&(a.push(s),o.push(v)),a.length===1&&(v+=i),{accumWidth:v,lines:a,linesWidths:o}}var Op="__zr_style_"+Math.round(Math.random()*10),lo={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},Fh={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};lo[Op]=!0;var y1=["z","z2","invisible"],d4=["invisible"],Hs=function(t){xe(e,t);function e(r){return t.call(this,r)||this}return e.prototype._init=function(r){for(var n=yt(r),i=0;i<n.length;i++){var a=n[i];a==="style"?this.useStyle(r[a]):t.prototype.attrKV.call(this,a,r[a])}this.style||this.useStyle({})},e.prototype.beforeBrush=function(){},e.prototype.afterBrush=function(){},e.prototype.innerBeforeBrush=function(){},e.prototype.innerAfterBrush=function(){},e.prototype.shouldBePainted=function(r,n,i,a){var o=this.transform;if(this.ignore||this.invisible||this.style.opacity===0||this.culling&&p4(this,r,n)||o&&!o[0]&&!o[3])return!1;if(i&&this.__clipPaths){for(var s=0;s<this.__clipPaths.length;++s)if(this.__clipPaths[s].isZeroArea())return!1}if(a&&this.parent)for(var l=this.parent;l;){if(l.ignore)return!1;l=l.parent}return!0},e.prototype.contain=function(r,n){return this.rectContain(r,n)},e.prototype.traverse=function(r,n){r.call(n,this)},e.prototype.rectContain=function(r,n){var i=this.transformCoordToLocal(r,n),a=this.getBoundingRect();return a.contain(i[0],i[1])},e.prototype.getPaintRect=function(){var r=this._paintRect;if(!this._paintRect||this.__dirty){var n=this.transform,i=this.getBoundingRect(),a=this.style,o=a.shadowBlur||0,s=a.shadowOffsetX||0,l=a.shadowOffsetY||0;r=this._paintRect||(this._paintRect=new Je(0,0,0,0)),n?Je.applyTransform(r,i,n):r.copy(i),(o||s||l)&&(r.width+=o*2+Math.abs(s),r.height+=o*2+Math.abs(l),r.x=Math.min(r.x,r.x+s-o),r.y=Math.min(r.y,r.y+l-o));var f=this.dirtyRectTolerance;r.isZero()||(r.x=Math.floor(r.x-f),r.y=Math.floor(r.y-f),r.width=Math.ceil(r.width+1+f*2),r.height=Math.ceil(r.height+1+f*2))}return r},e.prototype.setPrevPaintRect=function(r){r?(this._prevPaintRect=this._prevPaintRect||new Je(0,0,0,0),this._prevPaintRect.copy(r)):this._prevPaintRect=null},e.prototype.getPrevPaintRect=function(){return this._prevPaintRect},e.prototype.animateStyle=function(r){return this.animate("style",r)},e.prototype.updateDuringAnimation=function(r){r==="style"?this.dirtyStyle():this.markRedraw()},e.prototype.attrKV=function(r,n){r!=="style"?t.prototype.attrKV.call(this,r,n):this.style?this.setStyle(n):this.useStyle(n)},e.prototype.setStyle=function(r,n){return typeof r=="string"?this.style[r]=n:ye(this.style,r),this.dirtyStyle(),this},e.prototype.dirtyStyle=function(r){r||this.markRedraw(),this.__dirty|=ff,this._rect&&(this._rect=null)},e.prototype.dirty=function(){this.dirtyStyle()},e.prototype.styleChanged=function(){return!!(this.__dirty&ff)},e.prototype.styleUpdated=function(){this.__dirty&=-3},e.prototype.createStyle=function(r){return Nh(lo,r)},e.prototype.useStyle=function(r){r[Op]||(r=this.createStyle(r)),this.__inHover?this.__hoverStyle=r:this.style=r,this.dirtyStyle()},e.prototype.isStyleObject=function(r){return r[Op]},e.prototype._innerSaveToNormal=function(r){t.prototype._innerSaveToNormal.call(this,r);var n=this._normalState;r.style&&!n.style&&(n.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(r,n,y1)},e.prototype._applyStateObj=function(r,n,i,a,o,s){t.prototype._applyStateObj.call(this,r,n,i,a,o,s);var l=!(n&&a),f;if(n&&n.style?o?a?f=n.style:(f=this._mergeStyle(this.createStyle(),i.style),this._mergeStyle(f,n.style)):(f=this._mergeStyle(this.createStyle(),a?this.style:i.style),this._mergeStyle(f,n.style)):l&&(f=i.style),f)if(o){var v=this.style;if(this.style=this.createStyle(l?{}:v),l)for(var d=yt(v),g=0;g<d.length;g++){var p=d[g];p in f&&(f[p]=f[p],this.style[p]=v[p])}for(var y=yt(f),g=0;g<y.length;g++){var p=y[g];this.style[p]=this.style[p]}this._transitionState(r,{style:f},s,this.getAnimationStyleProps())}else this.useStyle(f);for(var w=this.__inHover?d4:y1,g=0;g<w.length;g++){var p=w[g];n&&n[p]!=null?this[p]=n[p]:l&&i[p]!=null&&(this[p]=i[p])}},e.prototype._mergeStates=function(r){for(var n=t.prototype._mergeStates.call(this,r),i,a=0;a<r.length;a++){var o=r[a];o.style&&(i=i||{},this._mergeStyle(i,o.style))}return i&&(n.style=i),n},e.prototype._mergeStyle=function(r,n){return ye(r,n),r},e.prototype.getAnimationStyleProps=function(){return Fh},e.initDefaultProps=function(){var r=e.prototype;r.type="displayable",r.invisible=!1,r.z=0,r.z2=0,r.zlevel=0,r.culling=!1,r.cursor="pointer",r.rectHover=!1,r.incremental=!1,r._rect=null,r.dirtyRectTolerance=0,r.__dirty=Wn|ff}(),e}(Dh),ld=new Je(0,0,0,0),cd=new Je(0,0,0,0);function p4(t,e,r){return ld.copy(t.getBoundingRect()),t.transform&&ld.applyTransform(t.transform),cd.width=e,cd.height=r,!ld.intersect(cd)}var pr=Math.min,gr=Math.max,fd=Math.sin,hd=Math.cos,Fa=Math.PI*2,Ic=Vs(),Mc=Vs(),Lc=Vs();function QC(t,e,r){if(t.length!==0){for(var n=t[0],i=n[0],a=n[0],o=n[1],s=n[1],l=1;l<t.length;l++)n=t[l],i=pr(i,n[0]),a=gr(a,n[0]),o=pr(o,n[1]),s=gr(s,n[1]);e[0]=i,e[1]=o,r[0]=a,r[1]=s}}function _1(t,e,r,n,i,a){i[0]=pr(t,r),i[1]=pr(e,n),a[0]=gr(t,r),a[1]=gr(e,n)}var w1=[],b1=[];function g4(t,e,r,n,i,a,o,s,l,f){var v=EC,d=Ht,g=v(t,r,i,o,w1);l[0]=1/0,l[1]=1/0,f[0]=-1/0,f[1]=-1/0;for(var p=0;p<g;p++){var y=d(t,r,i,o,w1[p]);l[0]=pr(y,l[0]),f[0]=gr(y,f[0])}g=v(e,n,a,s,b1);for(var p=0;p<g;p++){var w=d(e,n,a,s,b1[p]);l[1]=pr(w,l[1]),f[1]=gr(w,f[1])}l[0]=pr(t,l[0]),f[0]=gr(t,f[0]),l[0]=pr(o,l[0]),f[0]=gr(o,f[0]),l[1]=pr(e,l[1]),f[1]=gr(e,f[1]),l[1]=pr(s,l[1]),f[1]=gr(s,f[1])}function m4(t,e,r,n,i,a,o,s){var l=kC,f=vr,v=gr(pr(l(t,r,i),1),0),d=gr(pr(l(e,n,a),1),0),g=f(t,r,i,v),p=f(e,n,a,d);o[0]=pr(t,i,g),o[1]=pr(e,a,p),s[0]=gr(t,i,g),s[1]=gr(e,a,p)}function y4(t,e,r,n,i,a,o,s,l){var f=rs,v=ns,d=Math.abs(i-a);if(d%Fa<1e-4&&d>1e-4){s[0]=t-r,s[1]=e-n,l[0]=t+r,l[1]=e+n;return}if(Ic[0]=hd(i)*r+t,Ic[1]=fd(i)*n+e,Mc[0]=hd(a)*r+t,Mc[1]=fd(a)*n+e,f(s,Ic,Mc),v(l,Ic,Mc),i=i%Fa,i<0&&(i=i+Fa),a=a%Fa,a<0&&(a=a+Fa),i>a&&!o?a+=Fa:i<a&&o&&(i+=Fa),o){var g=a;a=i,i=g}for(var p=0;p<a;p+=Math.PI/2)p>i&&(Lc[0]=hd(p)*r+t,Lc[1]=fd(p)*n+e,f(s,Lc,s),v(l,Lc,l))}var tt={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},Ba=[],za=[],Dn=[],Oi=[],Rn=[],On=[],vd=Math.min,dd=Math.max,Ga=Math.cos,Va=Math.sin,ci=Math.abs,Fp=Math.PI,Wi=Fp*2,pd=typeof Float32Array<"u",mu=[];function gd(t){var e=Math.round(t/Fp*1e8)/1e8;return e%2*Fp}function _4(t,e){var r=gd(t[0]);r<0&&(r+=Wi);var n=r-t[0],i=t[1];i+=n,!e&&i-r>=Wi?i=r+Wi:e&&r-i>=Wi?i=r-Wi:!e&&r>i?i=r+(Wi-gd(r-i)):e&&r<i&&(i=r-(Wi-gd(i-r))),t[0]=r,t[1]=i}var ha=function(){function t(e){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,e&&(this._saveData=!1),this._saveData&&(this.data=[])}return t.prototype.increaseVersion=function(){this._version++},t.prototype.getVersion=function(){return this._version},t.prototype.setScale=function(e,r,n){n=n||0,n>0&&(this._ux=ci(n/Xf/e)||0,this._uy=ci(n/Xf/r)||0)},t.prototype.setDPR=function(e){this.dpr=e},t.prototype.setContext=function(e){this._ctx=e},t.prototype.getContext=function(){return this._ctx},t.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},t.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},t.prototype.moveTo=function(e,r){return this._drawPendingPt(),this.addData(tt.M,e,r),this._ctx&&this._ctx.moveTo(e,r),this._x0=e,this._y0=r,this._xi=e,this._yi=r,this},t.prototype.lineTo=function(e,r){var n=ci(e-this._xi),i=ci(r-this._yi),a=n>this._ux||i>this._uy;if(this.addData(tt.L,e,r),this._ctx&&a&&this._ctx.lineTo(e,r),a)this._xi=e,this._yi=r,this._pendingPtDist=0;else{var o=n*n+i*i;o>this._pendingPtDist&&(this._pendingPtX=e,this._pendingPtY=r,this._pendingPtDist=o)}return this},t.prototype.bezierCurveTo=function(e,r,n,i,a,o){return this._drawPendingPt(),this.addData(tt.C,e,r,n,i,a,o),this._ctx&&this._ctx.bezierCurveTo(e,r,n,i,a,o),this._xi=a,this._yi=o,this},t.prototype.quadraticCurveTo=function(e,r,n,i){return this._drawPendingPt(),this.addData(tt.Q,e,r,n,i),this._ctx&&this._ctx.quadraticCurveTo(e,r,n,i),this._xi=n,this._yi=i,this},t.prototype.arc=function(e,r,n,i,a,o){this._drawPendingPt(),mu[0]=i,mu[1]=a,_4(mu,o),i=mu[0],a=mu[1];var s=a-i;return this.addData(tt.A,e,r,n,n,i,s,0,o?0:1),this._ctx&&this._ctx.arc(e,r,n,i,a,o),this._xi=Ga(a)*n+e,this._yi=Va(a)*n+r,this},t.prototype.arcTo=function(e,r,n,i,a){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(e,r,n,i,a),this},t.prototype.rect=function(e,r,n,i){return this._drawPendingPt(),this._ctx&&this._ctx.rect(e,r,n,i),this.addData(tt.R,e,r,n,i),this},t.prototype.closePath=function(){this._drawPendingPt(),this.addData(tt.Z);var e=this._ctx,r=this._x0,n=this._y0;return e&&e.closePath(),this._xi=r,this._yi=n,this},t.prototype.fill=function(e){e&&e.fill(),this.toStatic()},t.prototype.stroke=function(e){e&&e.stroke(),this.toStatic()},t.prototype.len=function(){return this._len},t.prototype.setData=function(e){var r=e.length;!(this.data&&this.data.length===r)&&pd&&(this.data=new Float32Array(r));for(var n=0;n<r;n++)this.data[n]=e[n];this._len=r},t.prototype.appendPath=function(e){e instanceof Array||(e=[e]);for(var r=e.length,n=0,i=this._len,a=0;a<r;a++)n+=e[a].len();pd&&this.data instanceof Float32Array&&(this.data=new Float32Array(i+n));for(var a=0;a<r;a++)for(var o=e[a].data,s=0;s<o.length;s++)this.data[i++]=o[s];this._len=i},t.prototype.addData=function(e,r,n,i,a,o,s,l,f){if(this._saveData){var v=this.data;this._len+arguments.length>v.length&&(this._expandData(),v=this.data);for(var d=0;d<arguments.length;d++)v[this._len++]=arguments[d]}},t.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},t.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var e=[],r=0;r<this._len;r++)e[r]=this.data[r];this.data=e}},t.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var e=this.data;e instanceof Array&&(e.length=this._len,pd&&this._len>11&&(this.data=new Float32Array(e)))}},t.prototype.getBoundingRect=function(){Dn[0]=Dn[1]=Rn[0]=Rn[1]=Number.MAX_VALUE,Oi[0]=Oi[1]=On[0]=On[1]=-Number.MAX_VALUE;var e=this.data,r=0,n=0,i=0,a=0,o;for(o=0;o<this._len;){var s=e[o++],l=o===1;switch(l&&(r=e[o],n=e[o+1],i=r,a=n),s){case tt.M:r=i=e[o++],n=a=e[o++],Rn[0]=i,Rn[1]=a,On[0]=i,On[1]=a;break;case tt.L:_1(r,n,e[o],e[o+1],Rn,On),r=e[o++],n=e[o++];break;case tt.C:g4(r,n,e[o++],e[o++],e[o++],e[o++],e[o],e[o+1],Rn,On),r=e[o++],n=e[o++];break;case tt.Q:m4(r,n,e[o++],e[o++],e[o],e[o+1],Rn,On),r=e[o++],n=e[o++];break;case tt.A:var f=e[o++],v=e[o++],d=e[o++],g=e[o++],p=e[o++],y=e[o++]+p;o+=1;var w=!e[o++];l&&(i=Ga(p)*d+f,a=Va(p)*g+v),y4(f,v,d,g,p,y,w,Rn,On),r=Ga(y)*d+f,n=Va(y)*g+v;break;case tt.R:i=r=e[o++],a=n=e[o++];var b=e[o++],x=e[o++];_1(i,a,i+b,a+x,Rn,On);break;case tt.Z:r=i,n=a;break}rs(Dn,Dn,Rn),ns(Oi,Oi,On)}return o===0&&(Dn[0]=Dn[1]=Oi[0]=Oi[1]=0),new Je(Dn[0],Dn[1],Oi[0]-Dn[0],Oi[1]-Dn[1])},t.prototype._calculateLength=function(){var e=this.data,r=this._len,n=this._ux,i=this._uy,a=0,o=0,s=0,l=0;this._pathSegLen||(this._pathSegLen=[]);for(var f=this._pathSegLen,v=0,d=0,g=0;g<r;){var p=e[g++],y=g===1;y&&(a=e[g],o=e[g+1],s=a,l=o);var w=-1;switch(p){case tt.M:a=s=e[g++],o=l=e[g++];break;case tt.L:{var b=e[g++],x=e[g++],C=b-a,T=x-o;(ci(C)>n||ci(T)>i||g===r-1)&&(w=Math.sqrt(C*C+T*T),a=b,o=x);break}case tt.C:{var k=e[g++],L=e[g++],b=e[g++],x=e[g++],M=e[g++],N=e[g++];w=H5(a,o,k,L,b,x,M,N,10),a=M,o=N;break}case tt.Q:{var k=e[g++],L=e[g++],b=e[g++],x=e[g++];w=Y5(a,o,k,L,b,x,10),a=b,o=x;break}case tt.A:var R=e[g++],D=e[g++],F=e[g++],z=e[g++],G=e[g++],q=e[g++],H=q+G;g+=1,y&&(s=Ga(G)*F+R,l=Va(G)*z+D),w=dd(F,z)*vd(Wi,Math.abs(q)),a=Ga(H)*F+R,o=Va(H)*z+D;break;case tt.R:{s=a=e[g++],l=o=e[g++];var V=e[g++],U=e[g++];w=V*2+U*2;break}case tt.Z:{var C=s-a,T=l-o;w=Math.sqrt(C*C+T*T),a=s,o=l;break}}w>=0&&(f[d++]=w,v+=w)}return this._pathLen=v,v},t.prototype.rebuildPath=function(e,r){var n=this.data,i=this._ux,a=this._uy,o=this._len,s,l,f,v,d,g,p=r<1,y,w,b=0,x=0,C,T=0,k,L;if(!(p&&(this._pathSegLen||this._calculateLength(),y=this._pathSegLen,w=this._pathLen,C=r*w,!C)))e:for(var M=0;M<o;){var N=n[M++],R=M===1;switch(R&&(f=n[M],v=n[M+1],s=f,l=v),N!==tt.L&&T>0&&(e.lineTo(k,L),T=0),N){case tt.M:s=f=n[M++],l=v=n[M++],e.moveTo(f,v);break;case tt.L:{d=n[M++],g=n[M++];var D=ci(d-f),F=ci(g-v);if(D>i||F>a){if(p){var z=y[x++];if(b+z>C){var G=(C-b)/z;e.lineTo(f*(1-G)+d*G,v*(1-G)+g*G);break e}b+=z}e.lineTo(d,g),f=d,v=g,T=0}else{var q=D*D+F*F;q>T&&(k=d,L=g,T=q)}break}case tt.C:{var H=n[M++],V=n[M++],U=n[M++],W=n[M++],Q=n[M++],J=n[M++];if(p){var z=y[x++];if(b+z>C){var G=(C-b)/z;fa(f,H,U,Q,G,Ba),fa(v,V,W,J,G,za),e.bezierCurveTo(Ba[1],za[1],Ba[2],za[2],Ba[3],za[3]);break e}b+=z}e.bezierCurveTo(H,V,U,W,Q,J),f=Q,v=J;break}case tt.Q:{var H=n[M++],V=n[M++],U=n[M++],W=n[M++];if(p){var z=y[x++];if(b+z>C){var G=(C-b)/z;qf(f,H,U,G,Ba),qf(v,V,W,G,za),e.quadraticCurveTo(Ba[1],za[1],Ba[2],za[2]);break e}b+=z}e.quadraticCurveTo(H,V,U,W),f=U,v=W;break}case tt.A:var j=n[M++],pe=n[M++],ae=n[M++],ce=n[M++],oe=n[M++],be=n[M++],et=n[M++],Se=!n[M++],K=ae>ce?ae:ce,me=ci(ae-ce)>.001,_e=oe+be,ne=!1;if(p){var z=y[x++];b+z>C&&(_e=oe+be*(C-b)/z,ne=!0),b+=z}if(me&&e.ellipse?e.ellipse(j,pe,ae,ce,et,oe,_e,Se):e.arc(j,pe,K,oe,_e,Se),ne)break e;R&&(s=Ga(oe)*ae+j,l=Va(oe)*ce+pe),f=Ga(_e)*ae+j,v=Va(_e)*ce+pe;break;case tt.R:s=f=n[M],l=v=n[M+1],d=n[M++],g=n[M++];var B=n[M++],nt=n[M++];if(p){var z=y[x++];if(b+z>C){var ft=C-b;e.moveTo(d,g),e.lineTo(d+vd(ft,B),g),ft-=B,ft>0&&e.lineTo(d+B,g+vd(ft,nt)),ft-=nt,ft>0&&e.lineTo(d+dd(B-ft,0),g+nt),ft-=B,ft>0&&e.lineTo(d,g+dd(nt-ft,0));break e}b+=z}e.rect(d,g,B,nt);break;case tt.Z:if(p){var z=y[x++];if(b+z>C){var G=(C-b)/z;e.lineTo(f*(1-G)+s*G,v*(1-G)+l*G);break e}b+=z}e.closePath(),f=s,v=l}}},t.prototype.clone=function(){var e=new t,r=this.data;return e.data=r.slice?r.slice():Array.prototype.slice.call(r),e._len=this._len,e},t.CMD=tt,t.initDefaultProps=function(){var e=t.prototype;e._saveData=!0,e._ux=0,e._uy=0,e._pendingPtDist=0,e._version=0}(),t}();function Vo(t,e,r,n,i,a,o){if(i===0)return!1;var s=i,l=0,f=t;if(o>e+s&&o>n+s||o<e-s&&o<n-s||a>t+s&&a>r+s||a<t-s&&a<r-s)return!1;if(t!==r)l=(e-n)/(t-r),f=(t*n-r*e)/(t-r);else return Math.abs(a-t)<=s/2;var v=l*a-o+f,d=v*v/(l*l+1);return d<=s/2*s/2}function w4(t,e,r,n,i,a,o,s,l,f,v){if(l===0)return!1;var d=l;if(v>e+d&&v>n+d&&v>a+d&&v>s+d||v<e-d&&v<n-d&&v<a-d&&v<s-d||f>t+d&&f>r+d&&f>i+d&&f>o+d||f<t-d&&f<r-d&&f<i-d&&f<o-d)return!1;var g=V5(t,e,r,n,i,a,o,s,f,v);return g<=d/2}function b4(t,e,r,n,i,a,o,s,l){if(o===0)return!1;var f=o;if(l>e+f&&l>n+f&&l>a+f||l<e-f&&l<n-f&&l<a-f||s>t+f&&s>r+f&&s>i+f||s<t-f&&s<r-f&&s<i-f)return!1;var v=U5(t,e,r,n,i,a,s,l);return v<=f/2}var x1=Math.PI*2;function Pc(t){return t%=x1,t<0&&(t+=x1),t}var yu=Math.PI*2;function x4(t,e,r,n,i,a,o,s,l){if(o===0)return!1;var f=o;s-=t,l-=e;var v=Math.sqrt(s*s+l*l);if(v-f>r||v+f<r)return!1;if(Math.abs(n-i)%yu<1e-4)return!0;if(a){var d=n;n=Pc(i),i=Pc(d)}else n=Pc(n),i=Pc(i);n>i&&(i+=yu);var g=Math.atan2(l,s);return g<0&&(g+=yu),g>=n&&g<=i||g+yu>=n&&g+yu<=i}function Ha(t,e,r,n,i,a){if(a>e&&a>n||a<e&&a<n||n===e)return 0;var o=(a-e)/(n-e),s=n<e?1:-1;(o===1||o===0)&&(s=n<e?.5:-.5);var l=o*(r-t)+t;return l===i?1/0:l>i?s:0}var Fi=ha.CMD,$a=Math.PI*2,S4=1e-4;function C4(t,e){return Math.abs(t-e)<S4}var nr=[-1,-1,-1],Zr=[-1,-1];function T4(){var t=Zr[0];Zr[0]=Zr[1],Zr[1]=t}function E4(t,e,r,n,i,a,o,s,l,f){if(f>e&&f>n&&f>a&&f>s||f<e&&f<n&&f<a&&f<s)return 0;var v=Yf(e,n,a,s,f,nr);if(v===0)return 0;for(var d=0,g=-1,p=void 0,y=void 0,w=0;w<v;w++){var b=nr[w],x=b===0||b===1?.5:1,C=Ht(t,r,i,o,b);C<l||(g<0&&(g=EC(e,n,a,s,Zr),Zr[1]<Zr[0]&&g>1&&T4(),p=Ht(e,n,a,s,Zr[0]),g>1&&(y=Ht(e,n,a,s,Zr[1]))),g===2?b<Zr[0]?d+=p<e?x:-x:b<Zr[1]?d+=y<p?x:-x:d+=s<y?x:-x:b<Zr[0]?d+=p<e?x:-x:d+=s<p?x:-x)}return d}function k4(t,e,r,n,i,a,o,s){if(s>e&&s>n&&s>a||s<e&&s<n&&s<a)return 0;var l=$5(e,n,a,s,nr);if(l===0)return 0;var f=kC(e,n,a);if(f>=0&&f<=1){for(var v=0,d=vr(e,n,a,f),g=0;g<l;g++){var p=nr[g]===0||nr[g]===1?.5:1,y=vr(t,r,i,nr[g]);y<o||(nr[g]<f?v+=d<e?p:-p:v+=a<d?p:-p)}return v}else{var p=nr[0]===0||nr[0]===1?.5:1,y=vr(t,r,i,nr[0]);return y<o?0:a<e?p:-p}}function I4(t,e,r,n,i,a,o,s){if(s-=e,s>r||s<-r)return 0;var l=Math.sqrt(r*r-s*s);nr[0]=-l,nr[1]=l;var f=Math.abs(n-i);if(f<1e-4)return 0;if(f>=$a-1e-4){n=0,i=$a;var v=a?1:-1;return o>=nr[0]+t&&o<=nr[1]+t?v:0}if(n>i){var d=n;n=i,i=d}n<0&&(n+=$a,i+=$a);for(var g=0,p=0;p<2;p++){var y=nr[p];if(y+t>o){var w=Math.atan2(s,y),v=a?1:-1;w<0&&(w=$a+w),(w>=n&&w<=i||w+$a>=n&&w+$a<=i)&&(w>Math.PI/2&&w<Math.PI*1.5&&(v=-v),g+=v)}}return g}function JC(t,e,r,n,i){for(var a=t.data,o=t.len(),s=0,l=0,f=0,v=0,d=0,g,p,y=0;y<o;){var w=a[y++],b=y===1;switch(w===Fi.M&&y>1&&(r||(s+=Ha(l,f,v,d,n,i))),b&&(l=a[y],f=a[y+1],v=l,d=f),w){case Fi.M:v=a[y++],d=a[y++],l=v,f=d;break;case Fi.L:if(r){if(Vo(l,f,a[y],a[y+1],e,n,i))return!0}else s+=Ha(l,f,a[y],a[y+1],n,i)||0;l=a[y++],f=a[y++];break;case Fi.C:if(r){if(w4(l,f,a[y++],a[y++],a[y++],a[y++],a[y],a[y+1],e,n,i))return!0}else s+=E4(l,f,a[y++],a[y++],a[y++],a[y++],a[y],a[y+1],n,i)||0;l=a[y++],f=a[y++];break;case Fi.Q:if(r){if(b4(l,f,a[y++],a[y++],a[y],a[y+1],e,n,i))return!0}else s+=k4(l,f,a[y++],a[y++],a[y],a[y+1],n,i)||0;l=a[y++],f=a[y++];break;case Fi.A:var x=a[y++],C=a[y++],T=a[y++],k=a[y++],L=a[y++],M=a[y++];y+=1;var N=!!(1-a[y++]);g=Math.cos(L)*T+x,p=Math.sin(L)*k+C,b?(v=g,d=p):s+=Ha(l,f,g,p,n,i);var R=(n-x)*k/T+x;if(r){if(x4(x,C,k,L,L+M,N,e,R,i))return!0}else s+=I4(x,C,k,L,L+M,N,R,i);l=Math.cos(L+M)*T+x,f=Math.sin(L+M)*k+C;break;case Fi.R:v=l=a[y++],d=f=a[y++];var D=a[y++],F=a[y++];if(g=v+D,p=d+F,r){if(Vo(v,d,g,d,e,n,i)||Vo(g,d,g,p,e,n,i)||Vo(g,p,v,p,e,n,i)||Vo(v,p,v,d,e,n,i))return!0}else s+=Ha(g,d,g,p,n,i),s+=Ha(v,p,v,d,n,i);break;case Fi.Z:if(r){if(Vo(l,f,v,d,e,n,i))return!0}else s+=Ha(l,f,v,d,n,i);l=v,f=d;break}}return!r&&!C4(f,d)&&(s+=Ha(l,f,v,d,n,i)||0),s!==0}function M4(t,e,r){return JC(t,0,!1,e,r)}function L4(t,e,r,n){return JC(t,e,!0,r,n)}var eT=$e({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},lo),P4={style:$e({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},Fh.style)},md=vl.concat(["invisible","culling","z","z2","zlevel","parent"]),We=function(t){xe(e,t);function e(r){return t.call(this,r)||this}return e.prototype.update=function(){var r=this;t.prototype.update.call(this);var n=this.style;if(n.decal){var i=this._decalEl=this._decalEl||new e;i.buildPath===e.prototype.buildPath&&(i.buildPath=function(l){r.buildPath(l,r.shape)}),i.silent=!0;var a=i.style;for(var o in n)a[o]!==n[o]&&(a[o]=n[o]);a.fill=n.fill?n.decal:null,a.decal=null,a.shadowColor=null,n.strokeFirst&&(a.stroke=null);for(var s=0;s<md.length;++s)i[md[s]]=this[md[s]];i.__dirty|=Wn}else this._decalEl&&(this._decalEl=null)},e.prototype.getDecalElement=function(){return this._decalEl},e.prototype._init=function(r){var n=yt(r);this.shape=this.getDefaultShape();var i=this.getDefaultStyle();i&&this.useStyle(i);for(var a=0;a<n.length;a++){var o=n[a],s=r[o];o==="style"?this.style?ye(this.style,s):this.useStyle(s):o==="shape"?ye(this.shape,s):t.prototype.attrKV.call(this,o,s)}this.style||this.useStyle({})},e.prototype.getDefaultStyle=function(){return null},e.prototype.getDefaultShape=function(){return{}},e.prototype.canBeInsideText=function(){return this.hasFill()},e.prototype.getInsideTextFill=function(){var r=this.style.fill;if(r!=="none"){if(ke(r)){var n=Wf(r,0);return n>.5?Ap:n>.2?fB:Dp}else if(r)return Dp}return Ap},e.prototype.getInsideTextStroke=function(r){var n=this.style.fill;if(ke(n)){var i=this.__zr,a=!!(i&&i.isDarkMode()),o=Wf(r,0)<Np;if(a===o)return n}},e.prototype.buildPath=function(r,n,i){},e.prototype.pathUpdated=function(){this.__dirty&=-5},e.prototype.getUpdatedPathProxy=function(r){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,r),this.path},e.prototype.createPathProxy=function(){this.path=new ha(!1)},e.prototype.hasStroke=function(){var r=this.style,n=r.stroke;return!(n==null||n==="none"||!(r.lineWidth>0))},e.prototype.hasFill=function(){var r=this.style,n=r.fill;return n!=null&&n!=="none"},e.prototype.getBoundingRect=function(){var r=this._rect,n=this.style,i=!r;if(i){var a=!1;this.path||(a=!0,this.createPathProxy());var o=this.path;(a||this.__dirty&Au)&&(o.beginPath(),this.buildPath(o,this.shape,!1),this.pathUpdated()),r=o.getBoundingRect()}if(this._rect=r,this.hasStroke()&&this.path&&this.path.len()>0){var s=this._rectStroke||(this._rectStroke=r.clone());if(this.__dirty||i){s.copy(r);var l=n.strokeNoScale?this.getLineScale():1,f=n.lineWidth;if(!this.hasFill()){var v=this.strokeContainThreshold;f=Math.max(f,v??4)}l>1e-10&&(s.width+=f/l,s.height+=f/l,s.x-=f/l/2,s.y-=f/l/2)}return s}return r},e.prototype.contain=function(r,n){var i=this.transformCoordToLocal(r,n),a=this.getBoundingRect(),o=this.style;if(r=i[0],n=i[1],a.contain(r,n)){var s=this.path;if(this.hasStroke()){var l=o.lineWidth,f=o.strokeNoScale?this.getLineScale():1;if(f>1e-10&&(this.hasFill()||(l=Math.max(l,this.strokeContainThreshold)),L4(s,l/f,r,n)))return!0}if(this.hasFill())return M4(s,r,n)}return!1},e.prototype.dirtyShape=function(){this.__dirty|=Au,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},e.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},e.prototype.animateShape=function(r){return this.animate("shape",r)},e.prototype.updateDuringAnimation=function(r){r==="style"?this.dirtyStyle():r==="shape"?this.dirtyShape():this.markRedraw()},e.prototype.attrKV=function(r,n){r==="shape"?this.setShape(n):t.prototype.attrKV.call(this,r,n)},e.prototype.setShape=function(r,n){var i=this.shape;return i||(i=this.shape={}),typeof r=="string"?i[r]=n:ye(i,r),this.dirtyShape(),this},e.prototype.shapeChanged=function(){return!!(this.__dirty&Au)},e.prototype.createStyle=function(r){return Nh(eT,r)},e.prototype._innerSaveToNormal=function(r){t.prototype._innerSaveToNormal.call(this,r);var n=this._normalState;r.shape&&!n.shape&&(n.shape=ye({},this.shape))},e.prototype._applyStateObj=function(r,n,i,a,o,s){t.prototype._applyStateObj.call(this,r,n,i,a,o,s);var l=!(n&&a),f;if(n&&n.shape?o?a?f=n.shape:(f=ye({},i.shape),ye(f,n.shape)):(f=ye({},a?this.shape:i.shape),ye(f,n.shape)):l&&(f=i.shape),f)if(o){this.shape=ye({},this.shape);for(var v={},d=yt(f),g=0;g<d.length;g++){var p=d[g];typeof f[p]=="object"?this.shape[p]=f[p]:v[p]=f[p]}this._transitionState(r,{shape:v},s)}else this.shape=f,this.dirtyShape()},e.prototype._mergeStates=function(r){for(var n=t.prototype._mergeStates.call(this,r),i,a=0;a<r.length;a++){var o=r[a];o.shape&&(i=i||{},this._mergeStyle(i,o.shape))}return i&&(n.shape=i),n},e.prototype.getAnimationStyleProps=function(){return P4},e.prototype.isZeroArea=function(){return!1},e.extend=function(r){var n=function(a){xe(o,a);function o(s){var l=a.call(this,s)||this;return r.init&&r.init.call(l,s),l}return o.prototype.getDefaultStyle=function(){return qe(r.style)},o.prototype.getDefaultShape=function(){return qe(r.shape)},o}(e);for(var i in r)typeof r[i]=="function"&&(n.prototype[i]=r[i]);return n},e.initDefaultProps=function(){var r=e.prototype;r.type="path",r.strokeContainThreshold=5,r.segmentIgnoreThreshold=0,r.subPixelOptimize=!1,r.autoBatch=!1,r.__dirty=Wn|ff|Au}(),e}(Hs),N4=$e({strokeFirst:!0,font:mo,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},eT),jf=function(t){xe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.hasStroke=function(){var r=this.style,n=r.stroke;return n!=null&&n!=="none"&&r.lineWidth>0},e.prototype.hasFill=function(){var r=this.style,n=r.fill;return n!=null&&n!=="none"},e.prototype.createStyle=function(r){return Nh(N4,r)},e.prototype.setBoundingRect=function(r){this._rect=r},e.prototype.getBoundingRect=function(){var r=this.style;if(!this._rect){var n=r.text;n!=null?n+="":n="";var i=om(n,r.font,r.textAlign,r.textBaseline);if(i.x+=r.x||0,i.y+=r.y||0,this.hasStroke()){var a=r.lineWidth;i.x-=a/2,i.y-=a/2,i.width+=a,i.height+=a}this._rect=i}return this._rect},e.initDefaultProps=function(){var r=e.prototype;r.dirtyRectTolerance=10}(),e}(Hs);jf.prototype.type="tspan";var A4=$e({x:0,y:0},lo),D4={style:$e({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},Fh.style)};function R4(t){return!!(t&&typeof t!="string"&&t.width&&t.height)}var ya=function(t){xe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.createStyle=function(r){return Nh(A4,r)},e.prototype._getSize=function(r){var n=this.style,i=n[r];if(i!=null)return i;var a=R4(n.image)?n.image:this.__image;if(!a)return 0;var o=r==="width"?"height":"width",s=n[o];return s==null?a[r]:a[r]/a[o]*s},e.prototype.getWidth=function(){return this._getSize("width")},e.prototype.getHeight=function(){return this._getSize("height")},e.prototype.getAnimationStyleProps=function(){return D4},e.prototype.getBoundingRect=function(){var r=this.style;return this._rect||(this._rect=new Je(r.x||0,r.y||0,this.getWidth(),this.getHeight())),this._rect},e}(Hs);ya.prototype.type="image";function O4(t,e){var r=e.x,n=e.y,i=e.width,a=e.height,o=e.r,s,l,f,v;i<0&&(r=r+i,i=-i),a<0&&(n=n+a,a=-a),typeof o=="number"?s=l=f=v=o:o instanceof Array?o.length===1?s=l=f=v=o[0]:o.length===2?(s=f=o[0],l=v=o[1]):o.length===3?(s=o[0],l=v=o[1],f=o[2]):(s=o[0],l=o[1],f=o[2],v=o[3]):s=l=f=v=0;var d;s+l>i&&(d=s+l,s*=i/d,l*=i/d),f+v>i&&(d=f+v,f*=i/d,v*=i/d),l+f>a&&(d=l+f,l*=a/d,f*=a/d),s+v>a&&(d=s+v,s*=a/d,v*=a/d),t.moveTo(r+s,n),t.lineTo(r+i-l,n),l!==0&&t.arc(r+i-l,n+l,l,-Math.PI/2,0),t.lineTo(r+i,n+a-f),f!==0&&t.arc(r+i-f,n+a-f,f,0,Math.PI/2),t.lineTo(r+v,n+a),v!==0&&t.arc(r+v,n+a-v,v,Math.PI/2,Math.PI),t.lineTo(r,n+s),s!==0&&t.arc(r+s,n+s,s,Math.PI,Math.PI*1.5)}var as=Math.round;function tT(t,e,r){if(e){var n=e.x1,i=e.x2,a=e.y1,o=e.y2;t.x1=n,t.x2=i,t.y1=a,t.y2=o;var s=r&&r.lineWidth;return s&&(as(n*2)===as(i*2)&&(t.x1=t.x2=io(n,s,!0)),as(a*2)===as(o*2)&&(t.y1=t.y2=io(a,s,!0))),t}}function rT(t,e,r){if(e){var n=e.x,i=e.y,a=e.width,o=e.height;t.x=n,t.y=i,t.width=a,t.height=o;var s=r&&r.lineWidth;return s&&(t.x=io(n,s,!0),t.y=io(i,s,!0),t.width=Math.max(io(n+a,s,!1)-t.x,a===0?0:1),t.height=Math.max(io(i+o,s,!1)-t.y,o===0?0:1)),t}}function io(t,e,r){if(!e)return t;var n=as(t*2);return(n+as(e))%2===0?n/2:(n+(r?1:-1))/2}var F4=function(){function t(){this.x=0,this.y=0,this.width=0,this.height=0}return t}(),B4={},ar=function(t){xe(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getDefaultShape=function(){return new F4},e.prototype.buildPath=function(r,n){var i,a,o,s;if(this.subPixelOptimize){var l=rT(B4,n,this.style);i=l.x,a=l.y,o=l.width,s=l.height,l.r=n.r,n=l}else i=n.x,a=n.y,o=n.width,s=n.height;n.r?O4(r,n):r.rect(i,a,o,s)},e.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},e}(We);ar.prototype.type="rect";var S1={fill:"#000"},C1=2,z4={style:$e({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},Fh.style)},Cn=function(t){xe(e,t);function e(r){var n=t.call(this)||this;return n.type="text",n._children=[],n._defaultStyle=S1,n.attr(r),n}return e.prototype.childrenRef=function(){return this._children},e.prototype.update=function(){t.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var r=0;r<this._children.length;r++){var n=this._children[r];n.zlevel=this.zlevel,n.z=this.z,n.z2=this.z2,n.culling=this.culling,n.cursor=this.cursor,n.invisible=this.invisible}},e.prototype.updateTransform=function(){var r=this.innerTransformable;r?(r.updateTransform(),r.transform&&(this.transform=r.transform)):t.prototype.updateTransform.call(this)},e.prototype.getLocalTransform=function(r){var n=this.innerTransformable;return n?n.getLocalTransform(r):t.prototype.getLocalTransform.call(this,r)},e.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),t.prototype.getComputedTransform.call(this)},e.prototype._updateSubTexts=function(){this._childCursor=0,U4(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},e.prototype.addSelfToZr=function(r){t.prototype.addSelfToZr.call(this,r);for(var n=0;n<this._children.length;n++)this._children[n].__zr=r},e.prototype.removeSelfFromZr=function(r){t.prototype.removeSelfFromZr.call(this,r);for(var n=0;n<this._children.length;n++)this._children[n].__zr=null},e.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var r=new Je(0,0,0,0),n=this._children,i=[],a=null,o=0;o<n.length;o++){var s=n[o],l=s.getBoundingRect(),f=s.getLocalTransform(i);f?(r.copy(l),r.applyTransform(f),a=a||r.clone(),a.union(r)):(a=a||l.clone(),a.union(l))}this._rect=a||r}return this._rect},e.prototype.setDefaultTextStyle=function(r){this._defaultStyle=r||S1},e.prototype.setTextContent=function(r){},e.prototype._mergeStyle=function(r,n){if(!n)return r;var i=n.rich,a=r.rich||i&&{};return ye(r,n),i&&a?(this._mergeRich(a,i),r.rich=a):a&&(r.rich=a),r},e.prototype._mergeRich=function(r,n){for(var i=yt(n),a=0;a<i.length;a++){var o=i[a];r[o]=r[o]||{},ye(r[o],n[o])}},e.prototype.getAnimationStyleProps=function(){return z4},e.prototype._getOrCreateChild=function(r){var n=this._children[this._childCursor];return(!n||!(n instanceof r))&&(n=new r),this._children[this._childCursor++]=n,n.__zr=this.__zr,n.parent=this,n},e.prototype._updatePlainTexts=function(){var r=this.style,n=r.font||mo,i=r.padding,a=P1(r),o=s4(a,r),s=yd(r),l=!!r.backgroundColor,f=o.outerHeight,v=o.outerWidth,d=o.contentWidth,g=o.lines,p=o.lineHeight,y=this._defaultStyle;this.isTruncated=!!o.isTruncated;var w=r.x||0,b=r.y||0,x=r.align||y.align||"left",C=r.verticalAlign||y.verticalAlign||"top",T=w,k=es(b,o.contentHeight,C);if(s||i){var L=Ru(w,v,x),M=es(b,f,C);s&&this._renderBackground(r,r,L,M,v,f)}k+=p/2,i&&(T=L1(w,x,i),C==="top"?k+=i[0]:C==="bottom"&&(k-=i[2]));for(var N=0,R=!1,D=M1("fill"in r?r.fill:(R=!0,y.fill)),F=I1("stroke"in r?r.stroke:!l&&(!y.autoStroke||R)?(N=C1,y.stroke):null),z=r.textShadowBlur>0,G=r.width!=null&&(r.overflow==="truncate"||r.overflow==="break"||r.overflow==="breakAll"),q=o.calculatedLineHeight,H=0;H<g.length;H++){var V=this._getOrCreateChild(jf),U=V.createStyle();V.useStyle(U),U.text=g[H],U.x=T,U.y=k,U.textAlign=x,U.textBaseline="middle",U.opacity=r.opacity,U.strokeFirst=!0,z&&(U.shadowBlur=r.textShadowBlur||0,U.shadowColor=r.textShadowColor||"transparent",U.shadowOffsetX=r.textShadowOffsetX||0,U.shadowOffsetY=r.textShadowOffsetY||0),U.stroke=F,U.fill=D,F&&(U.lineWidth=r.lineWidth||N,U.lineDash=r.lineDash,U.lineDashOffset=r.lineDashOffset||0),U.font=n,E1(U,r),k+=p,G&&V.setBoundingRect(new Je(Ru(U.x,d,U.textAlign),es(U.y,q,U.textBaseline),d,q))}},e.prototype._updateRichTexts=function(){var r=this.style,n=P1(r),i=c4(n,r),a=i.width,o=i.outerWidth,s=i.outerHeight,l=r.padding,f=r.x||0,v=r.y||0,d=this._defaultStyle,g=r.align||d.align,p=r.verticalAlign||d.verticalAlign;this.isTruncated=!!i.isTruncated;var y=Ru(f,o,g),w=es(v,s,p),b=y,x=w;l&&(b+=l[3],x+=l[0]);var C=b+a;yd(r)&&this._renderBackground(r,r,y,w,o,s);for(var T=!!r.backgroundColor,k=0;k<i.lines.length;k++){for(var L=i.lines[k],M=L.tokens,N=M.length,R=L.lineHeight,D=L.width,F=0,z=b,G=C,q=N-1,H=void 0;F<N&&(H=M[F],!H.align||H.align==="left");)this._placeToken(H,r,R,x,z,"left",T),D-=H.width,z+=H.width,F++;for(;q>=0&&(H=M[q],H.align==="right");)this._placeToken(H,r,R,x,G,"right",T),D-=H.width,G-=H.width,q--;for(z+=(a-(z-b)-(C-G)-D)/2;F<=q;)H=M[F],this._placeToken(H,r,R,x,z+H.width/2,"center",T),z+=H.width,F++;x+=R}},e.prototype._placeToken=function(r,n,i,a,o,s,l){var f=n.rich[r.styleName]||{};f.text=r.text;var v=r.verticalAlign,d=a+i/2;v==="top"?d=a+r.height/2:v==="bottom"&&(d=a+i-r.height/2);var g=!r.isLineHolder&&yd(f);g&&this._renderBackground(f,n,s==="right"?o-r.width:s==="center"?o-r.width/2:o,d-r.height/2,r.width,r.height);var p=!!f.backgroundColor,y=r.textPadding;y&&(o=L1(o,s,y),d-=r.height/2-y[0]-r.innerHeight/2);var w=this._getOrCreateChild(jf),b=w.createStyle();w.useStyle(b);var x=this._defaultStyle,C=!1,T=0,k=M1("fill"in f?f.fill:"fill"in n?n.fill:(C=!0,x.fill)),L=I1("stroke"in f?f.stroke:"stroke"in n?n.stroke:!p&&!l&&(!x.autoStroke||C)?(T=C1,x.stroke):null),M=f.textShadowBlur>0||n.textShadowBlur>0;b.text=r.text,b.x=o,b.y=d,M&&(b.shadowBlur=f.textShadowBlur||n.textShadowBlur||0,b.shadowColor=f.textShadowColor||n.textShadowColor||"transparent",b.shadowOffsetX=f.textShadowOffsetX||n.textShadowOffsetX||0,b.shadowOffsetY=f.textShadowOffsetY||n.textShadowOffsetY||0),b.textAlign=s,b.textBaseline="middle",b.font=r.font||mo,b.opacity=lf(f.opacity,n.opacity,1),E1(b,f),L&&(b.lineWidth=lf(f.lineWidth,n.lineWidth,T),b.lineDash=He(f.lineDash,n.lineDash),b.lineDashOffset=n.lineDashOffset||0,b.stroke=L),k&&(b.fill=k);var N=r.contentWidth,R=r.contentHeight;w.setBoundingRect(new Je(Ru(b.x,N,b.textAlign),es(b.y,R,b.textBaseline),N,R))},e.prototype._renderBackground=function(r,n,i,a,o,s){var l=r.backgroundColor,f=r.borderWidth,v=r.borderColor,d=l&&l.image,g=l&&!d,p=r.borderRadius,y=this,w,b;if(g||r.lineHeight||f&&v){w=this._getOrCreateChild(ar),w.useStyle(w.createStyle()),w.style.fill=null;var x=w.shape;x.x=i,x.y=a,x.width=o,x.height=s,x.r=p,w.dirtyShape()}if(g){var C=w.style;C.fill=l||null,C.fillOpacity=He(r.fillOpacity,1)}else if(d){b=this._getOrCreateChild(ya),b.onload=function(){y.dirtyStyle()};var T=b.style;T.image=l.image,T.x=i,T.y=a,T.width=o,T.height=s}if(f&&v){var C=w.style;C.lineWidth=f,C.stroke=v,C.strokeOpacity=He(r.strokeOpacity,1),C.lineDash=r.borderDash,C.lineDashOffset=r.borderDashOffset||0,w.strokeContainThreshold=0,w.hasFill()&&w.hasStroke()&&(C.strokeFirst=!0,C.lineWidth*=2)}var k=(w||b).style;k.shadowBlur=r.shadowBlur||0,k.shadowColor=r.shadowColor||"transparent",k.shadowOffsetX=r.shadowOffsetX||0,k.shadowOffsetY=r.shadowOffsetY||0,k.opacity=lf(r.opacity,n.opacity,1)},e.makeFont=function(r){var n="";return $4(r)&&(n=[r.fontStyle,r.fontWeight,H4(r.fontSize),r.fontFamily||"sans-serif"].join(" ")),n&&Hn(n)||r.textFont||r.font},e}(Hs),G4={left:!0,right:1,center:1},V4={top:1,bottom:1,middle:1},T1=["fontStyle","fontWeight","fontSize","fontFamily"];function H4(t){return typeof t=="string"&&(t.indexOf("px")!==-1||t.indexOf("rem")!==-1||t.indexOf("em")!==-1)?t:isNaN(+t)?Kg+"px":t+"px"}function E1(t,e){for(var r=0;r<T1.length;r++){var n=T1[r],i=e[n];i!=null&&(t[n]=i)}}function $4(t){return t.fontSize!=null||t.fontFamily||t.fontWeight}function U4(t){return k1(t),Y(t.rich,k1),t}function k1(t){if(t){t.font=Cn.makeFont(t);var e=t.align;e==="middle"&&(e="center"),t.align=e==null||G4[e]?e:"left";var r=t.verticalAlign;r==="center"&&(r="middle"),t.verticalAlign=r==null||V4[r]?r:"top";var n=t.padding;n&&(t.padding=vC(t.padding))}}function I1(t,e){return t==null||e<=0||t==="transparent"||t==="none"?null:t.image||t.colorStops?"#000":t}function M1(t){return t==null||t==="none"?null:t.image||t.colorStops?"#000":t}function L1(t,e,r){return e==="right"?t-r[1]:e==="center"?t+r[3]/2-r[1]/2:t+r[3]}function P1(t){var e=t.text;return e!=null&&(e+=""),e}function yd(t){return!!(t.backgroundColor||t.lineHeight||t.borderWidth&&t.borderColor)}var ht=Ot(),Y4=function(t,e,r,n){if(n){var i=ht(n);i.dataIndex=r,i.dataType=e,i.seriesIndex=t,i.ssrType="chart",n.type==="group"&&n.traverse(function(a){var o=ht(a);o.seriesIndex=t,o.dataIndex=r,o.dataType=e,o.ssrType="chart"})}},N1=1,A1={},nT=Ot(),fm=Ot(),hm=0,Bh=1,zh=2,Jn=["emphasis","blur","select"],D1=["normal","emphasis","blur","select"],q4=10,W4=9,co="highlight",mf="downplay",Xu="select",yf="unselect",Ku="toggleSelect";function Ho(t){return t!=null&&t!=="none"}function Gh(t,e,r){t.onHoverStateChange&&(t.hoverState||0)!==r&&t.onHoverStateChange(e),t.hoverState=r}function iT(t){Gh(t,"emphasis",zh)}function aT(t){t.hoverState===zh&&Gh(t,"normal",hm)}function vm(t){Gh(t,"blur",Bh)}function oT(t){t.hoverState===Bh&&Gh(t,"normal",hm)}function X4(t){t.selected=!0}function K4(t){t.selected=!1}function R1(t,e,r){e(t,r)}function Li(t,e,r){R1(t,e,r),t.isGroup&&t.traverse(function(n){R1(n,e,r)})}function O1(t,e){switch(e){case"emphasis":t.hoverState=zh;break;case"normal":t.hoverState=hm;break;case"blur":t.hoverState=Bh;break;case"select":t.selected=!0}}function Z4(t,e,r,n){for(var i=t.style,a={},o=0;o<e.length;o++){var s=e[o],l=i[s];a[s]=l??(n&&n[s])}for(var o=0;o<t.animators.length;o++){var f=t.animators[o];f.__fromStateTransition&&f.__fromStateTransition.indexOf(r)<0&&f.targetName==="style"&&f.saveTo(a,e)}return a}function j4(t,e,r,n){var i=r&&lt(r,"select")>=0,a=!1;if(t instanceof We){var o=nT(t),s=i&&o.selectFill||o.normalFill,l=i&&o.selectStroke||o.normalStroke;if(Ho(s)||Ho(l)){n=n||{};var f=n.style||{};f.fill==="inherit"?(a=!0,n=ye({},n),f=ye({},f),f.fill=s):!Ho(f.fill)&&Ho(s)?(a=!0,n=ye({},n),f=ye({},f),f.fill=e1(s)):!Ho(f.stroke)&&Ho(l)&&(a||(n=ye({},n),f=ye({},f)),f.stroke=e1(l)),n.style=f}}if(n&&n.z2==null){a||(n=ye({},n));var v=t.z2EmphasisLift;n.z2=t.z2+(v??q4)}return n}function Q4(t,e,r){if(r&&r.z2==null){r=ye({},r);var n=t.z2SelectLift;r.z2=t.z2+(n??W4)}return r}function J4(t,e,r){var n=lt(t.currentStates,e)>=0,i=t.style.opacity,a=n?null:Z4(t,["opacity"],e,{opacity:1});r=r||{};var o=r.style||{};return o.opacity==null&&(r=ye({},r),o=ye({opacity:n?i:a.opacity*.1},o),r.style=o),r}function _d(t,e){var r=this.states[t];if(this.style){if(t==="emphasis")return j4(this,t,e,r);if(t==="blur")return J4(this,t,r);if(t==="select")return Q4(this,t,r)}return r}function ez(t){t.stateProxy=_d;var e=t.getTextContent(),r=t.getTextGuideLine();e&&(e.stateProxy=_d),r&&(r.stateProxy=_d)}function F1(t,e){!cT(t,e)&&!t.__highByOuter&&Li(t,iT)}function B1(t,e){!cT(t,e)&&!t.__highByOuter&&Li(t,aT)}function Qf(t,e){t.__highByOuter|=1<<(e||0),Li(t,iT)}function Jf(t,e){!(t.__highByOuter&=~(1<<(e||0)))&&Li(t,aT)}function tz(t){Li(t,vm)}function sT(t){Li(t,oT)}function uT(t){Li(t,X4)}function lT(t){Li(t,K4)}function cT(t,e){return t.__highDownSilentOnTouch&&e.zrByTouch}function fT(t){var e=t.getModel(),r=[],n=[];e.eachComponent(function(i,a){var o=fm(a),s=i==="series",l=s?t.getViewOfSeriesModel(a):t.getViewOfComponentModel(a);!s&&n.push(l),o.isBlured&&(l.group.traverse(function(f){oT(f)}),s&&r.push(a)),o.isBlured=!1}),Y(n,function(i){i&&i.toggleBlurSeries&&i.toggleBlurSeries(r,!1,e)})}function Bp(t,e,r,n){var i=n.getModel();r=r||"coordinateSystem";function a(f,v){for(var d=0;d<v.length;d++){var g=f.getItemGraphicEl(v[d]);g&&sT(g)}}if(t!=null&&!(!e||e==="none")){var o=i.getSeriesByIndex(t),s=o.coordinateSystem;s&&s.master&&(s=s.master);var l=[];i.eachSeries(function(f){var v=o===f,d=f.coordinateSystem;d&&d.master&&(d=d.master);var g=d&&s?d===s:v;if(!(r==="series"&&!v||r==="coordinateSystem"&&!g||e==="series"&&v)){var p=n.getViewOfSeriesModel(f);if(p.group.traverse(function(b){b.__highByOuter&&v&&e==="self"||vm(b)}),xr(e))a(f.getData(),e);else if(Le(e))for(var y=yt(e),w=0;w<y.length;w++)a(f.getData(y[w]),e[y[w]]);l.push(f),fm(f).isBlured=!0}}),i.eachComponent(function(f,v){if(f!=="series"){var d=n.getViewOfComponentModel(v);d&&d.toggleBlurSeries&&d.toggleBlurSeries(l,!0,i)}})}}function zp(t,e,r){if(!(t==null||e==null)){var n=r.getModel().getComponent(t,e);if(n){fm(n).isBlured=!0;var i=r.getViewOfComponentModel(n);!i||!i.focusBlurEnabled||i.group.traverse(function(a){vm(a)})}}}function rz(t,e,r){var n=t.seriesIndex,i=t.getData(e.dataType);if(i){var a=_o(i,e);a=(we(a)?a[0]:a)||0;var o=i.getItemGraphicEl(a);if(!o)for(var s=i.count(),l=0;!o&&l<s;)o=i.getItemGraphicEl(l++);if(o){var f=ht(o);Bp(n,f.focus,f.blurScope,r)}else{var v=t.get(["emphasis","focus"]),d=t.get(["emphasis","blurScope"]);v!=null&&Bp(n,v,d,r)}}}function dm(t,e,r,n){var i={focusSelf:!1,dispatchers:null};if(t==null||t==="series"||e==null||r==null)return i;var a=n.getModel().getComponent(t,e);if(!a)return i;var o=n.getViewOfComponentModel(a);if(!o||!o.findHighDownDispatchers)return i;for(var s=o.findHighDownDispatchers(r),l,f=0;f<s.length;f++)if(ht(s[f]).focus==="self"){l=!0;break}return{focusSelf:l,dispatchers:s}}function nz(t,e,r){var n=ht(t),i=dm(n.componentMainType,n.componentIndex,n.componentHighDownName,r),a=i.dispatchers,o=i.focusSelf;a?(o&&zp(n.componentMainType,n.componentIndex,r),Y(a,function(s){return F1(s,e)})):(Bp(n.seriesIndex,n.focus,n.blurScope,r),n.focus==="self"&&zp(n.componentMainType,n.componentIndex,r),F1(t,e))}function iz(t,e,r){fT(r);var n=ht(t),i=dm(n.componentMainType,n.componentIndex,n.componentHighDownName,r).dispatchers;i?Y(i,function(a){return B1(a,e)}):B1(t,e)}function az(t,e,r){if(Hp(e)){var n=e.dataType,i=t.getData(n),a=_o(i,e);we(a)||(a=[a]),t[e.type===Ku?"toggleSelect":e.type===Xu?"select":"unselect"](a,n)}}function z1(t){var e=t.getAllData();Y(e,function(r){var n=r.data,i=r.type;n.eachItemGraphicEl(function(a,o){t.isSelected(o,i)?uT(a):lT(a)})})}function oz(t){var e=[];return t.eachSeries(function(r){var n=r.getAllData();Y(n,function(i){i.data;var a=i.type,o=r.getSelectedDataIndices();if(o.length>0){var s={dataIndex:o,seriesIndex:r.seriesIndex};a!=null&&(s.dataType=a),e.push(s)}})}),e}function sz(t,e,r){hT(t,!0),Li(t,ez),lz(t,e,r)}function uz(t){hT(t,!1)}function Gp(t,e,r,n){n?uz(t):sz(t,e,r)}function lz(t,e,r){var n=ht(t);e!=null?(n.focus=e,n.blurScope=r):n.focus&&(n.focus=null)}var G1=["emphasis","blur","select"],cz={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function V1(t,e,r,n){r=r||"itemStyle";for(var i=0;i<G1.length;i++){var a=G1[i],o=e.getModel([a,r]),s=t.ensureState(a);s.style=o[cz[r]]()}}function hT(t,e){var r=e===!1,n=t;t.highDownSilentOnTouch&&(n.__highDownSilentOnTouch=t.highDownSilentOnTouch),(!r||n.__highDownDispatcher)&&(n.__highByOuter=n.__highByOuter||0,n.__highDownDispatcher=!r)}function Vp(t){return!!(t&&t.__highDownDispatcher)}function fz(t){var e=A1[t];return e==null&&N1<=32&&(e=A1[t]=N1++),e}function Hp(t){var e=t.type;return e===Xu||e===yf||e===Ku}function H1(t){var e=t.type;return e===co||e===mf}function hz(t){var e=nT(t);e.normalFill=t.style.fill,e.normalStroke=t.style.stroke;var r=t.states.select||{};e.selectFill=r.style&&r.style.fill||null,e.selectStroke=r.style&&r.style.stroke||null}var $o=ha.CMD,vz=[[],[],[]],$1=Math.sqrt,dz=Math.atan2;function vT(t,e){if(e){var r=t.data,n=t.len(),i,a,o,s,l,f,v=$o.M,d=$o.C,g=$o.L,p=$o.R,y=$o.A,w=$o.Q;for(o=0,s=0;o<n;){switch(i=r[o++],s=o,a=0,i){case v:a=1;break;case g:a=1;break;case d:a=3;break;case w:a=2;break;case y:var b=e[4],x=e[5],C=$1(e[0]*e[0]+e[1]*e[1]),T=$1(e[2]*e[2]+e[3]*e[3]),k=dz(-e[1]/T,e[0]/C);r[o]*=C,r[o++]+=b,r[o]*=T,r[o++]+=x,r[o++]*=C,r[o++]*=T,r[o++]+=k,r[o++]+=k,o+=2,s=o;break;case p:f[0]=r[o++],f[1]=r[o++],rn(f,f,e),r[s++]=f[0],r[s++]=f[1],f[0]+=r[o++],f[1]+=r[o++],rn(f,f,e),r[s++]=f[0],r[s++]=f[1]}for(l=0;l<a;l++){var L=vz[l];L[0]=r[o++],L[1]=r[o++],rn(L,L,e),r[s++]=L[0],r[s++]=L[1]}}t.increaseVersion()}}var wd=Math.sqrt,Nc=Math.sin,Ac=Math.cos,_u=Math.PI;function U1(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function $p(t,e){return(t[0]*e[0]+t[1]*e[1])/(U1(t)*U1(e))}function Y1(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos($p(t,e))}function q1(t,e,r,n,i,a,o,s,l,f,v){var d=l*(_u/180),g=Ac(d)*(t-r)/2+Nc(d)*(e-n)/2,p=-1*Nc(d)*(t-r)/2+Ac(d)*(e-n)/2,y=g*g/(o*o)+p*p/(s*s);y>1&&(o*=wd(y),s*=wd(y));var w=(i===a?-1:1)*wd((o*o*(s*s)-o*o*(p*p)-s*s*(g*g))/(o*o*(p*p)+s*s*(g*g)))||0,b=w*o*p/s,x=w*-s*g/o,C=(t+r)/2+Ac(d)*b-Nc(d)*x,T=(e+n)/2+Nc(d)*b+Ac(d)*x,k=Y1([1,0],[(g-b)/o,(p-x)/s]),L=[(g-b)/o,(p-x)/s],M=[(-1*g-b)/o,(-1*p-x)/s],N=Y1(L,M);if($p(L,M)<=-1&&(N=_u),$p(L,M)>=1&&(N=0),N<0){var R=Math.round(N/_u*1e6)/1e6;N=_u*2+R%2*_u}v.addData(f,C,T,o,s,k,N,d,a)}var pz=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig,gz=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function mz(t){var e=new ha;if(!t)return e;var r=0,n=0,i=r,a=n,o,s=ha.CMD,l=t.match(pz);if(!l)return e;for(var f=0;f<l.length;f++){for(var v=l[f],d=v.charAt(0),g=void 0,p=v.match(gz)||[],y=p.length,w=0;w<y;w++)p[w]=parseFloat(p[w]);for(var b=0;b<y;){var x=void 0,C=void 0,T=void 0,k=void 0,L=void 0,M=void 0,N=void 0,R=r,D=n,F=void 0,z=void 0;switch(d){case"l":r+=p[b++],n+=p[b++],g=s.L,e.addData(g,r,n);break;case"L":r=p[b++],n=p[b++],g=s.L,e.addData(g,r,n);break;case"m":r+=p[b++],n+=p[b++],g=s.M,e.addData(g,r,n),i=r,a=n,d="l";break;case"M":r=p[b++],n=p[b++],g=s.M,e.addData(g,r,n),i=r,a=n,d="L";break;case"h":r+=p[b++],g=s.L,e.addData(g,r,n);break;case"H":r=p[b++],g=s.L,e.addData(g,r,n);break;case"v":n+=p[b++],g=s.L,e.addData(g,r,n);break;case"V":n=p[b++],g=s.L,e.addData(g,r,n);break;case"C":g=s.C,e.addData(g,p[b++],p[b++],p[b++],p[b++],p[b++],p[b++]),r=p[b-2],n=p[b-1];break;case"c":g=s.C,e.addData(g,p[b++]+r,p[b++]+n,p[b++]+r,p[b++]+n,p[b++]+r,p[b++]+n),r+=p[b-2],n+=p[b-1];break;case"S":x=r,C=n,F=e.len(),z=e.data,o===s.C&&(x+=r-z[F-4],C+=n-z[F-3]),g=s.C,R=p[b++],D=p[b++],r=p[b++],n=p[b++],e.addData(g,x,C,R,D,r,n);break;case"s":x=r,C=n,F=e.len(),z=e.data,o===s.C&&(x+=r-z[F-4],C+=n-z[F-3]),g=s.C,R=r+p[b++],D=n+p[b++],r+=p[b++],n+=p[b++],e.addData(g,x,C,R,D,r,n);break;case"Q":R=p[b++],D=p[b++],r=p[b++],n=p[b++],g=s.Q,e.addData(g,R,D,r,n);break;case"q":R=p[b++]+r,D=p[b++]+n,r+=p[b++],n+=p[b++],g=s.Q,e.addData(g,R,D,r,n);break;case"T":x=r,C=n,F=e.len(),z=e.data,o===s.Q&&(x+=r-z[F-4],C+=n-z[F-3]),r=p[b++],n=p[b++],g=s.Q,e.addData(g,x,C,r,n);break;case"t":x=r,C=n,F=e.len(),z=e.data,o===s.Q&&(x+=r-z[F-4],C+=n-z[F-3]),r+=p[b++],n+=p[b++],g=s.Q,e.addData(g,x,C,r,n);break;case"A":T=p[b++],k=p[b++],L=p[b++],M=p[b++],N=p[b++],R=r,D=n,r=p[b++],n=p[b++],g=s.A,q1(R,D,r,n,M,N,T,k,L,g,e);break;case"a":T=p[b++],k=p[b++],L=p[b++],M=p[b++],N=p[b++],R=r,D=n,r+=p[b++],n+=p[b++],g=s.A,q1(R,D,r,n,M,N,T,k,L,g,e);break}}(d==="z"||d==="Z")&&(g=s.Z,e.addData(g),r=i,n=a),o=g}return e.toStatic(),e}var dT=function(t){xe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.applyTransform=function(r){},e}(We);function pT(t){return t.setData!=null}function gT(t,e){var r=mz(t),n=ye({},e);return n.buildPath=function(i){if(pT(i)){i.setData(r.data);var a=i.getContext();a&&i.rebuildPath(a,1)}else{var a=i;r.rebuildPath(a,1)}},n.applyTransform=function(i){vT(r,i),this.dirtyShape()},n}function yz(t,e){return new dT(gT(t,e))}function _z(t,e){var r=gT(t,e),n=function(i){xe(a,i);function a(o){var s=i.call(this,o)||this;return s.applyTransform=r.applyTransform,s.buildPath=r.buildPath,s}return a}(dT);return n}function wz(t,e){for(var r=[],n=t.length,i=0;i<n;i++){var a=t[i];r.push(a.getUpdatedPathProxy(!0))}var o=new We(e);return o.createPathProxy(),o.buildPath=function(s){if(pT(s)){s.appendPath(r);var l=s.getContext();l&&s.rebuildPath(l,1)}},o}function pm(t,e){e=e||{};var r=new We;return t.shape&&r.setShape(t.shape),r.setStyle(t.style),e.bakeTransform?vT(r.path,t.getComputedTransform()):e.toLocal?r.setLocalTransform(t.getComputedTransform()):r.copyTransform(t),r.buildPath=t.buildPath,r.applyTransform=r.applyTransform,r.z=t.z,r.z2=t.z2,r.zlevel=t.zlevel,r}var bz=function(){function t(){this.cx=0,this.cy=0,this.r=0}return t}(),Vh=function(t){xe(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getDefaultShape=function(){return new bz},e.prototype.buildPath=function(r,n){r.moveTo(n.cx+n.r,n.cy),r.arc(n.cx,n.cy,n.r,0,Math.PI*2)},e}(We);Vh.prototype.type="circle";var xz=function(){function t(){this.cx=0,this.cy=0,this.rx=0,this.ry=0}return t}(),gm=function(t){xe(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getDefaultShape=function(){return new xz},e.prototype.buildPath=function(r,n){var i=.5522848,a=n.cx,o=n.cy,s=n.rx,l=n.ry,f=s*i,v=l*i;r.moveTo(a-s,o),r.bezierCurveTo(a-s,o-v,a-f,o-l,a,o-l),r.bezierCurveTo(a+f,o-l,a+s,o-v,a+s,o),r.bezierCurveTo(a+s,o+v,a+f,o+l,a,o+l),r.bezierCurveTo(a-f,o+l,a-s,o+v,a-s,o),r.closePath()},e}(We);gm.prototype.type="ellipse";var mT=Math.PI,bd=mT*2,Ua=Math.sin,Uo=Math.cos,Sz=Math.acos,Xt=Math.atan2,W1=Math.abs,Zu=Math.sqrt,Ou=Math.max,Fn=Math.min,mn=1e-4;function Cz(t,e,r,n,i,a,o,s){var l=r-t,f=n-e,v=o-i,d=s-a,g=d*l-v*f;if(!(g*g<mn))return g=(v*(e-a)-d*(t-i))/g,[t+g*l,e+g*f]}function Dc(t,e,r,n,i,a,o){var s=t-r,l=e-n,f=(o?a:-a)/Zu(s*s+l*l),v=f*l,d=-f*s,g=t+v,p=e+d,y=r+v,w=n+d,b=(g+y)/2,x=(p+w)/2,C=y-g,T=w-p,k=C*C+T*T,L=i-a,M=g*w-y*p,N=(T<0?-1:1)*Zu(Ou(0,L*L*k-M*M)),R=(M*T-C*N)/k,D=(-M*C-T*N)/k,F=(M*T+C*N)/k,z=(-M*C+T*N)/k,G=R-b,q=D-x,H=F-b,V=z-x;return G*G+q*q>H*H+V*V&&(R=F,D=z),{cx:R,cy:D,x0:-v,y0:-d,x1:R*(i/L-1),y1:D*(i/L-1)}}function Tz(t){var e;if(we(t)){var r=t.length;if(!r)return t;r===1?e=[t[0],t[0],0,0]:r===2?e=[t[0],t[0],t[1],t[1]]:r===3?e=t.concat(t[2]):e=t}else e=[t,t,t,t];return e}function Ez(t,e){var r,n=Ou(e.r,0),i=Ou(e.r0||0,0),a=n>0,o=i>0;if(!(!a&&!o)){if(a||(n=i,i=0),i>n){var s=n;n=i,i=s}var l=e.startAngle,f=e.endAngle;if(!(isNaN(l)||isNaN(f))){var v=e.cx,d=e.cy,g=!!e.clockwise,p=W1(f-l),y=p>bd&&p%bd;if(y>mn&&(p=y),!(n>mn))t.moveTo(v,d);else if(p>bd-mn)t.moveTo(v+n*Uo(l),d+n*Ua(l)),t.arc(v,d,n,l,f,!g),i>mn&&(t.moveTo(v+i*Uo(f),d+i*Ua(f)),t.arc(v,d,i,f,l,g));else{var w=void 0,b=void 0,x=void 0,C=void 0,T=void 0,k=void 0,L=void 0,M=void 0,N=void 0,R=void 0,D=void 0,F=void 0,z=void 0,G=void 0,q=void 0,H=void 0,V=n*Uo(l),U=n*Ua(l),W=i*Uo(f),Q=i*Ua(f),J=p>mn;if(J){var j=e.cornerRadius;j&&(r=Tz(j),w=r[0],b=r[1],x=r[2],C=r[3]);var pe=W1(n-i)/2;if(T=Fn(pe,x),k=Fn(pe,C),L=Fn(pe,w),M=Fn(pe,b),D=N=Ou(T,k),F=R=Ou(L,M),(N>mn||R>mn)&&(z=n*Uo(f),G=n*Ua(f),q=i*Uo(l),H=i*Ua(l),p<mT)){var ae=Cz(V,U,q,H,z,G,W,Q);if(ae){var ce=V-ae[0],oe=U-ae[1],be=z-ae[0],et=G-ae[1],Se=1/Ua(Sz((ce*be+oe*et)/(Zu(ce*ce+oe*oe)*Zu(be*be+et*et)))/2),K=Zu(ae[0]*ae[0]+ae[1]*ae[1]);D=Fn(N,(n-K)/(Se+1)),F=Fn(R,(i-K)/(Se-1))}}}if(!J)t.moveTo(v+V,d+U);else if(D>mn){var me=Fn(x,D),_e=Fn(C,D),ne=Dc(q,H,V,U,n,me,g),B=Dc(z,G,W,Q,n,_e,g);t.moveTo(v+ne.cx+ne.x0,d+ne.cy+ne.y0),D<N&&me===_e?t.arc(v+ne.cx,d+ne.cy,D,Xt(ne.y0,ne.x0),Xt(B.y0,B.x0),!g):(me>0&&t.arc(v+ne.cx,d+ne.cy,me,Xt(ne.y0,ne.x0),Xt(ne.y1,ne.x1),!g),t.arc(v,d,n,Xt(ne.cy+ne.y1,ne.cx+ne.x1),Xt(B.cy+B.y1,B.cx+B.x1),!g),_e>0&&t.arc(v+B.cx,d+B.cy,_e,Xt(B.y1,B.x1),Xt(B.y0,B.x0),!g))}else t.moveTo(v+V,d+U),t.arc(v,d,n,l,f,!g);if(!(i>mn)||!J)t.lineTo(v+W,d+Q);else if(F>mn){var me=Fn(w,F),_e=Fn(b,F),ne=Dc(W,Q,z,G,i,-_e,g),B=Dc(V,U,q,H,i,-me,g);t.lineTo(v+ne.cx+ne.x0,d+ne.cy+ne.y0),F<R&&me===_e?t.arc(v+ne.cx,d+ne.cy,F,Xt(ne.y0,ne.x0),Xt(B.y0,B.x0),!g):(_e>0&&t.arc(v+ne.cx,d+ne.cy,_e,Xt(ne.y0,ne.x0),Xt(ne.y1,ne.x1),!g),t.arc(v,d,i,Xt(ne.cy+ne.y1,ne.cx+ne.x1),Xt(B.cy+B.y1,B.cx+B.x1),g),me>0&&t.arc(v+B.cx,d+B.cy,me,Xt(B.y1,B.x1),Xt(B.y0,B.x0),!g))}else t.lineTo(v+W,d+Q),t.arc(v,d,i,f,l,g)}t.closePath()}}}var kz=function(){function t(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0,this.cornerRadius=0}return t}(),Ms=function(t){xe(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getDefaultShape=function(){return new kz},e.prototype.buildPath=function(r,n){Ez(r,n)},e.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},e}(We);Ms.prototype.type="sector";var Iz=function(){function t(){this.cx=0,this.cy=0,this.r=0,this.r0=0}return t}(),mm=function(t){xe(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getDefaultShape=function(){return new Iz},e.prototype.buildPath=function(r,n){var i=n.cx,a=n.cy,o=Math.PI*2;r.moveTo(i+n.r,a),r.arc(i,a,n.r,0,o,!1),r.moveTo(i+n.r0,a),r.arc(i,a,n.r0,0,o,!0)},e}(We);mm.prototype.type="ring";function Mz(t,e,r,n){var i=[],a=[],o=[],s=[],l,f,v,d;if(n){v=[1/0,1/0],d=[-1/0,-1/0];for(var g=0,p=t.length;g<p;g++)rs(v,v,t[g]),ns(d,d,t[g]);rs(v,v,n[0]),ns(d,d,n[1])}for(var g=0,p=t.length;g<p;g++){var y=t[g];if(r)l=t[g?g-1:p-1],f=t[(g+1)%p];else if(g===0||g===p-1){i.push(u5(t[g]));continue}else l=t[g-1],f=t[g+1];l5(a,f,l),zv(a,a,e);var w=wp(y,l),b=wp(y,f),x=w+b;x!==0&&(w/=x,b/=x),zv(o,a,-w),zv(s,a,b);var C=F_([],y,o),T=F_([],y,s);n&&(ns(C,C,v),rs(C,C,d),ns(T,T,v),rs(T,T,d)),i.push(C),i.push(T)}return r&&i.push(i.shift()),i}function yT(t,e,r){var n=e.smooth,i=e.points;if(i&&i.length>=2){if(n){var a=Mz(i,n,r,e.smoothConstraint);t.moveTo(i[0][0],i[0][1]);for(var o=i.length,s=0;s<(r?o:o-1);s++){var l=a[s*2],f=a[s*2+1],v=i[(s+1)%o];t.bezierCurveTo(l[0],l[1],f[0],f[1],v[0],v[1])}}else{t.moveTo(i[0][0],i[0][1]);for(var s=1,d=i.length;s<d;s++)t.lineTo(i[s][0],i[s][1])}r&&t.closePath()}}var Lz=function(){function t(){this.points=null,this.smooth=0,this.smoothConstraint=null}return t}(),Hh=function(t){xe(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getDefaultShape=function(){return new Lz},e.prototype.buildPath=function(r,n){yT(r,n,!0)},e}(We);Hh.prototype.type="polygon";var Pz=function(){function t(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null}return t}(),ym=function(t){xe(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new Pz},e.prototype.buildPath=function(r,n){yT(r,n,!1)},e}(We);ym.prototype.type="polyline";var Nz={},Az=function(){function t(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return t}(),va=function(t){xe(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new Az},e.prototype.buildPath=function(r,n){var i,a,o,s;if(this.subPixelOptimize){var l=tT(Nz,n,this.style);i=l.x1,a=l.y1,o=l.x2,s=l.y2}else i=n.x1,a=n.y1,o=n.x2,s=n.y2;var f=n.percent;f!==0&&(r.moveTo(i,a),f<1&&(o=i*(1-f)+o*f,s=a*(1-f)+s*f),r.lineTo(o,s))},e.prototype.pointAt=function(r){var n=this.shape;return[n.x1*(1-r)+n.x2*r,n.y1*(1-r)+n.y2*r]},e}(We);va.prototype.type="line";var lr=[],Dz=function(){function t(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1}return t}();function X1(t,e,r){var n=t.cpx2,i=t.cpy2;return n!=null||i!=null?[(r?X_:Ht)(t.x1,t.cpx1,t.cpx2,t.x2,e),(r?X_:Ht)(t.y1,t.cpy1,t.cpy2,t.y2,e)]:[(r?K_:vr)(t.x1,t.cpx1,t.x2,e),(r?K_:vr)(t.y1,t.cpy1,t.y2,e)]}var _m=function(t){xe(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new Dz},e.prototype.buildPath=function(r,n){var i=n.x1,a=n.y1,o=n.x2,s=n.y2,l=n.cpx1,f=n.cpy1,v=n.cpx2,d=n.cpy2,g=n.percent;g!==0&&(r.moveTo(i,a),v==null||d==null?(g<1&&(qf(i,l,o,g,lr),l=lr[1],o=lr[2],qf(a,f,s,g,lr),f=lr[1],s=lr[2]),r.quadraticCurveTo(l,f,o,s)):(g<1&&(fa(i,l,v,o,g,lr),l=lr[1],v=lr[2],o=lr[3],fa(a,f,d,s,g,lr),f=lr[1],d=lr[2],s=lr[3]),r.bezierCurveTo(l,f,v,d,o,s)))},e.prototype.pointAt=function(r){return X1(this.shape,r,!1)},e.prototype.tangentAt=function(r){var n=X1(this.shape,r,!0);return h5(n,n)},e}(We);_m.prototype.type="bezier-curve";var Rz=function(){function t(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return t}(),$h=function(t){xe(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new Rz},e.prototype.buildPath=function(r,n){var i=n.cx,a=n.cy,o=Math.max(n.r,0),s=n.startAngle,l=n.endAngle,f=n.clockwise,v=Math.cos(s),d=Math.sin(s);r.moveTo(v*o+i,d*o+a),r.arc(i,a,o,s,l,!f)},e}(We);$h.prototype.type="arc";var Oz=function(t){xe(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="compound",r}return e.prototype._updatePathDirty=function(){for(var r=this.shape.paths,n=this.shapeChanged(),i=0;i<r.length;i++)n=n||r[i].shapeChanged();n&&this.dirtyShape()},e.prototype.beforeBrush=function(){this._updatePathDirty();for(var r=this.shape.paths||[],n=this.getGlobalScale(),i=0;i<r.length;i++)r[i].path||r[i].createPathProxy(),r[i].path.setScale(n[0],n[1],r[i].segmentIgnoreThreshold)},e.prototype.buildPath=function(r,n){for(var i=n.paths||[],a=0;a<i.length;a++)i[a].buildPath(r,i[a].shape,!0)},e.prototype.afterBrush=function(){for(var r=this.shape.paths||[],n=0;n<r.length;n++)r[n].pathUpdated()},e.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),We.prototype.getBoundingRect.call(this)},e}(We),_T=function(){function t(e){this.colorStops=e||[]}return t.prototype.addColorStop=function(e,r){this.colorStops.push({offset:e,color:r})},t}(),wT=function(t){xe(e,t);function e(r,n,i,a,o,s){var l=t.call(this,o)||this;return l.x=r??0,l.y=n??0,l.x2=i??1,l.y2=a??0,l.type="linear",l.global=s||!1,l}return e}(_T),Fz=function(t){xe(e,t);function e(r,n,i,a,o){var s=t.call(this,a)||this;return s.x=r??.5,s.y=n??.5,s.r=i??.5,s.type="radial",s.global=o||!1,s}return e}(_T),Ya=[0,0],qa=[0,0],Rc=new Ye,Oc=new Ye,eh=function(){function t(e,r){this._corners=[],this._axes=[],this._origin=[0,0];for(var n=0;n<4;n++)this._corners[n]=new Ye;for(var n=0;n<2;n++)this._axes[n]=new Ye;e&&this.fromBoundingRect(e,r)}return t.prototype.fromBoundingRect=function(e,r){var n=this._corners,i=this._axes,a=e.x,o=e.y,s=a+e.width,l=o+e.height;if(n[0].set(a,o),n[1].set(s,o),n[2].set(s,l),n[3].set(a,l),r)for(var f=0;f<4;f++)n[f].transform(r);Ye.sub(i[0],n[1],n[0]),Ye.sub(i[1],n[3],n[0]),i[0].normalize(),i[1].normalize();for(var f=0;f<2;f++)this._origin[f]=i[f].dot(n[0])},t.prototype.intersect=function(e,r){var n=!0,i=!r;return Rc.set(1/0,1/0),Oc.set(0,0),!this._intersectCheckOneSide(this,e,Rc,Oc,i,1)&&(n=!1,i)||!this._intersectCheckOneSide(e,this,Rc,Oc,i,-1)&&(n=!1,i)||i||Ye.copy(r,n?Rc:Oc),n},t.prototype._intersectCheckOneSide=function(e,r,n,i,a,o){for(var s=!0,l=0;l<2;l++){var f=this._axes[l];if(this._getProjMinMaxOnAxis(l,e._corners,Ya),this._getProjMinMaxOnAxis(l,r._corners,qa),Ya[1]<qa[0]||Ya[0]>qa[1]){if(s=!1,a)return s;var v=Math.abs(qa[0]-Ya[1]),d=Math.abs(Ya[0]-qa[1]);Math.min(v,d)>i.len()&&(v<d?Ye.scale(i,f,-v*o):Ye.scale(i,f,d*o))}else if(n){var v=Math.abs(qa[0]-Ya[1]),d=Math.abs(Ya[0]-qa[1]);Math.min(v,d)<n.len()&&(v<d?Ye.scale(n,f,v*o):Ye.scale(n,f,-d*o))}}return s},t.prototype._getProjMinMaxOnAxis=function(e,r,n){for(var i=this._axes[e],a=this._origin,o=r[0].dot(i)+a[e],s=o,l=o,f=1;f<r.length;f++){var v=r[f].dot(i)+a[e];s=Math.min(v,s),l=Math.max(v,l)}n[0]=s,n[1]=l},t}(),Bz=[],zz=function(t){xe(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.notClear=!0,r.incremental=!0,r._displayables=[],r._temporaryDisplayables=[],r._cursor=0,r}return e.prototype.traverse=function(r,n){r.call(n,this)},e.prototype.useStyle=function(){this.style={}},e.prototype.getCursor=function(){return this._cursor},e.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},e.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},e.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},e.prototype.addDisplayable=function(r,n){n?this._temporaryDisplayables.push(r):this._displayables.push(r),this.markRedraw()},e.prototype.addDisplayables=function(r,n){n=n||!1;for(var i=0;i<r.length;i++)this.addDisplayable(r[i],n)},e.prototype.getDisplayables=function(){return this._displayables},e.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},e.prototype.eachPendingDisplayable=function(r){for(var n=this._cursor;n<this._displayables.length;n++)r&&r(this._displayables[n]);for(var n=0;n<this._temporaryDisplayables.length;n++)r&&r(this._temporaryDisplayables[n])},e.prototype.update=function(){this.updateTransform();for(var r=this._cursor;r<this._displayables.length;r++){var n=this._displayables[r];n.parent=this,n.update(),n.parent=null}for(var r=0;r<this._temporaryDisplayables.length;r++){var n=this._temporaryDisplayables[r];n.parent=this,n.update(),n.parent=null}},e.prototype.getBoundingRect=function(){if(!this._rect){for(var r=new Je(1/0,1/0,-1/0,-1/0),n=0;n<this._displayables.length;n++){var i=this._displayables[n],a=i.getBoundingRect().clone();i.needLocalTransform()&&a.applyTransform(i.getLocalTransform(Bz)),r.union(a)}this._rect=r}return this._rect},e.prototype.contain=function(r,n){var i=this.transformCoordToLocal(r,n),a=this.getBoundingRect();if(a.contain(i[0],i[1]))for(var o=0;o<this._displayables.length;o++){var s=this._displayables[o];if(s.contain(r,n))return!0}return!1},e}(Hs),bT=Ot();function Uh(t,e,r,n,i){var a;if(e&&e.ecModel){var o=e.ecModel.getUpdatePayload();a=o&&o.animation}var s=e&&e.isAnimationEnabled(),l=t==="update";if(s){var f=void 0,v=void 0,d=void 0;n?(f=He(n.duration,200),v=He(n.easing,"cubicOut"),d=0):(f=e.getShallow(l?"animationDurationUpdate":"animationDuration"),v=e.getShallow(l?"animationEasingUpdate":"animationEasing"),d=e.getShallow(l?"animationDelayUpdate":"animationDelay")),a&&(a.duration!=null&&(f=a.duration),a.easing!=null&&(v=a.easing),a.delay!=null&&(d=a.delay)),ze(d)&&(d=d(r,i)),ze(f)&&(f=f(r));var g={duration:f||0,delay:d,easing:v};return g}else return null}function wm(t,e,r,n,i,a,o){var s=!1,l;ze(i)?(o=a,a=i,i=null):Le(i)&&(a=i.cb,o=i.during,s=i.isFrom,l=i.removeOpt,i=i.dataIndex);var f=t==="leave";f||e.stopAnimation("leave");var v=Uh(t,n,i,f?l||{}:null,n&&n.getAnimationDelayParams?n.getAnimationDelayParams(e,i):null);if(v&&v.duration>0){var d=v.duration,g=v.delay,p=v.easing,y={duration:d,delay:g||0,easing:p,done:a,force:!!a||!!o,setToFinal:!f,scope:t,during:o};s?e.animateFrom(r,y):e.animateTo(r,y)}else e.stopAnimation(),!s&&e.attr(r),o&&o(1),a&&a()}function wo(t,e,r,n,i,a){wm("update",t,e,r,n,i,a)}function $s(t,e,r,n,i,a){wm("enter",t,e,r,n,i,a)}function ju(t){if(!t.__zr)return!0;for(var e=0;e<t.animators.length;e++){var r=t.animators[e];if(r.scope==="leave")return!0}return!1}function th(t,e,r,n,i,a){ju(t)||wm("leave",t,e,r,n,i,a)}function K1(t,e,r,n){t.removeTextContent(),t.removeTextGuideLine(),th(t,{style:{opacity:0}},e,r,n)}function Gz(t,e,r){function n(){t.parent&&t.parent.remove(t)}t.isGroup?t.traverse(function(i){i.isGroup||K1(i,e,r,n)}):K1(t,e,r,n)}function Vz(t){bT(t).oldStyle=t.style}function Hz(t){return bT(t).oldStyle}var rh=Math.max,nh=Math.min,Up={};function $z(t){return We.extend(t)}var Uz=_z;function Yz(t,e){return Uz(t,e)}function En(t,e){Up[t]=e}function qz(t){if(Up.hasOwnProperty(t))return Up[t]}function bm(t,e,r,n){var i=yz(t,e);return r&&(n==="center"&&(r=ST(r,i.getBoundingRect())),CT(i,r)),i}function xT(t,e,r){var n=new ya({style:{image:t,x:e.x,y:e.y,width:e.width,height:e.height},onload:function(i){if(r==="center"){var a={width:i.width,height:i.height};n.setStyle(ST(e,a))}}});return n}function ST(t,e){var r=e.width/e.height,n=t.height*r,i;n<=t.width?i=t.height:(n=t.width,i=n/r);var a=t.x+t.width/2,o=t.y+t.height/2;return{x:a-n/2,y:o-i/2,width:n,height:i}}var Wz=wz;function CT(t,e){if(t.applyTransform){var r=t.getBoundingRect(),n=r.calculateTransform(e);t.applyTransform(n)}}function gl(t,e){return tT(t,t,{lineWidth:e}),t}function Xz(t){return rT(t.shape,t.shape,t.style),t}var Kz=io;function Zz(t,e){for(var r=tm([]);t&&t!==e;)fs(r,t.getLocalTransform(),r),t=t.parent;return r}function xm(t,e,r){return e&&!xr(e)&&(e=Ah.getLocalTransform(e)),r&&(e=nm([],e)),rn([],t,e)}function jz(t,e,r){var n=e[4]===0||e[5]===0||e[0]===0?1:Math.abs(2*e[4]/e[0]),i=e[4]===0||e[5]===0||e[2]===0?1:Math.abs(2*e[4]/e[2]),a=[t==="left"?-n:t==="right"?n:0,t==="top"?-i:t==="bottom"?i:0];return a=xm(a,e,r),Math.abs(a[0])>Math.abs(a[1])?a[0]>0?"right":"left":a[1]>0?"bottom":"top"}function Z1(t){return!t.isGroup}function Qz(t){return t.shape!=null}function TT(t,e,r){if(!t||!e)return;function n(o){var s={};return o.traverse(function(l){Z1(l)&&l.anid&&(s[l.anid]=l)}),s}function i(o){var s={x:o.x,y:o.y,rotation:o.rotation};return Qz(o)&&(s.shape=ye({},o.shape)),s}var a=n(t);e.traverse(function(o){if(Z1(o)&&o.anid){var s=a[o.anid];if(s){var l=i(o);o.attr(i(s)),wo(o,l,r,ht(o).dataIndex)}}})}function Jz(t,e){return Me(t,function(r){var n=r[0];n=rh(n,e.x),n=nh(n,e.x+e.width);var i=r[1];return i=rh(i,e.y),i=nh(i,e.y+e.height),[n,i]})}function e6(t,e){var r=rh(t.x,e.x),n=nh(t.x+t.width,e.x+e.width),i=rh(t.y,e.y),a=nh(t.y+t.height,e.y+e.height);if(n>=r&&a>=i)return{x:r,y:i,width:n-r,height:a-i}}function ET(t,e,r){var n=ye({rectHover:!0},e),i=n.style={strokeNoScale:!0};if(r=r||{x:-1,y:-1,width:2,height:2},t)return t.indexOf("image://")===0?(i.image=t.slice(8),$e(i,r),new ya(n)):bm(t.replace("path://",""),n,r,"center")}function t6(t,e,r,n,i){for(var a=0,o=i[i.length-1];a<i.length;a++){var s=i[a];if(kT(t,e,r,n,s[0],s[1],o[0],o[1]))return!0;o=s}}function kT(t,e,r,n,i,a,o,s){var l=r-t,f=n-e,v=o-i,d=s-a,g=xd(v,d,l,f);if(r6(g))return!1;var p=t-i,y=e-a,w=xd(p,y,l,f)/g;if(w<0||w>1)return!1;var b=xd(p,y,v,d)/g;return!(b<0||b>1)}function xd(t,e,r,n){return t*n-r*e}function r6(t){return t<=1e-6&&t>=-1e-6}function Sm(t){var e=t.itemTooltipOption,r=t.componentModel,n=t.itemName,i=ke(e)?{formatter:e}:e,a=r.mainType,o=r.componentIndex,s={componentType:a,name:n,$vars:["name"]};s[a+"Index"]=o;var l=t.formatterParamsExtra;l&&Y(yt(l),function(v){Is(s,v)||(s[v]=l[v],s.$vars.push(v))});var f=ht(t.el);f.componentMainType=a,f.componentIndex=o,f.tooltipConfig={name:n,option:$e({content:n,encodeHTMLContent:!0,formatterParams:s},i)}}function j1(t,e){var r;t.isGroup&&(r=e(t)),r||t.traverse(e)}function Cm(t,e){if(t)if(we(t))for(var r=0;r<t.length;r++)j1(t[r],e);else j1(t,e)}En("circle",Vh);En("ellipse",gm);En("sector",Ms);En("ring",mm);En("polygon",Hh);En("polyline",ym);En("rect",ar);En("line",va);En("bezierCurve",_m);En("arc",$h);const n6=Object.freeze(Object.defineProperty({__proto__:null,Arc:$h,BezierCurve:_m,BoundingRect:Je,Circle:Vh,CompoundPath:Oz,Ellipse:gm,Group:Cr,Image:ya,IncrementalDisplayable:zz,Line:va,LinearGradient:wT,OrientedBoundingRect:eh,Path:We,Point:Ye,Polygon:Hh,Polyline:ym,RadialGradient:Fz,Rect:ar,Ring:mm,Sector:Ms,Text:Cn,applyTransform:xm,clipPointsByRect:Jz,clipRectByRect:e6,createIcon:ET,extendPath:Yz,extendShape:$z,getShapeClass:qz,getTransform:Zz,groupTransition:TT,initProps:$s,isElementRemoved:ju,lineLineIntersect:kT,linePolygonIntersect:t6,makeImage:xT,makePath:bm,mergePath:Wz,registerShape:En,removeElement:th,removeElementWithFadeOut:Gz,resizePath:CT,setTooltipConfig:Sm,subPixelOptimize:Kz,subPixelOptimizeLine:gl,subPixelOptimizeRect:Xz,transformDirection:jz,traverseElements:Cm,updateProps:wo},Symbol.toStringTag,{value:"Module"}));var Yh={};function i6(t,e){for(var r=0;r<Jn.length;r++){var n=Jn[r],i=e[n],a=t.ensureState(n);a.style=a.style||{},a.style.text=i}var o=t.currentStates.slice();t.clearStates(!0),t.setStyle({text:e.normal}),t.useStates(o,!0)}function Q1(t,e,r){var n=t.labelFetcher,i=t.labelDataIndex,a=t.labelDimIndex,o=e.normal,s;n&&(s=n.getFormattedLabel(i,"normal",null,a,o&&o.get("formatter"),r!=null?{interpolatedValue:r}:null)),s==null&&(s=ze(t.defaultText)?t.defaultText(i,t,r):t.defaultText);for(var l={normal:s},f=0;f<Jn.length;f++){var v=Jn[f],d=e[v];l[v]=He(n?n.getFormattedLabel(i,v,null,a,d&&d.get("formatter")):null,s)}return l}function IT(t,e,r,n){r=r||Yh;for(var i=t instanceof Cn,a=!1,o=0;o<D1.length;o++){var s=e[D1[o]];if(s&&s.getShallow("show")){a=!0;break}}var l=i?t:t.getTextContent();if(a){i||(l||(l=new Cn,t.setTextContent(l)),t.stateProxy&&(l.stateProxy=t.stateProxy));var f=Q1(r,e),v=e.normal,d=!!v.getShallow("show"),g=ml(v,n&&n.normal,r,!1,!i);g.text=f.normal,i||t.setTextConfig(J1(v,r,!1));for(var o=0;o<Jn.length;o++){var p=Jn[o],s=e[p];if(s){var y=l.ensureState(p),w=!!He(s.getShallow("show"),d);if(w!==d&&(y.ignore=!w),y.style=ml(s,n&&n[p],r,!0,!i),y.style.text=f[p],!i){var b=t.ensureState(p);b.textConfig=J1(s,r,!0)}}}l.silent=!!v.getShallow("silent"),l.style.x!=null&&(g.x=l.style.x),l.style.y!=null&&(g.y=l.style.y),l.ignore=!d,l.useStyle(g),l.dirty(),r.enableTextSetter&&(MT(l).setLabelText=function(x){var C=Q1(r,e,x);i6(l,C)})}else l&&(l.ignore=!0);t.dirty()}function Tm(t,e){e=e||"label";for(var r={normal:t.getModel(e)},n=0;n<Jn.length;n++){var i=Jn[n];r[i]=t.getModel([i,e])}return r}function ml(t,e,r,n,i){var a={};return a6(a,t,r,n,i),e&&ye(a,e),a}function J1(t,e,r){e=e||{};var n={},i,a=t.getShallow("rotate"),o=He(t.getShallow("distance"),r?null:5),s=t.getShallow("offset");return i=t.getShallow("position")||(r?null:"inside"),i==="outside"&&(i=e.defaultOutsidePosition||"top"),i!=null&&(n.position=i),s!=null&&(n.offset=s),a!=null&&(a*=Math.PI/180,n.rotation=a),o!=null&&(n.distance=o),n.outsideFill=t.get("color")==="inherit"?e.inheritColor||null:"auto",n}function a6(t,e,r,n,i){r=r||Yh;var a=e.ecModel,o=a&&a.option.textStyle,s=o6(e),l;if(s){l={};for(var f in s)if(s.hasOwnProperty(f)){var v=e.getModel(["rich",f]);nw(l[f]={},v,o,r,n,i,!1,!0)}}l&&(t.rich=l);var d=e.get("overflow");d&&(t.overflow=d);var g=e.get("minMargin");g!=null&&(t.margin=g),nw(t,e,o,r,n,i,!0,!1)}function o6(t){for(var e;t&&t!==t.ecModel;){var r=(t.option||Yh).rich;if(r){e=e||{};for(var n=yt(r),i=0;i<n.length;i++){var a=n[i];e[a]=1}}t=t.parentModel}return e}var ew=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],tw=["align","lineHeight","width","height","tag","verticalAlign","ellipsis"],rw=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function nw(t,e,r,n,i,a,o,s){r=!i&&r||Yh;var l=n&&n.inheritColor,f=e.getShallow("color"),v=e.getShallow("textBorderColor"),d=He(e.getShallow("opacity"),r.opacity);(f==="inherit"||f==="auto")&&(l?f=l:f=null),(v==="inherit"||v==="auto")&&(l?v=l:v=null),a||(f=f||r.color,v=v||r.textBorderColor),f!=null&&(t.fill=f),v!=null&&(t.stroke=v);var g=He(e.getShallow("textBorderWidth"),r.textBorderWidth);g!=null&&(t.lineWidth=g);var p=He(e.getShallow("textBorderType"),r.textBorderType);p!=null&&(t.lineDash=p);var y=He(e.getShallow("textBorderDashOffset"),r.textBorderDashOffset);y!=null&&(t.lineDashOffset=y),!i&&d==null&&!s&&(d=n&&n.defaultOpacity),d!=null&&(t.opacity=d),!i&&!a&&t.fill==null&&n.inheritColor&&(t.fill=n.inheritColor);for(var w=0;w<ew.length;w++){var b=ew[w],x=He(e.getShallow(b),r[b]);x!=null&&(t[b]=x)}for(var w=0;w<tw.length;w++){var b=tw[w],x=e.getShallow(b);x!=null&&(t[b]=x)}if(t.verticalAlign==null){var C=e.getShallow("baseline");C!=null&&(t.verticalAlign=C)}if(!o||!n.disableBox){for(var w=0;w<rw.length;w++){var b=rw[w],x=e.getShallow(b);x!=null&&(t[b]=x)}var T=e.getShallow("borderType");T!=null&&(t.borderDash=T),(t.backgroundColor==="auto"||t.backgroundColor==="inherit")&&l&&(t.backgroundColor=l),(t.borderColor==="auto"||t.borderColor==="inherit")&&l&&(t.borderColor=l)}}function s6(t,e){var r=e&&e.getModel("textStyle");return Hn([t.fontStyle||r&&r.getShallow("fontStyle")||"",t.fontWeight||r&&r.getShallow("fontWeight")||"",(t.fontSize||r&&r.getShallow("fontSize")||12)+"px",t.fontFamily||r&&r.getShallow("fontFamily")||"sans-serif"].join(" "))}var MT=Ot(),u6=["textStyle","color"],Sd=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],Cd=new Cn,l6=function(){function t(){}return t.prototype.getTextColor=function(e){var r=this.ecModel;return this.getShallow("color")||(!e&&r?r.get(u6):null)},t.prototype.getFont=function(){return s6({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},t.prototype.getTextRect=function(e){for(var r={text:e,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},n=0;n<Sd.length;n++)r[Sd[n]]=this.getShallow(Sd[n]);return Cd.useStyle(r),Cd.update(),Cd.getBoundingRect()},t}(),LT=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],c6=pl(LT),f6=function(){function t(){}return t.prototype.getLineStyle=function(e){return c6(this,e)},t}(),PT=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],h6=pl(PT),v6=function(){function t(){}return t.prototype.getItemStyle=function(e,r){return h6(this,e,r)},t}(),Nt=function(){function t(e,r,n){this.parentModel=r,this.ecModel=n,this.option=e}return t.prototype.init=function(e,r,n){},t.prototype.mergeOption=function(e,r){ct(this.option,e,!0)},t.prototype.get=function(e,r){return e==null?this.option:this._doGet(this.parsePath(e),!r&&this.parentModel)},t.prototype.getShallow=function(e,r){var n=this.option,i=n==null?n:n[e];if(i==null&&!r){var a=this.parentModel;a&&(i=a.getShallow(e))}return i},t.prototype.getModel=function(e,r){var n=e!=null,i=n?this.parsePath(e):null,a=n?this._doGet(i):this.option;return r=r||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(i)),new t(a,r,this.ecModel)},t.prototype.isEmpty=function(){return this.option==null},t.prototype.restoreData=function(){},t.prototype.clone=function(){var e=this.constructor;return new e(qe(this.option))},t.prototype.parsePath=function(e){return typeof e=="string"?e.split("."):e},t.prototype.resolveParentPath=function(e){return e},t.prototype.isAnimationEnabled=function(){if(!Oe.node&&this.option){if(this.option.animation!=null)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},t.prototype._doGet=function(e,r){var n=this.option;if(!e)return n;for(var i=0;i<e.length&&!(e[i]&&(n=n&&typeof n=="object"?n[e[i]]:null,n==null));i++);return n==null&&r&&(n=r._doGet(this.resolveParentPath(e),r.parentModel)),n},t}();cm(Nt);QB(Nt);ei(Nt,f6);ei(Nt,v6);ei(Nt,n4);ei(Nt,l6);var d6=Math.round(Math.random()*10);function qh(t){return[t||"",d6++].join("_")}function p6(t){var e={};t.registerSubTypeDefaulter=function(r,n){var i=$n(r);e[i.main]=n},t.determineSubType=function(r,n){var i=n.type;if(!i){var a=$n(r).main;t.hasSubTypes(r)&&e[a]&&(i=e[a](n))}return i}}function g6(t,e){t.topologicalTravel=function(a,o,s,l){if(!a.length)return;var f=r(o),v=f.graph,d=f.noEntryList,g={};for(Y(a,function(C){g[C]=!0});d.length;){var p=d.pop(),y=v[p],w=!!g[p];w&&(s.call(l,p,y.originalDeps.slice()),delete g[p]),Y(y.successor,w?x:b)}Y(g,function(){var C="";throw new Error(C)});function b(C){v[C].entryCount--,v[C].entryCount===0&&d.push(C)}function x(C){g[C]=!0,b(C)}};function r(a){var o={},s=[];return Y(a,function(l){var f=n(o,l),v=f.originalDeps=e(l),d=i(v,a);f.entryCount=d.length,f.entryCount===0&&s.push(l),Y(d,function(g){lt(f.predecessor,g)<0&&f.predecessor.push(g);var p=n(o,g);lt(p.successor,g)<0&&p.successor.push(l)})}),{graph:o,noEntryList:s}}function n(a,o){return a[o]||(a[o]={predecessor:[],successor:[]}),a[o]}function i(a,o){var s=[];return Y(a,function(l){lt(o,l)>=0&&s.push(l)}),s}}const m6={time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst",custom:"Custom chart",chart:"Chart"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}},y6={time:{month:["","","","","","","","","","","",""],monthAbbr:["1","2","3","4","5","6","7","8","9","10","11","12"],dayOfWeek:["","","","","","",""],dayOfWeekAbbr:["","","","","","",""]},legend:{selector:{all:"",inverse:""}},toolbox:{brush:{title:{rect:"",polygon:"",lineX:"",lineY:"",keep:"",clear:""}},dataView:{title:"",lang:["","",""]},dataZoom:{title:{zoom:"",back:""}},magicType:{title:{line:"",bar:"",stack:"",tiled:""}},restore:{title:""},saveAsImage:{title:"",lang:[""]}},series:{typeNames:{pie:"",bar:"",line:"",scatter:"",effectScatter:"",radar:"",tree:"",treemap:"",boxplot:"",candlestick:"K",k:"K",heatmap:"",map:"",parallel:"",lines:"",graph:"",sankey:"",funnel:"",gauge:"",pictorialBar:"",themeRiver:"",sunburst:"",custom:"",chart:""}},aria:{general:{withTitle:"{title}",withoutTitle:""},series:{single:{prefix:"",withName:"{seriesType}{seriesName}",withoutName:"{seriesType}"},multiple:{prefix:"{seriesCount}",withName:"{seriesId}{seriesName}{seriesType}",withoutName:"{seriesId}{seriesType}",separator:{middle:"",end:""}}},data:{allData:"",partialData:"{displayCnt}",withName:"{name}{value}",withoutName:"{value}",separator:{middle:"",end:""}}}};var ih="ZH",Em="EN",vs=Em,_f={},km={},NT=Oe.domSupported?function(){var t=(document.documentElement.lang||navigator.language||navigator.browserLanguage||vs).toUpperCase();return t.indexOf(ih)>-1?ih:vs}():vs;function AT(t,e){t=t.toUpperCase(),km[t]=new Nt(e),_f[t]=e}function _6(t){if(ke(t)){var e=_f[t.toUpperCase()]||{};return t===ih||t===Em?qe(e):ct(qe(e),qe(_f[vs]),!1)}else return ct(qe(t),qe(_f[vs]),!1)}function w6(t){return km[t]}function b6(){return km[vs]}AT(Em,m6);AT(ih,y6);var Im=1e3,Mm=Im*60,Qu=Mm*60,Qr=Qu*24,iw=Qr*365,Fu={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}"},Fc="{yyyy}-{MM}-{dd}",aw={year:"{yyyy}",month:"{yyyy}-{MM}",day:Fc,hour:Fc+" "+Fu.hour,minute:Fc+" "+Fu.minute,second:Fc+" "+Fu.second,millisecond:Fu.none},Td=["year","month","day","hour","minute","second","millisecond"],DT=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function Bi(t,e){return t+="","0000".substr(0,e-t.length)+t}function ds(t){switch(t){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return t}}function x6(t){return t===ds(t)}function S6(t){switch(t){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}function Wh(t,e,r,n){var i=Ii(t),a=i[Lm(r)](),o=i[ps(r)]()+1,s=Math.floor((o-1)/3)+1,l=i[Xh(r)](),f=i["get"+(r?"UTC":"")+"Day"](),v=i[yl(r)](),d=(v-1)%12+1,g=i[Kh(r)](),p=i[Zh(r)](),y=i[jh(r)](),w=v>=12?"pm":"am",b=w.toUpperCase(),x=n instanceof Nt?n:w6(n||NT)||b6(),C=x.getModel("time"),T=C.get("month"),k=C.get("monthAbbr"),L=C.get("dayOfWeek"),M=C.get("dayOfWeekAbbr");return(e||"").replace(/{a}/g,w+"").replace(/{A}/g,b+"").replace(/{yyyy}/g,a+"").replace(/{yy}/g,Bi(a%100+"",2)).replace(/{Q}/g,s+"").replace(/{MMMM}/g,T[o-1]).replace(/{MMM}/g,k[o-1]).replace(/{MM}/g,Bi(o,2)).replace(/{M}/g,o+"").replace(/{dd}/g,Bi(l,2)).replace(/{d}/g,l+"").replace(/{eeee}/g,L[f]).replace(/{ee}/g,M[f]).replace(/{e}/g,f+"").replace(/{HH}/g,Bi(v,2)).replace(/{H}/g,v+"").replace(/{hh}/g,Bi(d+"",2)).replace(/{h}/g,d+"").replace(/{mm}/g,Bi(g,2)).replace(/{m}/g,g+"").replace(/{ss}/g,Bi(p,2)).replace(/{s}/g,p+"").replace(/{SSS}/g,Bi(y,3)).replace(/{S}/g,y+"")}function C6(t,e,r,n,i){var a=null;if(ke(r))a=r;else if(ze(r))a=r(t.value,e,{level:t.level});else{var o=ye({},Fu);if(t.level>0)for(var s=0;s<Td.length;++s)o[Td[s]]="{primary|"+o[Td[s]]+"}";var l=r?r.inherit===!1?r:$e(r,o):o,f=RT(t.value,i);if(l[f])a=l[f];else if(l.inherit){for(var v=DT.indexOf(f),s=v-1;s>=0;--s)if(l[f]){a=l[f];break}a=a||o.none}if(we(a)){var d=t.level==null?0:t.level>=0?t.level:a.length+t.level;d=Math.min(d,a.length-1),a=a[d]}}return Wh(new Date(t.value),a,i,n)}function RT(t,e){var r=Ii(t),n=r[ps(e)]()+1,i=r[Xh(e)](),a=r[yl(e)](),o=r[Kh(e)](),s=r[Zh(e)](),l=r[jh(e)](),f=l===0,v=f&&s===0,d=v&&o===0,g=d&&a===0,p=g&&i===1,y=p&&n===1;return y?"year":p?"month":g?"day":d?"hour":v?"minute":f?"second":"millisecond"}function ow(t,e,r){var n=Tt(t)?Ii(t):t;switch(e=e||RT(t,r),e){case"year":return n[Lm(r)]();case"half-year":return n[ps(r)]()>=6?1:0;case"quarter":return Math.floor((n[ps(r)]()+1)/4);case"month":return n[ps(r)]();case"day":return n[Xh(r)]();case"half-day":return n[yl(r)]()/24;case"hour":return n[yl(r)]();case"minute":return n[Kh(r)]();case"second":return n[Zh(r)]();case"millisecond":return n[jh(r)]()}}function Lm(t){return t?"getUTCFullYear":"getFullYear"}function ps(t){return t?"getUTCMonth":"getMonth"}function Xh(t){return t?"getUTCDate":"getDate"}function yl(t){return t?"getUTCHours":"getHours"}function Kh(t){return t?"getUTCMinutes":"getMinutes"}function Zh(t){return t?"getUTCSeconds":"getSeconds"}function jh(t){return t?"getUTCMilliseconds":"getMilliseconds"}function T6(t){return t?"setUTCFullYear":"setFullYear"}function OT(t){return t?"setUTCMonth":"setMonth"}function FT(t){return t?"setUTCDate":"setDate"}function BT(t){return t?"setUTCHours":"setHours"}function zT(t){return t?"setUTCMinutes":"setMinutes"}function GT(t){return t?"setUTCSeconds":"setSeconds"}function VT(t){return t?"setUTCMilliseconds":"setMilliseconds"}function HT(t){if(!PB(t))return ke(t)?t:"-";var e=(t+"").split(".");return e[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(e.length>1?"."+e[1]:"")}function $T(t,e){return t=(t||"").toLowerCase().replace(/-(.)/g,function(r,n){return n.toUpperCase()}),e&&t&&(t=t.charAt(0).toUpperCase()+t.slice(1)),t}var Pm=vC;function Yp(t,e,r){var n="{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}";function i(v){return v&&Hn(v)?v:"-"}function a(v){return!!(v!=null&&!isNaN(v)&&isFinite(v))}var o=e==="time",s=t instanceof Date;if(o||s){var l=o?Ii(t):t;if(isNaN(+l)){if(s)return"-"}else return Wh(l,n,r)}if(e==="ordinal")return yp(t)?i(t):Tt(t)&&a(t)?t+"":"-";var f=Zf(t);return a(f)?HT(f):yp(t)?i(t):typeof t=="boolean"?t+"":"-"}var sw=["a","b","c","d","e","f","g"],Ed=function(t,e){return"{"+t+(e??"")+"}"};function UT(t,e,r){we(e)||(e=[e]);var n=e.length;if(!n)return"";for(var i=e[0].$vars||[],a=0;a<i.length;a++){var o=sw[a];t=t.replace(Ed(o),Ed(o,0))}for(var s=0;s<n;s++)for(var l=0;l<i.length;l++){var f=e[s][i[l]];t=t.replace(Ed(sw[l],s),r?hr(f):f)}return t}function E6(t,e){var r=ke(t)?{color:t,extraCssText:e}:t||{},n=r.color,i=r.type;e=r.extraCssText;var a=r.renderMode||"html";if(!n)return"";if(a==="html")return i==="subItem"?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+hr(n)+";"+(e||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+hr(n)+";"+(e||"")+'"></span>';var o=r.markerId||"markerX";return{renderMode:a,content:"{"+o+"|}  ",style:i==="subItem"?{width:4,height:4,borderRadius:2,backgroundColor:n}:{width:10,height:10,borderRadius:5,backgroundColor:n}}}function bo(t,e){return e=e||"transparent",ke(t)?t:Le(t)&&t.colorStops&&(t.colorStops[0]||{}).color||e}var wf=Y,k6=["left","right","top","bottom","width","height"],Bc=[["width","left","right"],["height","top","bottom"]];function YT(t,e,r,n,i){var a=0,o=0;n==null&&(n=1/0),i==null&&(i=1/0);var s=0;e.eachChild(function(l,f){var v=l.getBoundingRect(),d=e.childAt(f+1),g=d&&d.getBoundingRect(),p,y;if(t==="horizontal"){var w=v.width+(g?-g.x+v.x:0);p=a+w,p>n||l.newline?(a=0,p=w,o+=s+r,s=v.height):s=Math.max(s,v.height)}else{var b=v.height+(g?-g.y+v.y:0);y=o+b,y>i||l.newline?(a+=s+r,o=0,y=b,s=v.width):s=Math.max(s,v.width)}l.newline||(l.x=a,l.y=o,l.markRedraw(),t==="horizontal"?a=p+r:o=y+r)})}tn(YT,"vertical");tn(YT,"horizontal");function qT(t,e,r){r=Pm(r||0);var n=e.width,i=e.height,a=ir(t.left,n),o=ir(t.top,i),s=ir(t.right,n),l=ir(t.bottom,i),f=ir(t.width,n),v=ir(t.height,i),d=r[2]+r[0],g=r[1]+r[3],p=t.aspect;switch(isNaN(f)&&(f=n-s-g-a),isNaN(v)&&(v=i-l-d-o),p!=null&&(isNaN(f)&&isNaN(v)&&(p>n/i?f=n*.8:v=i*.8),isNaN(f)&&(f=p*v),isNaN(v)&&(v=f/p)),isNaN(a)&&(a=n-s-f-g),isNaN(o)&&(o=i-l-v-d),t.left||t.right){case"center":a=n/2-f/2-r[3];break;case"right":a=n-f-g;break}switch(t.top||t.bottom){case"middle":case"center":o=i/2-v/2-r[0];break;case"bottom":o=i-v-d;break}a=a||0,o=o||0,isNaN(f)&&(f=n-g-a-(s||0)),isNaN(v)&&(v=i-d-o-(l||0));var y=new Je(a+r[3],o+r[0],f,v);return y.margin=r,y}function _l(t){var e=t.layoutMode||t.constructor.layoutMode;return Le(e)?e:e?{type:e}:null}function wl(t,e,r){var n=r&&r.ignoreSize;!we(n)&&(n=[n,n]);var i=o(Bc[0],0),a=o(Bc[1],1);f(Bc[0],t,i),f(Bc[1],t,a);function o(v,d){var g={},p=0,y={},w=0,b=2;if(wf(v,function(T){y[T]=t[T]}),wf(v,function(T){s(e,T)&&(g[T]=y[T]=e[T]),l(g,T)&&p++,l(y,T)&&w++}),n[d])return l(e,v[1])?y[v[2]]=null:l(e,v[2])&&(y[v[1]]=null),y;if(w===b||!p)return y;if(p>=b)return g;for(var x=0;x<v.length;x++){var C=v[x];if(!s(g,C)&&s(t,C)){g[C]=t[C];break}}return g}function s(v,d){return v.hasOwnProperty(d)}function l(v,d){return v[d]!=null&&v[d]!=="auto"}function f(v,d,g){wf(v,function(p){d[p]=g[p]})}}function Nm(t){return I6({},t)}function I6(t,e){return e&&t&&wf(k6,function(r){e.hasOwnProperty(r)&&(t[r]=e[r])}),t}var M6=Ot(),ut=function(t){xe(e,t);function e(r,n,i){var a=t.call(this,r,n,i)||this;return a.uid=qh("ec_cpt_model"),a}return e.prototype.init=function(r,n,i){this.mergeDefaultAndTheme(r,i)},e.prototype.mergeDefaultAndTheme=function(r,n){var i=_l(this),a=i?Nm(r):{},o=n.getTheme();ct(r,o.get(this.mainType)),ct(r,this.getDefaultOption()),i&&wl(r,a,i)},e.prototype.mergeOption=function(r,n){ct(this.option,r,!0);var i=_l(this);i&&wl(this.option,r,i)},e.prototype.optionUpdated=function(r,n){},e.prototype.getDefaultOption=function(){var r=this.constructor;if(!KB(r))return r.defaultOption;var n=M6(this);if(!n.defaultOption){for(var i=[],a=r;a;){var o=a.prototype.defaultOption;o&&i.push(o),a=a.superClass}for(var s={},l=i.length-1;l>=0;l--)s=ct(s,i[l],!0);n.defaultOption=s}return n.defaultOption},e.prototype.getReferringComponents=function(r,n){var i=r+"Index",a=r+"Id";return Gl(this.ecModel,r,{index:this.get(i,!0),id:this.get(a,!0)},n)},e.prototype.getBoxLayoutParams=function(){var r=this;return{left:r.get("left"),top:r.get("top"),right:r.get("right"),bottom:r.get("bottom"),width:r.get("width"),height:r.get("height")}},e.prototype.getZLevelKey=function(){return""},e.prototype.setZLevel=function(r){this.option.zlevel=r},e.protoInitialize=function(){var r=e.prototype;r.type="component",r.id="",r.name="",r.mainType="",r.subType="",r.componentIndex=0}(),e}(Nt);WC(ut,Nt);Rh(ut);p6(ut);g6(ut,L6);function L6(t){var e=[];return Y(ut.getClassesByMainType(t),function(r){e=e.concat(r.dependencies||r.prototype.dependencies||[])}),e=Me(e,function(r){return $n(r).main}),t!=="dataset"&&lt(e,"dataset")<=0&&e.unshift("dataset"),e}var WT="";typeof navigator<"u"&&(WT=navigator.platform||"");var Yo="rgba(0, 0, 0, 0.2)";const P6={darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:Yo,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:Yo,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:Yo,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:Yo,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:Yo,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:Yo,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:WT.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1};var XT=Be(["tooltip","label","itemName","itemId","itemGroupId","itemChildGroupId","seriesName"]),un="original",Tr="arrayRows",ri="objectRows",Pi="keyedColumns",aa="typedArray",KT="unknown",xi="column",Us="row",Ar={Must:1,Might:2,Not:3},ZT=Ot();function N6(t){ZT(t).datasetMap=Be()}function A6(t,e,r){var n={},i=jT(e);if(!i||!t)return n;var a=[],o=[],s=e.ecModel,l=ZT(s).datasetMap,f=i.uid+"_"+r.seriesLayoutBy,v,d;t=t.slice(),Y(t,function(w,b){var x=Le(w)?w:t[b]={name:w};x.type==="ordinal"&&v==null&&(v=b,d=y(x)),n[x.name]=[]});var g=l.get(f)||l.set(f,{categoryWayDim:d,valueWayDim:0});Y(t,function(w,b){var x=w.name,C=y(w);if(v==null){var T=g.valueWayDim;p(n[x],T,C),p(o,T,C),g.valueWayDim+=C}else if(v===b)p(n[x],0,C),p(a,0,C);else{var T=g.categoryWayDim;p(n[x],T,C),p(o,T,C),g.categoryWayDim+=C}});function p(w,b,x){for(var C=0;C<x;C++)w.push(b+C)}function y(w){var b=w.dimsDef;return b?b.length:1}return a.length&&(n.itemName=a),o.length&&(n.seriesName=o),n}function jT(t){var e=t.get("data",!0);if(!e)return Gl(t.ecModel,"dataset",{index:t.get("datasetIndex",!0),id:t.get("datasetId",!0)},bn).models[0]}function D6(t){return!t.get("transform",!0)&&!t.get("fromTransformResult",!0)?[]:Gl(t.ecModel,"dataset",{index:t.get("fromDatasetIndex",!0),id:t.get("fromDatasetId",!0)},bn).models}function QT(t,e){return R6(t.data,t.sourceFormat,t.seriesLayoutBy,t.dimensionsDefine,t.startIndex,e)}function R6(t,e,r,n,i,a){var o,s=5;if(Sr(t))return Ar.Not;var l,f;if(n){var v=n[a];Le(v)?(l=v.name,f=v.type):ke(v)&&(l=v)}if(f!=null)return f==="ordinal"?Ar.Must:Ar.Not;if(e===Tr){var d=t;if(r===Us){for(var g=d[a],p=0;p<(g||[]).length&&p<s;p++)if((o=k(g[i+p]))!=null)return o}else for(var p=0;p<d.length&&p<s;p++){var y=d[i+p];if(y&&(o=k(y[a]))!=null)return o}}else if(e===ri){var w=t;if(!l)return Ar.Not;for(var p=0;p<w.length&&p<s;p++){var b=w[p];if(b&&(o=k(b[l]))!=null)return o}}else if(e===Pi){var x=t;if(!l)return Ar.Not;var g=x[l];if(!g||Sr(g))return Ar.Not;for(var p=0;p<g.length&&p<s;p++)if((o=k(g[p]))!=null)return o}else if(e===un)for(var C=t,p=0;p<C.length&&p<s;p++){var b=C[p],T=zl(b);if(!we(T))return Ar.Not;if((o=k(T[a]))!=null)return o}function k(L){var M=ke(L);if(L!=null&&Number.isFinite(Number(L))&&L!=="")return M?Ar.Might:Ar.Not;if(M&&L!=="-")return Ar.Must}return Ar.Not}var O6=Be();function F6(t,e,r){var n=O6.get(e);if(!n)return r;var i=n(t);return i?r.concat(i):r}var uw=Ot();Ot();var Am=function(){function t(){}return t.prototype.getColorFromPalette=function(e,r,n){var i=Rt(this.get("color",!0)),a=this.get("colorLayer",!0);return z6(this,uw,i,a,e,r,n)},t.prototype.clearColorPalette=function(){G6(this,uw)},t}();function B6(t,e){for(var r=t.length,n=0;n<r;n++)if(t[n].length>e)return t[n];return t[r-1]}function z6(t,e,r,n,i,a,o){a=a||t;var s=e(a),l=s.paletteIdx||0,f=s.paletteNameMap=s.paletteNameMap||{};if(f.hasOwnProperty(i))return f[i];var v=o==null||!n?r:B6(n,o);if(v=v||r,!(!v||!v.length)){var d=v[l];return i&&(f[i]=d),s.paletteIdx=(l+1)%v.length,d}}function G6(t,e){e(t).paletteIdx=0,e(t).paletteNameMap={}}var zc,wu,lw,cw="\0_ec_inner",V6=1,Dm=function(t){xe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.init=function(r,n,i,a,o,s){a=a||{},this.option=null,this._theme=new Nt(a),this._locale=new Nt(o),this._optionManager=s},e.prototype.setOption=function(r,n,i){var a=vw(n);this._optionManager.setOption(r,i,a),this._resetOption(null,a)},e.prototype.resetOption=function(r,n){return this._resetOption(r,vw(n))},e.prototype._resetOption=function(r,n){var i=!1,a=this._optionManager;if(!r||r==="recreate"){var o=a.mountOption(r==="recreate");!this.option||r==="recreate"?lw(this,o):(this.restoreData(),this._mergeOption(o,n)),i=!0}if((r==="timeline"||r==="media")&&this.restoreData(),!r||r==="recreate"||r==="timeline"){var s=a.getTimelineOption(this);s&&(i=!0,this._mergeOption(s,n))}if(!r||r==="recreate"||r==="media"){var l=a.getMediaOption(this);l.length&&Y(l,function(f){i=!0,this._mergeOption(f,n)},this)}return i},e.prototype.mergeOption=function(r){this._mergeOption(r,null)},e.prototype._mergeOption=function(r,n){var i=this.option,a=this._componentsMap,o=this._componentsCount,s=[],l=Be(),f=n&&n.replaceMergeMainTypeMap;N6(this),Y(r,function(d,g){d!=null&&(ut.hasClass(g)?g&&(s.push(g),l.set(g,!0)):i[g]=i[g]==null?qe(d):ct(i[g],d,!0))}),f&&f.each(function(d,g){ut.hasClass(g)&&!l.get(g)&&(s.push(g),l.set(g,!0))}),ut.topologicalTravel(s,ut.getAllClassMainTypes(),v,this);function v(d){var g=F6(this,d,Rt(r[d])),p=a.get(d),y=p?f&&f.get(d)?"replaceMerge":"normalMerge":"replaceAll",w=DB(p,g,y);VB(w,d,ut),i[d]=null,a.set(d,null),o.set(d,0);var b=[],x=[],C=0,T;Y(w,function(k,L){var M=k.existing,N=k.newOption;if(!N)M&&(M.mergeOption({},this),M.optionUpdated({},!1));else{var R=d==="series",D=ut.getClass(d,k.keyInfo.subType,!R);if(!D)return;if(d==="tooltip"){if(T)return;T=!0}if(M&&M.constructor===D)M.name=k.keyInfo.name,M.mergeOption(N,this),M.optionUpdated(N,!1);else{var F=ye({componentIndex:L},k.keyInfo);M=new D(N,this,this,F),ye(M,F),k.brandNew&&(M.__requireNewView=!0),M.init(N,this,this),M.optionUpdated(null,!0)}}M?(b.push(M.option),x.push(M),C++):(b.push(void 0),x.push(void 0))},this),i[d]=b,a.set(d,x),o.set(d,C),d==="series"&&zc(this)}this._seriesIndices||zc(this)},e.prototype.getOption=function(){var r=qe(this.option);return Y(r,function(n,i){if(ut.hasClass(i)){for(var a=Rt(n),o=a.length,s=!1,l=o-1;l>=0;l--)a[l]&&!dl(a[l])?s=!0:(a[l]=null,!s&&o--);a.length=o,r[i]=a}}),delete r[cw],r},e.prototype.getTheme=function(){return this._theme},e.prototype.getLocaleModel=function(){return this._locale},e.prototype.setUpdatePayload=function(r){this._payload=r},e.prototype.getUpdatePayload=function(){return this._payload},e.prototype.getComponent=function(r,n){var i=this._componentsMap.get(r);if(i){var a=i[n||0];if(a)return a;if(n==null){for(var o=0;o<i.length;o++)if(i[o])return i[o]}}},e.prototype.queryComponents=function(r){var n=r.mainType;if(!n)return[];var i=r.index,a=r.id,o=r.name,s=this._componentsMap.get(n);if(!s||!s.length)return[];var l;return i!=null?(l=[],Y(Rt(i),function(f){s[f]&&l.push(s[f])})):a!=null?l=fw("id",a,s):o!=null?l=fw("name",o,s):l=Bt(s,function(f){return!!f}),hw(l,r)},e.prototype.findComponents=function(r){var n=r.query,i=r.mainType,a=s(n),o=a?this.queryComponents(a):Bt(this._componentsMap.get(i),function(f){return!!f});return l(hw(o,r));function s(f){var v=i+"Index",d=i+"Id",g=i+"Name";return f&&(f[v]!=null||f[d]!=null||f[g]!=null)?{mainType:i,index:f[v],id:f[d],name:f[g]}:null}function l(f){return r.filter?Bt(f,r.filter):f}},e.prototype.eachComponent=function(r,n,i){var a=this._componentsMap;if(ze(r)){var o=n,s=r;a.each(function(d,g){for(var p=0;d&&p<d.length;p++){var y=d[p];y&&s.call(o,g,y,y.componentIndex)}})}else for(var l=ke(r)?a.get(r):Le(r)?this.findComponents(r):null,f=0;l&&f<l.length;f++){var v=l[f];v&&n.call(i,v,v.componentIndex)}},e.prototype.getSeriesByName=function(r){var n=Xn(r,null);return Bt(this._componentsMap.get("series"),function(i){return!!i&&n!=null&&i.name===n})},e.prototype.getSeriesByIndex=function(r){return this._componentsMap.get("series")[r]},e.prototype.getSeriesByType=function(r){return Bt(this._componentsMap.get("series"),function(n){return!!n&&n.subType===r})},e.prototype.getSeries=function(){return Bt(this._componentsMap.get("series"),function(r){return!!r})},e.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},e.prototype.eachSeries=function(r,n){wu(this),Y(this._seriesIndices,function(i){var a=this._componentsMap.get("series")[i];r.call(n,a,i)},this)},e.prototype.eachRawSeries=function(r,n){Y(this._componentsMap.get("series"),function(i){i&&r.call(n,i,i.componentIndex)})},e.prototype.eachSeriesByType=function(r,n,i){wu(this),Y(this._seriesIndices,function(a){var o=this._componentsMap.get("series")[a];o.subType===r&&n.call(i,o,a)},this)},e.prototype.eachRawSeriesByType=function(r,n,i){return Y(this.getSeriesByType(r),n,i)},e.prototype.isSeriesFiltered=function(r){return wu(this),this._seriesIndicesMap.get(r.componentIndex)==null},e.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},e.prototype.filterSeries=function(r,n){wu(this);var i=[];Y(this._seriesIndices,function(a){var o=this._componentsMap.get("series")[a];r.call(n,o,a)&&i.push(a)},this),this._seriesIndices=i,this._seriesIndicesMap=Be(i)},e.prototype.restoreData=function(r){zc(this);var n=this._componentsMap,i=[];n.each(function(a,o){ut.hasClass(o)&&i.push(o)}),ut.topologicalTravel(i,ut.getAllClassMainTypes(),function(a){Y(n.get(a),function(o){o&&(a!=="series"||!H6(o,r))&&o.restoreData()})})},e.internalField=function(){zc=function(r){var n=r._seriesIndices=[];Y(r._componentsMap.get("series"),function(i){i&&n.push(i.componentIndex)}),r._seriesIndicesMap=Be(n)},wu=function(r){},lw=function(r,n){r.option={},r.option[cw]=V6,r._componentsMap=Be({series:[]}),r._componentsCount=Be();var i=n.aria;Le(i)&&i.enabled==null&&(i.enabled=!0),$6(n,r._theme.option),ct(n,P6,!1),r._mergeOption(n,null)}}(),e}(Nt);function H6(t,e){if(e){var r=e.seriesIndex,n=e.seriesId,i=e.seriesName;return r!=null&&t.componentIndex!==r||n!=null&&t.id!==n||i!=null&&t.name!==i}}function $6(t,e){var r=t.color&&!t.colorLayer;Y(e,function(n,i){i==="colorLayer"&&r||ut.hasClass(i)||(typeof n=="object"?t[i]=t[i]?ct(t[i],n,!1):qe(n):t[i]==null&&(t[i]=n))})}function fw(t,e,r){if(we(e)){var n=Be();return Y(e,function(a){if(a!=null){var o=Xn(a,null);o!=null&&n.set(a,!0)}}),Bt(r,function(a){return a&&n.get(a[t])})}else{var i=Xn(e,null);return Bt(r,function(a){return a&&i!=null&&a[t]===i})}}function hw(t,e){return e.hasOwnProperty("subType")?Bt(t,function(r){return r&&r.subType===e.subType}):t}function vw(t){var e=Be();return t&&Y(Rt(t.replaceMerge),function(r){e.set(r,!0)}),{replaceMergeMainTypeMap:e}}ei(Dm,Am);var U6=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],JT=function(){function t(e){Y(U6,function(r){this[r]=Ct(e[r],e)},this)}return t}(),kd={},Rm=function(){function t(){this._coordinateSystems=[]}return t.prototype.create=function(e,r){var n=[];Y(kd,function(i,a){var o=i.create(e,r);n=n.concat(o||[])}),this._coordinateSystems=n},t.prototype.update=function(e,r){Y(this._coordinateSystems,function(n){n.update&&n.update(e,r)})},t.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},t.register=function(e,r){kd[e]=r},t.get=function(e){return kd[e]},t}(),Y6=/^(min|max)?(.+)$/,q6=function(){function t(e){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=e}return t.prototype.setOption=function(e,r,n){e&&(Y(Rt(e.series),function(o){o&&o.data&&Sr(o.data)&&_p(o.data)}),Y(Rt(e.dataset),function(o){o&&o.source&&Sr(o.source)&&_p(o.source)})),e=qe(e);var i=this._optionBackup,a=W6(e,r,!i);this._newBaseOption=a.baseOption,i?(a.timelineOptions.length&&(i.timelineOptions=a.timelineOptions),a.mediaList.length&&(i.mediaList=a.mediaList),a.mediaDefault&&(i.mediaDefault=a.mediaDefault)):this._optionBackup=a},t.prototype.mountOption=function(e){var r=this._optionBackup;return this._timelineOptions=r.timelineOptions,this._mediaList=r.mediaList,this._mediaDefault=r.mediaDefault,this._currentMediaIndices=[],qe(e?r.baseOption:this._newBaseOption)},t.prototype.getTimelineOption=function(e){var r,n=this._timelineOptions;if(n.length){var i=e.getComponent("timeline");i&&(r=qe(n[i.getCurrentIndex()]))}return r},t.prototype.getMediaOption=function(e){var r=this._api.getWidth(),n=this._api.getHeight(),i=this._mediaList,a=this._mediaDefault,o=[],s=[];if(!i.length&&!a)return s;for(var l=0,f=i.length;l<f;l++)X6(i[l].query,r,n)&&o.push(l);return!o.length&&a&&(o=[-1]),o.length&&!Z6(o,this._currentMediaIndices)&&(s=Me(o,function(v){return qe(v===-1?a.option:i[v].option)})),this._currentMediaIndices=o,s},t}();function W6(t,e,r){var n=[],i,a,o=t.baseOption,s=t.timeline,l=t.options,f=t.media,v=!!t.media,d=!!(l||s||o&&o.timeline);o?(a=o,a.timeline||(a.timeline=s)):((d||v)&&(t.options=t.media=null),a=t),v&&we(f)&&Y(f,function(p){p&&p.option&&(p.query?n.push(p):i||(i=p))}),g(a),Y(l,function(p){return g(p)}),Y(n,function(p){return g(p.option)});function g(p){Y(e,function(y){y(p,r)})}return{baseOption:a,timelineOptions:l||[],mediaDefault:i,mediaList:n}}function X6(t,e,r){var n={width:e,height:r,aspectratio:e/r},i=!0;return Y(t,function(a,o){var s=o.match(Y6);if(!(!s||!s[1]||!s[2])){var l=s[1],f=s[2].toLowerCase();K6(n[f],a,l)||(i=!1)}}),i}function K6(t,e,r){return r==="min"?t>=e:r==="max"?t<=e:t===e}function Z6(t,e){return t.join(",")===e.join(",")}var vn=Y,bl=Le,dw=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function Id(t){var e=t&&t.itemStyle;if(e)for(var r=0,n=dw.length;r<n;r++){var i=dw[r],a=e.normal,o=e.emphasis;a&&a[i]&&(t[i]=t[i]||{},t[i].normal?ct(t[i].normal,a[i]):t[i].normal=a[i],a[i]=null),o&&o[i]&&(t[i]=t[i]||{},t[i].emphasis?ct(t[i].emphasis,o[i]):t[i].emphasis=o[i],o[i]=null)}}function jt(t,e,r){if(t&&t[e]&&(t[e].normal||t[e].emphasis)){var n=t[e].normal,i=t[e].emphasis;n&&(r?(t[e].normal=t[e].emphasis=null,$e(t[e],n)):t[e]=n),i&&(t.emphasis=t.emphasis||{},t.emphasis[e]=i,i.focus&&(t.emphasis.focus=i.focus),i.blurScope&&(t.emphasis.blurScope=i.blurScope))}}function Bu(t){jt(t,"itemStyle"),jt(t,"lineStyle"),jt(t,"areaStyle"),jt(t,"label"),jt(t,"labelLine"),jt(t,"upperLabel"),jt(t,"edgeLabel")}function Lt(t,e){var r=bl(t)&&t[e],n=bl(r)&&r.textStyle;if(n)for(var i=0,a=p1.length;i<a;i++){var o=p1[i];n.hasOwnProperty(o)&&(r[o]=n[o])}}function Kr(t){t&&(Bu(t),Lt(t,"label"),t.emphasis&&Lt(t.emphasis,"label"))}function j6(t){if(bl(t)){Id(t),Bu(t),Lt(t,"label"),Lt(t,"upperLabel"),Lt(t,"edgeLabel"),t.emphasis&&(Lt(t.emphasis,"label"),Lt(t.emphasis,"upperLabel"),Lt(t.emphasis,"edgeLabel"));var e=t.markPoint;e&&(Id(e),Kr(e));var r=t.markLine;r&&(Id(r),Kr(r));var n=t.markArea;n&&Kr(n);var i=t.data;if(t.type==="graph"){i=i||t.nodes;var a=t.links||t.edges;if(a&&!Sr(a))for(var o=0;o<a.length;o++)Kr(a[o]);Y(t.categories,function(f){Bu(f)})}if(i&&!Sr(i))for(var o=0;o<i.length;o++)Kr(i[o]);if(e=t.markPoint,e&&e.data)for(var s=e.data,o=0;o<s.length;o++)Kr(s[o]);if(r=t.markLine,r&&r.data)for(var l=r.data,o=0;o<l.length;o++)we(l[o])?(Kr(l[o][0]),Kr(l[o][1])):Kr(l[o]);t.type==="gauge"?(Lt(t,"axisLabel"),Lt(t,"title"),Lt(t,"detail")):t.type==="treemap"?(jt(t.breadcrumb,"itemStyle"),Y(t.levels,function(f){Bu(f)})):t.type==="tree"&&Bu(t.leaves)}}function fi(t){return we(t)?t:t?[t]:[]}function pw(t){return(we(t)?t[0]:t)||{}}function Q6(t,e){vn(fi(t.series),function(n){bl(n)&&j6(n)});var r=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];e&&r.push("valueAxis","categoryAxis","logAxis","timeAxis"),vn(r,function(n){vn(fi(t[n]),function(i){i&&(Lt(i,"axisLabel"),Lt(i.axisPointer,"label"))})}),vn(fi(t.parallel),function(n){var i=n&&n.parallelAxisDefault;Lt(i,"axisLabel"),Lt(i&&i.axisPointer,"label")}),vn(fi(t.calendar),function(n){jt(n,"itemStyle"),Lt(n,"dayLabel"),Lt(n,"monthLabel"),Lt(n,"yearLabel")}),vn(fi(t.radar),function(n){Lt(n,"name"),n.name&&n.axisName==null&&(n.axisName=n.name,delete n.name),n.nameGap!=null&&n.axisNameGap==null&&(n.axisNameGap=n.nameGap,delete n.nameGap)}),vn(fi(t.geo),function(n){bl(n)&&(Kr(n),vn(fi(n.regions),function(i){Kr(i)}))}),vn(fi(t.timeline),function(n){Kr(n),jt(n,"label"),jt(n,"itemStyle"),jt(n,"controlStyle",!0);var i=n.data;we(i)&&Y(i,function(a){Le(a)&&(jt(a,"label"),jt(a,"itemStyle"))})}),vn(fi(t.toolbox),function(n){jt(n,"iconStyle"),vn(n.feature,function(i){jt(i,"iconStyle")})}),Lt(pw(t.axisPointer),"label"),Lt(pw(t.tooltip).axisPointer,"label")}function J6(t,e){for(var r=e.split(","),n=t,i=0;i<r.length&&(n=n&&n[r[i]],n!=null);i++);return n}function e8(t,e,r,n){for(var i=e.split(","),a=t,o,s=0;s<i.length-1;s++)o=i[s],a[o]==null&&(a[o]={}),a=a[o];a[i[s]]==null&&(a[i[s]]=r)}function gw(t){t&&Y(t8,function(e){e[0]in t&&!(e[1]in t)&&(t[e[1]]=t[e[0]])})}var t8=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],r8=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],Md=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function bu(t){var e=t&&t.itemStyle;if(e)for(var r=0;r<Md.length;r++){var n=Md[r][1],i=Md[r][0];e[n]!=null&&(e[i]=e[n])}}function mw(t){t&&t.alignTo==="edge"&&t.margin!=null&&t.edgeDistance==null&&(t.edgeDistance=t.margin)}function yw(t){t&&t.downplay&&!t.blur&&(t.blur=t.downplay)}function n8(t){t&&t.focusNodeAdjacency!=null&&(t.emphasis=t.emphasis||{},t.emphasis.focus==null&&(t.emphasis.focus="adjacency"))}function eE(t,e){if(t)for(var r=0;r<t.length;r++)e(t[r]),t[r]&&eE(t[r].children,e)}function tE(t,e){Q6(t,e),t.series=Rt(t.series),Y(t.series,function(r){if(Le(r)){var n=r.type;if(n==="line")r.clipOverflow!=null&&(r.clip=r.clipOverflow);else if(n==="pie"||n==="gauge"){r.clockWise!=null&&(r.clockwise=r.clockWise),mw(r.label);var i=r.data;if(i&&!Sr(i))for(var a=0;a<i.length;a++)mw(i[a]);r.hoverOffset!=null&&(r.emphasis=r.emphasis||{},(r.emphasis.scaleSize=null)&&(r.emphasis.scaleSize=r.hoverOffset))}else if(n==="gauge"){var o=J6(r,"pointer.color");o!=null&&e8(r,"itemStyle.color",o)}else if(n==="bar"){bu(r),bu(r.backgroundStyle),bu(r.emphasis);var i=r.data;if(i&&!Sr(i))for(var a=0;a<i.length;a++)typeof i[a]=="object"&&(bu(i[a]),bu(i[a]&&i[a].emphasis))}else if(n==="sunburst"){var s=r.highlightPolicy;s&&(r.emphasis=r.emphasis||{},r.emphasis.focus||(r.emphasis.focus=s)),yw(r),eE(r.data,yw)}else n==="graph"||n==="sankey"?n8(r):n==="map"&&(r.mapType&&!r.map&&(r.map=r.mapType),r.mapLocation&&$e(r,r.mapLocation));r.hoverAnimation!=null&&(r.emphasis=r.emphasis||{},r.emphasis&&r.emphasis.scale==null&&(r.emphasis.scale=r.hoverAnimation)),gw(r)}}),t.dataRange&&(t.visualMap=t.dataRange),Y(r8,function(r){var n=t[r];n&&(we(n)||(n=[n]),Y(n,function(i){gw(i)}))})}function i8(t){var e=Be();t.eachSeries(function(r){var n=r.get("stack");if(n){var i=e.get(n)||e.set(n,[]),a=r.getData(),o={stackResultDimension:a.getCalculationInfo("stackResultDimension"),stackedOverDimension:a.getCalculationInfo("stackedOverDimension"),stackedDimension:a.getCalculationInfo("stackedDimension"),stackedByDimension:a.getCalculationInfo("stackedByDimension"),isStackedByIndex:a.getCalculationInfo("isStackedByIndex"),data:a,seriesModel:r};if(!o.stackedDimension||!(o.isStackedByIndex||o.stackedByDimension))return;i.length&&a.setCalculationInfo("stackedOnSeries",i[i.length-1].seriesModel),i.push(o)}}),e.each(a8)}function a8(t){Y(t,function(e,r){var n=[],i=[NaN,NaN],a=[e.stackResultDimension,e.stackedOverDimension],o=e.data,s=e.isStackedByIndex,l=e.seriesModel.get("stackStrategy")||"samesign";o.modify(a,function(f,v,d){var g=o.get(e.stackedDimension,d);if(isNaN(g))return i;var p,y;s?y=o.getRawIndex(d):p=o.get(e.stackedByDimension,d);for(var w=NaN,b=r-1;b>=0;b--){var x=t[b];if(s||(y=x.data.rawIndexOf(x.stackedByDimension,p)),y>=0){var C=x.data.getByRawIndex(x.stackResultDimension,y);if(l==="all"||l==="positive"&&C>0||l==="negative"&&C<0||l==="samesign"&&g>=0&&C>0||l==="samesign"&&g<=0&&C<0){g=IB(g,C),w=C;break}}}return n[0]=g,n[1]=w,n})})}var Qh=function(){function t(e){this.data=e.data||(e.sourceFormat===Pi?{}:[]),this.sourceFormat=e.sourceFormat||KT,this.seriesLayoutBy=e.seriesLayoutBy||xi,this.startIndex=e.startIndex||0,this.dimensionsDetectedCount=e.dimensionsDetectedCount,this.metaRawOption=e.metaRawOption;var r=this.dimensionsDefine=e.dimensionsDefine;if(r)for(var n=0;n<r.length;n++){var i=r[n];i.type==null&&QT(this,n)===Ar.Must&&(i.type="ordinal")}}return t}();function Om(t){return t instanceof Qh}function qp(t,e,r){r=r||nE(t);var n=e.seriesLayoutBy,i=s8(t,r,n,e.sourceHeader,e.dimensions),a=new Qh({data:t,sourceFormat:r,seriesLayoutBy:n,dimensionsDefine:i.dimensionsDefine,startIndex:i.startIndex,dimensionsDetectedCount:i.dimensionsDetectedCount,metaRawOption:qe(e)});return a}function rE(t){return new Qh({data:t,sourceFormat:Sr(t)?aa:un})}function o8(t){return new Qh({data:t.data,sourceFormat:t.sourceFormat,seriesLayoutBy:t.seriesLayoutBy,dimensionsDefine:qe(t.dimensionsDefine),startIndex:t.startIndex,dimensionsDetectedCount:t.dimensionsDetectedCount})}function nE(t){var e=KT;if(Sr(t))e=aa;else if(we(t)){t.length===0&&(e=Tr);for(var r=0,n=t.length;r<n;r++){var i=t[r];if(i!=null){if(we(i)||Sr(i)){e=Tr;break}else if(Le(i)){e=ri;break}}}}else if(Le(t)){for(var a in t)if(Is(t,a)&&xr(t[a])){e=Pi;break}}return e}function s8(t,e,r,n,i){var a,o;if(!t)return{dimensionsDefine:_w(i),startIndex:o,dimensionsDetectedCount:a};if(e===Tr){var s=t;n==="auto"||n==null?ww(function(f){f!=null&&f!=="-"&&(ke(f)?o==null&&(o=1):o=0)},r,s,10):o=Tt(n)?n:n?1:0,!i&&o===1&&(i=[],ww(function(f,v){i[v]=f!=null?f+"":""},r,s,1/0)),a=i?i.length:r===Us?s.length:s[0]?s[0].length:null}else if(e===ri)i||(i=u8(t));else if(e===Pi)i||(i=[],Y(t,function(f,v){i.push(v)}));else if(e===un){var l=zl(t[0]);a=we(l)&&l.length||1}return{startIndex:o,dimensionsDefine:_w(i),dimensionsDetectedCount:a}}function u8(t){for(var e=0,r;e<t.length&&!(r=t[e++]););if(r)return yt(r)}function _w(t){if(t){var e=Be();return Me(t,function(r,n){r=Le(r)?r:{name:r};var i={name:r.name,displayName:r.displayName,type:r.type};if(i.name==null)return i;i.name+="",i.displayName==null&&(i.displayName=i.name);var a=e.get(i.name);return a?i.name+="-"+a.count++:e.set(i.name,{count:1}),i})}}function ww(t,e,r,n){if(e===Us)for(var i=0;i<r.length&&i<n;i++)t(r[i]?r[i][0]:null,i);else for(var a=r[0]||[],i=0;i<a.length&&i<n;i++)t(a[i],i)}function iE(t){var e=t.sourceFormat;return e===ri||e===Pi}var Wa,Xa,Ka,bw,xw,aE=function(){function t(e,r){var n=Om(e)?e:rE(e);this._source=n;var i=this._data=n.data;n.sourceFormat===aa&&(this._offset=0,this._dimSize=r,this._data=i),xw(this,i,n)}return t.prototype.getSource=function(){return this._source},t.prototype.count=function(){return 0},t.prototype.getItem=function(e,r){},t.prototype.appendData=function(e){},t.prototype.clean=function(){},t.protoInitialize=function(){var e=t.prototype;e.pure=!1,e.persistent=!0}(),t.internalField=function(){var e;xw=function(o,s,l){var f=l.sourceFormat,v=l.seriesLayoutBy,d=l.startIndex,g=l.dimensionsDefine,p=bw[Fm(f,v)];if(ye(o,p),f===aa)o.getItem=r,o.count=i,o.fillStorage=n;else{var y=oE(f,v);o.getItem=Ct(y,null,s,d,g);var w=sE(f,v);o.count=Ct(w,null,s,d,g)}};var r=function(o,s){o=o-this._offset,s=s||[];for(var l=this._data,f=this._dimSize,v=f*o,d=0;d<f;d++)s[d]=l[v+d];return s},n=function(o,s,l,f){for(var v=this._data,d=this._dimSize,g=0;g<d;g++){for(var p=f[g],y=p[0]==null?1/0:p[0],w=p[1]==null?-1/0:p[1],b=s-o,x=l[g],C=0;C<b;C++){var T=v[C*d+g];x[o+C]=T,T<y&&(y=T),T>w&&(w=T)}p[0]=y,p[1]=w}},i=function(){return this._data?this._data.length/this._dimSize:0};bw=(e={},e[Tr+"_"+xi]={pure:!0,appendData:a},e[Tr+"_"+Us]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},e[ri]={pure:!0,appendData:a},e[Pi]={pure:!0,appendData:function(o){var s=this._data;Y(o,function(l,f){for(var v=s[f]||(s[f]=[]),d=0;d<(l||[]).length;d++)v.push(l[d])})}},e[un]={appendData:a},e[aa]={persistent:!1,pure:!0,appendData:function(o){this._data=o},clean:function(){this._offset+=this.count(),this._data=null}},e);function a(o){for(var s=0;s<o.length;s++)this._data.push(o[s])}}(),t}(),Sw=function(t,e,r,n){return t[n]},l8=(Wa={},Wa[Tr+"_"+xi]=function(t,e,r,n){return t[n+e]},Wa[Tr+"_"+Us]=function(t,e,r,n,i){n+=e;for(var a=i||[],o=t,s=0;s<o.length;s++){var l=o[s];a[s]=l?l[n]:null}return a},Wa[ri]=Sw,Wa[Pi]=function(t,e,r,n,i){for(var a=i||[],o=0;o<r.length;o++){var s=r[o].name,l=t[s];a[o]=l?l[n]:null}return a},Wa[un]=Sw,Wa);function oE(t,e){var r=l8[Fm(t,e)];return r}var Cw=function(t,e,r){return t.length},c8=(Xa={},Xa[Tr+"_"+xi]=function(t,e,r){return Math.max(0,t.length-e)},Xa[Tr+"_"+Us]=function(t,e,r){var n=t[0];return n?Math.max(0,n.length-e):0},Xa[ri]=Cw,Xa[Pi]=function(t,e,r){var n=r[0].name,i=t[n];return i?i.length:0},Xa[un]=Cw,Xa);function sE(t,e){var r=c8[Fm(t,e)];return r}var Ld=function(t,e,r){return t[e]},f8=(Ka={},Ka[Tr]=Ld,Ka[ri]=function(t,e,r){return t[r]},Ka[Pi]=Ld,Ka[un]=function(t,e,r){var n=zl(t);return n instanceof Array?n[e]:n},Ka[aa]=Ld,Ka);function uE(t){var e=f8[t];return e}function Fm(t,e){return t===Tr?t+"_"+e:t}function Ls(t,e,r){if(t){var n=t.getRawDataItem(e);if(n!=null){var i=t.getStore(),a=i.getSource().sourceFormat;if(r!=null){var o=t.getDimensionIndex(r),s=i.getDimensionProperty(o);return uE(a)(n,o,s)}else{var l=n;return a===un&&(l=zl(n)),l}}}}var h8=/\{@(.+?)\}/g,v8=function(){function t(){}return t.prototype.getDataParams=function(e,r){var n=this.getData(r),i=this.getRawValue(e,r),a=n.getRawIndex(e),o=n.getName(e),s=n.getRawDataItem(e),l=n.getItemVisual(e,"style"),f=l&&l[n.getItemVisual(e,"drawType")||"fill"],v=l&&l.stroke,d=this.mainType,g=d==="series",p=n.userOutput&&n.userOutput.get();return{componentType:d,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:g?this.subType:null,seriesIndex:this.seriesIndex,seriesId:g?this.id:null,seriesName:g?this.name:null,name:o,dataIndex:a,data:s,dataType:r,value:i,color:f,borderColor:v,dimensionNames:p?p.fullDimensions:null,encode:p?p.encode:null,$vars:["seriesName","name","value"]}},t.prototype.getFormattedLabel=function(e,r,n,i,a,o){r=r||"normal";var s=this.getData(n),l=this.getDataParams(e,n);if(o&&(l.value=o.interpolatedValue),i!=null&&we(l.value)&&(l.value=l.value[i]),!a){var f=s.getItemModel(e);a=f.get(r==="normal"?["label","formatter"]:[r,"label","formatter"])}if(ze(a))return l.status=r,l.dimensionIndex=i,a(l);if(ke(a)){var v=UT(a,l);return v.replace(h8,function(d,g){var p=g.length,y=g;y.charAt(0)==="["&&y.charAt(p-1)==="]"&&(y=+y.slice(1,p-1));var w=Ls(s,e,y);if(o&&we(o.interpolatedValue)){var b=s.getDimensionIndex(y);b>=0&&(w=o.interpolatedValue[b])}return w!=null?w+"":""})}},t.prototype.getRawValue=function(e,r){return Ls(this.getData(r),e)},t.prototype.formatTooltip=function(e,r,n){},t}();function Tw(t){var e,r;return Le(t)?t.type&&(r=t):e=t,{text:e,frag:r}}function Ju(t){return new d8(t)}var d8=function(){function t(e){e=e||{},this._reset=e.reset,this._plan=e.plan,this._count=e.count,this._onDirty=e.onDirty,this._dirty=!0}return t.prototype.perform=function(e){var r=this._upstream,n=e&&e.skip;if(this._dirty&&r){var i=this.context;i.data=i.outputData=r.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this);var a;this._plan&&!n&&(a=this._plan(this.context));var o=v(this._modBy),s=this._modDataCount||0,l=v(e&&e.modBy),f=e&&e.modDataCount||0;(o!==l||s!==f)&&(a="reset");function v(C){return!(C>=1)&&(C=1),C}var d;(this._dirty||a==="reset")&&(this._dirty=!1,d=this._doReset(n)),this._modBy=l,this._modDataCount=f;var g=e&&e.step;if(r?this._dueEnd=r._outputDueEnd:this._dueEnd=this._count?this._count(this.context):1/0,this._progress){var p=this._dueIndex,y=Math.min(g!=null?this._dueIndex+g:1/0,this._dueEnd);if(!n&&(d||p<y)){var w=this._progress;if(we(w))for(var b=0;b<w.length;b++)this._doProgress(w[b],p,y,l,f);else this._doProgress(w,p,y,l,f)}this._dueIndex=y;var x=this._settedOutputEnd!=null?this._settedOutputEnd:y;this._outputDueEnd=x}else this._dueIndex=this._outputDueEnd=this._settedOutputEnd!=null?this._settedOutputEnd:this._dueEnd;return this.unfinished()},t.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},t.prototype._doProgress=function(e,r,n,i,a){Ew.reset(r,n,i,a),this._callingProgress=e,this._callingProgress({start:r,end:n,count:n-r,next:Ew.next},this.context)},t.prototype._doReset=function(e){this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null;var r,n;!e&&this._reset&&(r=this._reset(this.context),r&&r.progress&&(n=r.forceFirstProgress,r=r.progress),we(r)&&!r.length&&(r=null)),this._progress=r,this._modBy=this._modDataCount=null;var i=this._downstream;return i&&i.dirty(),n},t.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},t.prototype.pipe=function(e){(this._downstream!==e||this._dirty)&&(this._downstream=e,e._upstream=this,e.dirty())},t.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},t.prototype.getUpstream=function(){return this._upstream},t.prototype.getDownstream=function(){return this._downstream},t.prototype.setOutputEnd=function(e){this._outputDueEnd=this._settedOutputEnd=e},t}(),Ew=function(){var t,e,r,n,i,a={reset:function(l,f,v,d){e=l,t=f,r=v,n=d,i=Math.ceil(n/r),a.next=r>1&&n>0?s:o}};return a;function o(){return e<t?e++:null}function s(){var l=e%i*r+Math.ceil(e/i),f=e>=t?null:l<n?l:e;return e++,f}}();function bf(t,e){var r=e&&e.type;return r==="ordinal"?t:(r==="time"&&!Tt(t)&&t!=null&&t!=="-"&&(t=+Ii(t)),t==null||t===""?NaN:Number(t))}Be({number:function(t){return parseFloat(t)},time:function(t){return+Ii(t)},trim:function(t){return ke(t)?Hn(t):t}});var p8=function(){function t(e,r){var n=e==="desc";this._resultLT=n?1:-1,r==null&&(r=n?"min":"max"),this._incomparable=r==="min"?-1/0:1/0}return t.prototype.evaluate=function(e,r){var n=Tt(e)?e:Zf(e),i=Tt(r)?r:Zf(r),a=isNaN(n),o=isNaN(i);if(a&&(n=this._incomparable),o&&(i=this._incomparable),a&&o){var s=ke(e),l=ke(r);s&&(n=l?e:0),l&&(i=s?r:0)}return n<i?this._resultLT:n>i?-this._resultLT:0},t}(),g8=function(){function t(){}return t.prototype.getRawData=function(){throw new Error("not supported")},t.prototype.getRawDataItem=function(e){throw new Error("not supported")},t.prototype.cloneRawData=function(){},t.prototype.getDimensionInfo=function(e){},t.prototype.cloneAllDimensionInfo=function(){},t.prototype.count=function(){},t.prototype.retrieveValue=function(e,r){},t.prototype.retrieveValueFromItem=function(e,r){},t.prototype.convertValue=function(e,r){return bf(e,r)},t}();function m8(t,e){var r=new g8,n=t.data,i=r.sourceFormat=t.sourceFormat,a=t.startIndex,o="";t.seriesLayoutBy!==xi&&dr(o);var s=[],l={},f=t.dimensionsDefine;if(f)Y(f,function(w,b){var x=w.name,C={index:b,name:x,displayName:w.displayName};if(s.push(C),x!=null){var T="";Is(l,x)&&dr(T),l[x]=C}});else for(var v=0;v<t.dimensionsDetectedCount;v++)s.push({index:v});var d=oE(i,xi);e.__isBuiltIn&&(r.getRawDataItem=function(w){return d(n,a,s,w)},r.getRawData=Ct(y8,null,t)),r.cloneRawData=Ct(_8,null,t);var g=sE(i,xi);r.count=Ct(g,null,n,a,s);var p=uE(i);r.retrieveValue=function(w,b){var x=d(n,a,s,w);return y(x,b)};var y=r.retrieveValueFromItem=function(w,b){if(w!=null){var x=s[b];if(x)return p(w,b,x.name)}};return r.getDimensionInfo=Ct(w8,null,s,l),r.cloneAllDimensionInfo=Ct(b8,null,s),r}function y8(t){var e=t.sourceFormat;if(!Bm(e)){var r="";dr(r)}return t.data}function _8(t){var e=t.sourceFormat,r=t.data;if(!Bm(e)){var n="";dr(n)}if(e===Tr){for(var i=[],a=0,o=r.length;a<o;a++)i.push(r[a].slice());return i}else if(e===ri){for(var i=[],a=0,o=r.length;a<o;a++)i.push(ye({},r[a]));return i}}function w8(t,e,r){if(r!=null){if(Tt(r)||!isNaN(r)&&!Is(e,r))return t[r];if(Is(e,r))return e[r]}}function b8(t){return qe(t)}var lE=Be();function x8(t){t=qe(t);var e=t.type,r="";e||dr(r);var n=e.split(":");n.length!==2&&dr(r);var i=!1;n[0]==="echarts"&&(e=n[1],i=!0),t.__isBuiltIn=i,lE.set(e,t)}function S8(t,e,r){var n=Rt(t),i=n.length,a="";i||dr(a);for(var o=0,s=i;o<s;o++){var l=n[o];e=C8(l,e),o!==s-1&&(e.length=Math.max(e.length,1))}return e}function C8(t,e,r,n){var i="";e.length||dr(i),Le(t)||dr(i);var a=t.type,o=lE.get(a);o||dr(i);var s=Me(e,function(f){return m8(f,o)}),l=Rt(o.transform({upstream:s[0],upstreamList:s,config:qe(t.config)}));return Me(l,function(f,v){var d="";Le(f)||dr(d),f.data||dr(d);var g=nE(f.data);Bm(g)||dr(d);var p,y=e[0];if(y&&v===0&&!f.dimensions){var w=y.startIndex;w&&(f.data=y.data.slice(0,w).concat(f.data)),p={seriesLayoutBy:xi,sourceHeader:w,dimensions:y.metaRawOption.dimensions}}else p={seriesLayoutBy:xi,sourceHeader:0,dimensions:f.dimensions};return qp(f.data,p,null)})}function Bm(t){return t===Tr||t===ri}var Jh="undefined",T8=typeof Uint32Array===Jh?Array:Uint32Array,E8=typeof Uint16Array===Jh?Array:Uint16Array,cE=typeof Int32Array===Jh?Array:Int32Array,kw=typeof Float64Array===Jh?Array:Float64Array,fE={float:kw,int:cE,ordinal:Array,number:Array,time:kw},Pd;function qo(t){return t>65535?T8:E8}function Wo(){return[1/0,-1/0]}function k8(t){var e=t.constructor;return e===Array?t.slice():new e(t)}function Iw(t,e,r,n,i){var a=fE[r||"float"];if(i){var o=t[e],s=o&&o.length;if(s!==n){for(var l=new a(n),f=0;f<s;f++)l[f]=o[f];t[e]=l}}else t[e]=new a(n)}var Wp=function(){function t(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=Be()}return t.prototype.initData=function(e,r,n){this._provider=e,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var i=e.getSource(),a=this.defaultDimValueGetter=Pd[i.sourceFormat];this._dimValueGetter=n||a,this._rawExtent=[],iE(i),this._dimensions=Me(r,function(o){return{type:o.type,property:o.property}}),this._initDataFromProvider(0,e.count())},t.prototype.getProvider=function(){return this._provider},t.prototype.getSource=function(){return this._provider.getSource()},t.prototype.ensureCalculationDimension=function(e,r){var n=this._calcDimNameToIdx,i=this._dimensions,a=n.get(e);if(a!=null){if(i[a].type===r)return a}else a=i.length;return i[a]={type:r},n.set(e,a),this._chunks[a]=new fE[r||"float"](this._rawCount),this._rawExtent[a]=Wo(),a},t.prototype.collectOrdinalMeta=function(e,r){var n=this._chunks[e],i=this._dimensions[e],a=this._rawExtent,o=i.ordinalOffset||0,s=n.length;o===0&&(a[e]=Wo());for(var l=a[e],f=o;f<s;f++){var v=n[f]=r.parseAndCollect(n[f]);isNaN(v)||(l[0]=Math.min(v,l[0]),l[1]=Math.max(v,l[1]))}i.ordinalMeta=r,i.ordinalOffset=s,i.type="ordinal"},t.prototype.getOrdinalMeta=function(e){var r=this._dimensions[e],n=r.ordinalMeta;return n},t.prototype.getDimensionProperty=function(e){var r=this._dimensions[e];return r&&r.property},t.prototype.appendData=function(e){var r=this._provider,n=this.count();r.appendData(e);var i=r.count();return r.persistent||(i+=n),n<i&&this._initDataFromProvider(n,i,!0),[n,i]},t.prototype.appendValues=function(e,r){for(var n=this._chunks,i=this._dimensions,a=i.length,o=this._rawExtent,s=this.count(),l=s+Math.max(e.length,r||0),f=0;f<a;f++){var v=i[f];Iw(n,f,v.type,l,!0)}for(var d=[],g=s;g<l;g++)for(var p=g-s,y=0;y<a;y++){var v=i[y],w=Pd.arrayRows.call(this,e[p]||d,v.property,p,y);n[y][g]=w;var b=o[y];w<b[0]&&(b[0]=w),w>b[1]&&(b[1]=w)}return this._rawCount=this._count=l,{start:s,end:l}},t.prototype._initDataFromProvider=function(e,r,n){for(var i=this._provider,a=this._chunks,o=this._dimensions,s=o.length,l=this._rawExtent,f=Me(o,function(C){return C.property}),v=0;v<s;v++){var d=o[v];l[v]||(l[v]=Wo()),Iw(a,v,d.type,r,n)}if(i.fillStorage)i.fillStorage(e,r,a,l);else for(var g=[],p=e;p<r;p++){g=i.getItem(p,g);for(var y=0;y<s;y++){var w=a[y],b=this._dimValueGetter(g,f[y],p,y);w[p]=b;var x=l[y];b<x[0]&&(x[0]=b),b>x[1]&&(x[1]=b)}}!i.persistent&&i.clean&&i.clean(),this._rawCount=this._count=r,this._extent=[]},t.prototype.count=function(){return this._count},t.prototype.get=function(e,r){if(!(r>=0&&r<this._count))return NaN;var n=this._chunks[e];return n?n[this.getRawIndex(r)]:NaN},t.prototype.getValues=function(e,r){var n=[],i=[];if(r==null){r=e,e=[];for(var a=0;a<this._dimensions.length;a++)i.push(a)}else i=e;for(var a=0,o=i.length;a<o;a++)n.push(this.get(i[a],r));return n},t.prototype.getByRawIndex=function(e,r){if(!(r>=0&&r<this._rawCount))return NaN;var n=this._chunks[e];return n?n[r]:NaN},t.prototype.getSum=function(e){var r=this._chunks[e],n=0;if(r)for(var i=0,a=this.count();i<a;i++){var o=this.get(e,i);isNaN(o)||(n+=o)}return n},t.prototype.getMedian=function(e){var r=[];this.each([e],function(a){isNaN(a)||r.push(a)});var n=r.sort(function(a,o){return a-o}),i=this.count();return i===0?0:i%2===1?n[(i-1)/2]:(n[i/2]+n[i/2-1])/2},t.prototype.indexOfRawIndex=function(e){if(e>=this._rawCount||e<0)return-1;if(!this._indices)return e;var r=this._indices,n=r[e];if(n!=null&&n<this._count&&n===e)return e;for(var i=0,a=this._count-1;i<=a;){var o=(i+a)/2|0;if(r[o]<e)i=o+1;else if(r[o]>e)a=o-1;else return o}return-1},t.prototype.indicesOfNearest=function(e,r,n){var i=this._chunks,a=i[e],o=[];if(!a)return o;n==null&&(n=1/0);for(var s=1/0,l=-1,f=0,v=0,d=this.count();v<d;v++){var g=this.getRawIndex(v),p=r-a[g],y=Math.abs(p);y<=n&&((y<s||y===s&&p>=0&&l<0)&&(s=y,l=p,f=0),p===l&&(o[f++]=v))}return o.length=f,o},t.prototype.getIndices=function(){var e,r=this._indices;if(r){var n=r.constructor,i=this._count;if(n===Array){e=new n(i);for(var a=0;a<i;a++)e[a]=r[a]}else e=new n(r.buffer,0,i)}else{var n=qo(this._rawCount);e=new n(this.count());for(var a=0;a<e.length;a++)e[a]=a}return e},t.prototype.filter=function(e,r){if(!this._count)return this;for(var n=this.clone(),i=n.count(),a=qo(n._rawCount),o=new a(i),s=[],l=e.length,f=0,v=e[0],d=n._chunks,g=0;g<i;g++){var p=void 0,y=n.getRawIndex(g);if(l===0)p=r(g);else if(l===1){var w=d[v][y];p=r(w,g)}else{for(var b=0;b<l;b++)s[b]=d[e[b]][y];s[b]=g,p=r.apply(null,s)}p&&(o[f++]=y)}return f<i&&(n._indices=o),n._count=f,n._extent=[],n._updateGetRawIdx(),n},t.prototype.selectRange=function(e){var r=this.clone(),n=r._count;if(!n)return this;var i=yt(e),a=i.length;if(!a)return this;var o=r.count(),s=qo(r._rawCount),l=new s(o),f=0,v=i[0],d=e[v][0],g=e[v][1],p=r._chunks,y=!1;if(!r._indices){var w=0;if(a===1){for(var b=p[i[0]],x=0;x<n;x++){var C=b[x];(C>=d&&C<=g||isNaN(C))&&(l[f++]=w),w++}y=!0}else if(a===2){for(var b=p[i[0]],T=p[i[1]],k=e[i[1]][0],L=e[i[1]][1],x=0;x<n;x++){var C=b[x],M=T[x];(C>=d&&C<=g||isNaN(C))&&(M>=k&&M<=L||isNaN(M))&&(l[f++]=w),w++}y=!0}}if(!y)if(a===1)for(var x=0;x<o;x++){var N=r.getRawIndex(x),C=p[i[0]][N];(C>=d&&C<=g||isNaN(C))&&(l[f++]=N)}else for(var x=0;x<o;x++){for(var R=!0,N=r.getRawIndex(x),D=0;D<a;D++){var F=i[D],C=p[F][N];(C<e[F][0]||C>e[F][1])&&(R=!1)}R&&(l[f++]=r.getRawIndex(x))}return f<o&&(r._indices=l),r._count=f,r._extent=[],r._updateGetRawIdx(),r},t.prototype.map=function(e,r){var n=this.clone(e);return this._updateDims(n,e,r),n},t.prototype.modify=function(e,r){this._updateDims(this,e,r)},t.prototype._updateDims=function(e,r,n){for(var i=e._chunks,a=[],o=r.length,s=e.count(),l=[],f=e._rawExtent,v=0;v<r.length;v++)f[r[v]]=Wo();for(var d=0;d<s;d++){for(var g=e.getRawIndex(d),p=0;p<o;p++)l[p]=i[r[p]][g];l[o]=d;var y=n&&n.apply(null,l);if(y!=null){typeof y!="object"&&(a[0]=y,y=a);for(var v=0;v<y.length;v++){var w=r[v],b=y[v],x=f[w],C=i[w];C&&(C[g]=b),b<x[0]&&(x[0]=b),b>x[1]&&(x[1]=b)}}}},t.prototype.lttbDownSample=function(e,r){var n=this.clone([e],!0),i=n._chunks,a=i[e],o=this.count(),s=0,l=Math.floor(1/r),f=this.getRawIndex(0),v,d,g,p=new(qo(this._rawCount))(Math.min((Math.ceil(o/l)+2)*2,o));p[s++]=f;for(var y=1;y<o-1;y+=l){for(var w=Math.min(y+l,o-1),b=Math.min(y+l*2,o),x=(b+w)/2,C=0,T=w;T<b;T++){var k=this.getRawIndex(T),L=a[k];isNaN(L)||(C+=L)}C/=b-w;var M=y,N=Math.min(y+l,o),R=y-1,D=a[f];v=-1,g=M;for(var F=-1,z=0,T=M;T<N;T++){var k=this.getRawIndex(T),L=a[k];if(isNaN(L)){z++,F<0&&(F=k);continue}d=Math.abs((R-x)*(L-D)-(R-T)*(C-D)),d>v&&(v=d,g=k)}z>0&&z<N-M&&(p[s++]=Math.min(F,g),g=Math.max(F,g)),p[s++]=g,f=g}return p[s++]=this.getRawIndex(o-1),n._count=s,n._indices=p,n.getRawIndex=this._getRawIdx,n},t.prototype.minmaxDownSample=function(e,r){for(var n=this.clone([e],!0),i=n._chunks,a=Math.floor(1/r),o=i[e],s=this.count(),l=new(qo(this._rawCount))(Math.ceil(s/a)*2),f=0,v=0;v<s;v+=a){var d=v,g=o[this.getRawIndex(d)],p=v,y=o[this.getRawIndex(p)],w=a;v+a>s&&(w=s-v);for(var b=0;b<w;b++){var x=this.getRawIndex(v+b),C=o[x];C<g&&(g=C,d=v+b),C>y&&(y=C,p=v+b)}var T=this.getRawIndex(d),k=this.getRawIndex(p);d<p?(l[f++]=T,l[f++]=k):(l[f++]=k,l[f++]=T)}return n._count=f,n._indices=l,n._updateGetRawIdx(),n},t.prototype.downSample=function(e,r,n,i){for(var a=this.clone([e],!0),o=a._chunks,s=[],l=Math.floor(1/r),f=o[e],v=this.count(),d=a._rawExtent[e]=Wo(),g=new(qo(this._rawCount))(Math.ceil(v/l)),p=0,y=0;y<v;y+=l){l>v-y&&(l=v-y,s.length=l);for(var w=0;w<l;w++){var b=this.getRawIndex(y+w);s[w]=f[b]}var x=n(s),C=this.getRawIndex(Math.min(y+i(s,x)||0,v-1));f[C]=x,x<d[0]&&(d[0]=x),x>d[1]&&(d[1]=x),g[p++]=C}return a._count=p,a._indices=g,a._updateGetRawIdx(),a},t.prototype.each=function(e,r){if(this._count)for(var n=e.length,i=this._chunks,a=0,o=this.count();a<o;a++){var s=this.getRawIndex(a);switch(n){case 0:r(a);break;case 1:r(i[e[0]][s],a);break;case 2:r(i[e[0]][s],i[e[1]][s],a);break;default:for(var l=0,f=[];l<n;l++)f[l]=i[e[l]][s];f[l]=a,r.apply(null,f)}}},t.prototype.getDataExtent=function(e){var r=this._chunks[e],n=Wo();if(!r)return n;var i=this.count(),a=!this._indices,o;if(a)return this._rawExtent[e].slice();if(o=this._extent[e],o)return o.slice();o=n;for(var s=o[0],l=o[1],f=0;f<i;f++){var v=this.getRawIndex(f),d=r[v];d<s&&(s=d),d>l&&(l=d)}return o=[s,l],this._extent[e]=o,o},t.prototype.getRawDataItem=function(e){var r=this.getRawIndex(e);if(this._provider.persistent)return this._provider.getItem(r);for(var n=[],i=this._chunks,a=0;a<i.length;a++)n.push(i[a][r]);return n},t.prototype.clone=function(e,r){var n=new t,i=this._chunks,a=e&&Gs(e,function(s,l){return s[l]=!0,s},{});if(a)for(var o=0;o<i.length;o++)n._chunks[o]=a[o]?k8(i[o]):i[o];else n._chunks=i;return this._copyCommonProps(n),r||(n._indices=this._cloneIndices()),n._updateGetRawIdx(),n},t.prototype._copyCommonProps=function(e){e._count=this._count,e._rawCount=this._rawCount,e._provider=this._provider,e._dimensions=this._dimensions,e._extent=qe(this._extent),e._rawExtent=qe(this._rawExtent)},t.prototype._cloneIndices=function(){if(this._indices){var e=this._indices.constructor,r=void 0;if(e===Array){var n=this._indices.length;r=new e(n);for(var i=0;i<n;i++)r[i]=this._indices[i]}else r=new e(this._indices);return r}return null},t.prototype._getRawIdxIdentity=function(e){return e},t.prototype._getRawIdx=function(e){return e<this._count&&e>=0?this._indices[e]:-1},t.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},t.internalField=function(){function e(r,n,i,a){return bf(r[a],this._dimensions[a])}Pd={arrayRows:e,objectRows:function(r,n,i,a){return bf(r[n],this._dimensions[a])},keyedColumns:e,original:function(r,n,i,a){var o=r&&(r.value==null?r:r.value);return bf(o instanceof Array?o[a]:o,this._dimensions[a])},typedArray:function(r,n,i,a){return r[a]}}}(),t}(),I8=function(){function t(e){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=e}return t.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},t.prototype._setLocalSource=function(e,r){this._sourceList=e,this._upstreamSignList=r,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},t.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},t.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},t.prototype._createSource=function(){this._setLocalSource([],[]);var e=this._sourceHost,r=this._getUpstreamSourceManagers(),n=!!r.length,i,a;if(Gc(e)){var o=e,s=void 0,l=void 0,f=void 0;if(n){var v=r[0];v.prepareSource(),f=v.getSource(),s=f.data,l=f.sourceFormat,a=[v._getVersionSign()]}else s=o.get("data",!0),l=Sr(s)?aa:un,a=[];var d=this._getSourceMetaRawOption()||{},g=f&&f.metaRawOption||{},p=He(d.seriesLayoutBy,g.seriesLayoutBy)||null,y=He(d.sourceHeader,g.sourceHeader),w=He(d.dimensions,g.dimensions),b=p!==g.seriesLayoutBy||!!y!=!!g.sourceHeader||w;i=b?[qp(s,{seriesLayoutBy:p,sourceHeader:y,dimensions:w},l)]:[]}else{var x=e;if(n){var C=this._applyTransform(r);i=C.sourceList,a=C.upstreamSignList}else{var T=x.get("source",!0);i=[qp(T,this._getSourceMetaRawOption(),null)],a=[]}}this._setLocalSource(i,a)},t.prototype._applyTransform=function(e){var r=this._sourceHost,n=r.get("transform",!0),i=r.get("fromTransformResult",!0);if(i!=null){var a="";e.length!==1&&Mw(a)}var o,s=[],l=[];return Y(e,function(f){f.prepareSource();var v=f.getSource(i||0),d="";i!=null&&!v&&Mw(d),s.push(v),l.push(f._getVersionSign())}),n?o=S8(n,s,{datasetIndex:r.componentIndex}):i!=null&&(o=[o8(s[0])]),{sourceList:o,upstreamSignList:l}},t.prototype._isDirty=function(){if(this._dirty)return!0;for(var e=this._getUpstreamSourceManagers(),r=0;r<e.length;r++){var n=e[r];if(n._isDirty()||this._upstreamSignList[r]!==n._getVersionSign())return!0}},t.prototype.getSource=function(e){e=e||0;var r=this._sourceList[e];if(!r){var n=this._getUpstreamSourceManagers();return n[0]&&n[0].getSource(e)}return r},t.prototype.getSharedDataStore=function(e){var r=e.makeStoreSchema();return this._innerGetDataStore(r.dimensions,e.source,r.hash)},t.prototype._innerGetDataStore=function(e,r,n){var i=0,a=this._storeList,o=a[i];o||(o=a[i]={});var s=o[n];if(!s){var l=this._getUpstreamSourceManagers()[0];Gc(this._sourceHost)&&l?s=l._innerGetDataStore(e,r,n):(s=new Wp,s.initData(new aE(r,e.length),e)),o[n]=s}return s},t.prototype._getUpstreamSourceManagers=function(){var e=this._sourceHost;if(Gc(e)){var r=jT(e);return r?[r.getSourceManager()]:[]}else return Me(D6(e),function(n){return n.getSourceManager()})},t.prototype._getSourceMetaRawOption=function(){var e=this._sourceHost,r,n,i;if(Gc(e))r=e.get("seriesLayoutBy",!0),n=e.get("sourceHeader",!0),i=e.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var a=e;r=a.get("seriesLayoutBy",!0),n=a.get("sourceHeader",!0),i=a.get("dimensions",!0)}return{seriesLayoutBy:r,sourceHeader:n,dimensions:i}},t}();function Gc(t){return t.mainType==="series"}function Mw(t){throw new Error(t)}var M8="line-height:1";function hE(t){var e=t.lineHeight;return e==null?M8:"line-height:"+hr(e+"")+"px"}function vE(t,e){var r=t.color||"#6e7079",n=t.fontSize||12,i=t.fontWeight||"400",a=t.color||"#464646",o=t.fontSize||14,s=t.fontWeight||"900";return e==="html"?{nameStyle:"font-size:"+hr(n+"")+"px;color:"+hr(r)+";font-weight:"+hr(i+""),valueStyle:"font-size:"+hr(o+"")+"px;color:"+hr(a)+";font-weight:"+hr(s+"")}:{nameStyle:{fontSize:n,fill:r,fontWeight:i},valueStyle:{fontSize:o,fill:a,fontWeight:s}}}var L8=[0,10,20,30],P8=["",`
`,`

`,`


`];function xl(t,e){return e.type=t,e}function Xp(t){return t.type==="section"}function dE(t){return Xp(t)?N8:A8}function pE(t){if(Xp(t)){var e=0,r=t.blocks.length,n=r>1||r>0&&!t.noHeader;return Y(t.blocks,function(i){var a=pE(i);a>=e&&(e=a+ +(n&&(!a||Xp(i)&&!i.noHeader)))}),e}return 0}function N8(t,e,r,n){var i=e.noHeader,a=D8(pE(e)),o=[],s=e.blocks||[];ki(!s||we(s)),s=s||[];var l=t.orderMode;if(e.sortBlocks&&l){s=s.slice();var f={valueAsc:"asc",valueDesc:"desc"};if(Is(f,l)){var v=new p8(f[l],null);s.sort(function(w,b){return v.evaluate(w.sortParam,b.sortParam)})}else l==="seriesDesc"&&s.reverse()}Y(s,function(w,b){var x=e.valueFormatter,C=dE(w)(x?ye(ye({},t),{valueFormatter:x}):t,w,b>0?a.html:0,n);C!=null&&o.push(C)});var d=t.renderMode==="richText"?o.join(a.richText):Kp(n,o.join(""),i?r:a.html);if(i)return d;var g=Yp(e.header,"ordinal",t.useUTC),p=vE(n,t.renderMode).nameStyle,y=hE(n);return t.renderMode==="richText"?gE(t,g,p)+a.richText+d:Kp(n,'<div style="'+p+";"+y+';">'+hr(g)+"</div>"+d,r)}function A8(t,e,r,n){var i=t.renderMode,a=e.noName,o=e.noValue,s=!e.markerType,l=e.name,f=t.useUTC,v=e.valueFormatter||t.valueFormatter||function(k){return k=we(k)?k:[k],Me(k,function(L,M){return Yp(L,we(p)?p[M]:p,f)})};if(!(a&&o)){var d=s?"":t.markupStyleCreator.makeTooltipMarker(e.markerType,e.markerColor||"#333",i),g=a?"":Yp(l,"ordinal",f),p=e.valueType,y=o?[]:v(e.value,e.dataIndex),w=!s||!a,b=!s&&a,x=vE(n,i),C=x.nameStyle,T=x.valueStyle;return i==="richText"?(s?"":d)+(a?"":gE(t,g,C))+(o?"":F8(t,y,w,b,T)):Kp(n,(s?"":d)+(a?"":R8(g,!s,C))+(o?"":O8(y,w,b,T)),r)}}function Lw(t,e,r,n,i,a){if(t){var o=dE(t),s={useUTC:i,renderMode:r,orderMode:n,markupStyleCreator:e,valueFormatter:t.valueFormatter};return o(s,t,0,a)}}function D8(t){return{html:L8[t],richText:P8[t]}}function Kp(t,e,r){var n='<div style="clear:both"></div>',i="margin: "+r+"px 0 0",a=hE(t);return'<div style="'+i+";"+a+';">'+e+n+"</div>"}function R8(t,e,r){var n=e?"margin-left:2px":"";return'<span style="'+r+";"+n+'">'+hr(t)+"</span>"}function O8(t,e,r,n){var i=r?"10px":"20px",a=e?"float:right;margin-left:"+i:"";return t=we(t)?t:[t],'<span style="'+a+";"+n+'">'+Me(t,function(o){return hr(o)}).join("&nbsp;&nbsp;")+"</span>"}function gE(t,e,r){return t.markupStyleCreator.wrapRichTextStyle(e,r)}function F8(t,e,r,n,i){var a=[i],o=n?10:20;return r&&a.push({padding:[0,0,0,o],align:"right"}),t.markupStyleCreator.wrapRichTextStyle(we(e)?e.join("  "):e,a)}function B8(t,e){var r=t.getData().getItemVisual(e,"style"),n=r[t.visualDrawType];return bo(n)}function mE(t,e){var r=t.get("padding");return r??(e==="richText"?[8,10]:10)}var Nd=function(){function t(){this.richTextStyles={},this._nextStyleNameId=GC()}return t.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},t.prototype.makeTooltipMarker=function(e,r,n){var i=n==="richText"?this._generateStyleName():null,a=E6({color:r,type:e,renderMode:n,markerId:i});return ke(a)?a:(this.richTextStyles[i]=a.style,a.content)},t.prototype.wrapRichTextStyle=function(e,r){var n={};we(r)?Y(r,function(a){return ye(n,a)}):ye(n,r);var i=this._generateStyleName();return this.richTextStyles[i]=n,"{"+i+"|"+e+"}"},t}();function z8(t){var e=t.series,r=t.dataIndex,n=t.multipleSeries,i=e.getData(),a=i.mapDimensionsAll("defaultedTooltip"),o=a.length,s=e.getRawValue(r),l=we(s),f=B8(e,r),v,d,g,p;if(o>1||l&&!o){var y=G8(s,e,r,a,f);v=y.inlineValues,d=y.inlineValueTypes,g=y.blocks,p=y.inlineValues[0]}else if(o){var w=i.getDimensionInfo(a[0]);p=v=Ls(i,r,a[0]),d=w.type}else p=v=l?s[0]:s;var b=UC(e),x=b&&e.name||"",C=i.getName(r),T=n?x:C;return xl("section",{header:x,noHeader:n||!b,sortParam:p,blocks:[xl("nameValue",{markerType:"item",markerColor:f,name:T,noName:!Hn(T),value:v,valueType:d,dataIndex:r})].concat(g||[])})}function G8(t,e,r,n,i){var a=e.getData(),o=Gs(t,function(d,g,p){var y=a.getDimensionInfo(p);return d=d||y&&y.tooltip!==!1&&y.displayName!=null},!1),s=[],l=[],f=[];n.length?Y(n,function(d){v(Ls(a,r,d),d)}):Y(t,v);function v(d,g){var p=a.getDimensionInfo(g);!p||p.otherDims.tooltip===!1||(o?f.push(xl("nameValue",{markerType:"subItem",markerColor:i,name:p.displayName,value:d,valueType:p.type})):(s.push(d),l.push(p.type)))}return{inlineValues:s,inlineValueTypes:l,blocks:f}}var zi=Ot();function Vc(t,e){return t.getName(e)||t.getId(e)}var xf="__universalTransitionEnabled",da=function(t){xe(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r._selectedDataIndicesMap={},r}return e.prototype.init=function(r,n,i){this.seriesIndex=this.componentIndex,this.dataTask=Ju({count:H8,reset:$8}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(r,i);var a=zi(this).sourceManager=new I8(this);a.prepareSource();var o=this.getInitialData(r,i);Nw(o,this),this.dataTask.context.data=o,zi(this).dataBeforeProcessed=o,Pw(this),this._initSelectedMapFromData(o)},e.prototype.mergeDefaultAndTheme=function(r,n){var i=_l(this),a=i?Nm(r):{},o=this.subType;ut.hasClass(o)&&(o+="Series"),ct(r,n.getTheme().get(this.subType)),ct(r,this.getDefaultOption()),d1(r,"label",["show"]),this.fillDataTextStyle(r.data),i&&wl(r,a,i)},e.prototype.mergeOption=function(r,n){r=ct(this.option,r,!0),this.fillDataTextStyle(r.data);var i=_l(this);i&&wl(this.option,r,i);var a=zi(this).sourceManager;a.dirty(),a.prepareSource();var o=this.getInitialData(r,n);Nw(o,this),this.dataTask.dirty(),this.dataTask.context.data=o,zi(this).dataBeforeProcessed=o,Pw(this),this._initSelectedMapFromData(o)},e.prototype.fillDataTextStyle=function(r){if(r&&!Sr(r))for(var n=["show"],i=0;i<r.length;i++)r[i]&&r[i].label&&d1(r[i],"label",n)},e.prototype.getInitialData=function(r,n){},e.prototype.appendData=function(r){var n=this.getRawData();n.appendData(r.data)},e.prototype.getData=function(r){var n=Zp(this);if(n){var i=n.context.data;return r==null||!i.getLinkedData?i:i.getLinkedData(r)}else return zi(this).data},e.prototype.getAllData=function(){var r=this.getData();return r&&r.getLinkedDataAll?r.getLinkedDataAll():[{data:r}]},e.prototype.setData=function(r){var n=Zp(this);if(n){var i=n.context;i.outputData=r,n!==this.dataTask&&(i.data=r)}zi(this).data=r},e.prototype.getEncode=function(){var r=this.get("encode",!0);if(r)return Be(r)},e.prototype.getSourceManager=function(){return zi(this).sourceManager},e.prototype.getSource=function(){return this.getSourceManager().getSource()},e.prototype.getRawData=function(){return zi(this).dataBeforeProcessed},e.prototype.getColorBy=function(){var r=this.get("colorBy");return r||"series"},e.prototype.isColorBySeries=function(){return this.getColorBy()==="series"},e.prototype.getBaseAxis=function(){var r=this.coordinateSystem;return r&&r.getBaseAxis&&r.getBaseAxis()},e.prototype.formatTooltip=function(r,n,i){return z8({series:this,dataIndex:r,multipleSeries:n})},e.prototype.isAnimationEnabled=function(){var r=this.ecModel;if(Oe.node&&!(r&&r.ssr))return!1;var n=this.getShallow("animation");return n&&this.getData().count()>this.getShallow("animationThreshold")&&(n=!1),!!n},e.prototype.restoreData=function(){this.dataTask.dirty()},e.prototype.getColorFromPalette=function(r,n,i){var a=this.ecModel,o=Am.prototype.getColorFromPalette.call(this,r,n,i);return o||(o=a.getColorFromPalette(r,n,i)),o},e.prototype.coordDimToDataDim=function(r){return this.getRawData().mapDimensionsAll(r)},e.prototype.getProgressive=function(){return this.get("progressive")},e.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},e.prototype.select=function(r,n){this._innerSelect(this.getData(n),r)},e.prototype.unselect=function(r,n){var i=this.option.selectedMap;if(i){var a=this.option.selectedMode,o=this.getData(n);if(a==="series"||i==="all"){this.option.selectedMap={},this._selectedDataIndicesMap={};return}for(var s=0;s<r.length;s++){var l=r[s],f=Vc(o,l);i[f]=!1,this._selectedDataIndicesMap[f]=-1}}},e.prototype.toggleSelect=function(r,n){for(var i=[],a=0;a<r.length;a++)i[0]=r[a],this.isSelected(r[a],n)?this.unselect(i,n):this.select(i,n)},e.prototype.getSelectedDataIndices=function(){if(this.option.selectedMap==="all")return[].slice.call(this.getData().getIndices());for(var r=this._selectedDataIndicesMap,n=yt(r),i=[],a=0;a<n.length;a++){var o=r[n[a]];o>=0&&i.push(o)}return i},e.prototype.isSelected=function(r,n){var i=this.option.selectedMap;if(!i)return!1;var a=this.getData(n);return(i==="all"||i[Vc(a,r)])&&!a.getItemModel(r).get(["select","disabled"])},e.prototype.isUniversalTransitionEnabled=function(){if(this[xf])return!0;var r=this.option.universalTransition;return r?r===!0?!0:r&&r.enabled:!1},e.prototype._innerSelect=function(r,n){var i,a,o=this.option,s=o.selectedMode,l=n.length;if(!(!s||!l)){if(s==="series")o.selectedMap="all";else if(s==="multiple"){Le(o.selectedMap)||(o.selectedMap={});for(var f=o.selectedMap,v=0;v<l;v++){var d=n[v],g=Vc(r,d);f[g]=!0,this._selectedDataIndicesMap[g]=r.getRawIndex(d)}}else if(s==="single"||s===!0){var p=n[l-1],g=Vc(r,p);o.selectedMap=(i={},i[g]=!0,i),this._selectedDataIndicesMap=(a={},a[g]=r.getRawIndex(p),a)}}},e.prototype._initSelectedMapFromData=function(r){if(!this.option.selectedMap){var n=[];r.hasItemOption&&r.each(function(i){var a=r.getRawDataItem(i);a&&a.selected&&n.push(i)}),n.length>0&&this._innerSelect(r,n)}},e.registerClass=function(r){return ut.registerClass(r)},e.protoInitialize=function(){var r=e.prototype;r.type="series.__base__",r.seriesIndex=0,r.ignoreStyleOnData=!1,r.hasSymbolVisual=!1,r.defaultSymbol="circle",r.visualStyleAccessPath="itemStyle",r.visualDrawType="fill"}(),e}(ut);ei(da,v8);ei(da,Am);WC(da,ut);function Pw(t){var e=t.name;UC(t)||(t.name=V8(t)||e)}function V8(t){var e=t.getRawData(),r=e.mapDimensionsAll("seriesName"),n=[];return Y(r,function(i){var a=e.getDimensionInfo(i);a.displayName&&n.push(a.displayName)}),n.join(" ")}function H8(t){return t.model.getRawData().count()}function $8(t){var e=t.model;return e.setData(e.getRawData().cloneShallow()),U8}function U8(t,e){e.outputData&&t.end>e.outputData.count()&&e.model.getRawData().cloneShallow(e.outputData)}function Nw(t,e){Y(o5(t.CHANGABLE_METHODS,t.DOWNSAMPLE_METHODS),function(r){t.wrapMethod(r,tn(Y8,e))})}function Y8(t,e){var r=Zp(t);return r&&r.setOutputEnd((e||this).count()),e}function Zp(t){var e=(t.ecModel||{}).scheduler,r=e&&e.getPipeline(t.uid);if(r){var n=r.currentTask;if(n){var i=n.agentStubMap;i&&(n=i.get(t.uid))}return n}}var Mi=function(){function t(){this.group=new Cr,this.uid=qh("viewComponent")}return t.prototype.init=function(e,r){},t.prototype.render=function(e,r,n,i){},t.prototype.dispose=function(e,r){},t.prototype.updateView=function(e,r,n,i){},t.prototype.updateLayout=function(e,r,n,i){},t.prototype.updateVisual=function(e,r,n,i){},t.prototype.toggleBlurSeries=function(e,r,n){},t.prototype.eachRendered=function(e){var r=this.group;r&&r.traverse(e)},t}();cm(Mi);Rh(Mi);function yE(){var t=Ot();return function(e){var r=t(e),n=e.pipelineContext,i=!!r.large,a=!!r.progressiveRender,o=r.large=!!(n&&n.large),s=r.progressiveRender=!!(n&&n.progressiveRender);return(i!==o||a!==s)&&"reset"}}var _E=Ot(),q8=yE(),Kn=function(){function t(){this.group=new Cr,this.uid=qh("viewChart"),this.renderTask=Ju({plan:W8,reset:X8}),this.renderTask.context={view:this}}return t.prototype.init=function(e,r){},t.prototype.render=function(e,r,n,i){},t.prototype.highlight=function(e,r,n,i){var a=e.getData(i&&i.dataType);a&&Dw(a,i,"emphasis")},t.prototype.downplay=function(e,r,n,i){var a=e.getData(i&&i.dataType);a&&Dw(a,i,"normal")},t.prototype.remove=function(e,r){this.group.removeAll()},t.prototype.dispose=function(e,r){},t.prototype.updateView=function(e,r,n,i){this.render(e,r,n,i)},t.prototype.updateLayout=function(e,r,n,i){this.render(e,r,n,i)},t.prototype.updateVisual=function(e,r,n,i){this.render(e,r,n,i)},t.prototype.eachRendered=function(e){Cm(this.group,e)},t.markUpdateMethod=function(e,r){_E(e).updateMethod=r},t.protoInitialize=function(){var e=t.prototype;e.type="chart"}(),t}();function Aw(t,e,r){t&&Vp(t)&&(e==="emphasis"?Qf:Jf)(t,r)}function Dw(t,e,r){var n=_o(t,e),i=e&&e.highlightKey!=null?fz(e.highlightKey):null;n!=null?Y(Rt(n),function(a){Aw(t.getItemGraphicEl(a),r,i)}):t.eachItemGraphicEl(function(a){Aw(a,r,i)})}cm(Kn);Rh(Kn);function W8(t){return q8(t.model)}function X8(t){var e=t.model,r=t.ecModel,n=t.api,i=t.payload,a=e.pipelineContext.progressiveRender,o=t.view,s=i&&_E(i).updateMethod,l=a?"incrementalPrepareRender":s&&o[s]?s:"render";return l!=="render"&&o[l](e,r,n,i),K8[l]}var K8={incrementalPrepareRender:{progress:function(t,e){e.view.incrementalRender(t,e.model,e.ecModel,e.api,e.payload)}},render:{forceFirstProgress:!0,progress:function(t,e){e.view.render(e.model,e.ecModel,e.api,e.payload)}}},ah="\0__throttleOriginMethod",Rw="\0__throttleRate",Ow="\0__throttleType";function wE(t,e,r){var n,i=0,a=0,o=null,s,l,f,v;e=e||0;function d(){a=new Date().getTime(),o=null,t.apply(l,f||[])}var g=function(){for(var p=[],y=0;y<arguments.length;y++)p[y]=arguments[y];n=new Date().getTime(),l=this,f=p;var w=v||e,b=v||r;v=null,s=n-(b?i:a)-w,clearTimeout(o),b?o=setTimeout(d,w):s>=0?d():o=setTimeout(d,-s),i=n};return g.clear=function(){o&&(clearTimeout(o),o=null)},g.debounceNextCall=function(p){v=p},g}function bE(t,e,r,n){var i=t[e];if(i){var a=i[ah]||i,o=i[Ow],s=i[Rw];if(s!==r||o!==n){if(r==null)return t[e]=a;i=t[e]=wE(a,r,n==="debounce"),i[ah]=a,i[Ow]=n,i[Rw]=r}return i}}function jp(t,e){var r=t[e];r&&r[ah]&&(r.clear&&r.clear(),t[e]=r[ah])}var Fw=Ot(),Bw={itemStyle:pl(PT,!0),lineStyle:pl(LT,!0)},Z8={lineStyle:"stroke",itemStyle:"fill"};function xE(t,e){var r=t.visualStyleMapper||Bw[e];return r||(console.warn("Unknown style type '"+e+"'."),Bw.itemStyle)}function SE(t,e){var r=t.visualDrawType||Z8[e];return r||(console.warn("Unknown style type '"+e+"'."),"fill")}var j8={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){var r=t.getData(),n=t.visualStyleAccessPath||"itemStyle",i=t.getModel(n),a=xE(t,n),o=a(i),s=i.getShallow("decal");s&&(r.setVisual("decal",s),s.dirty=!0);var l=SE(t,n),f=o[l],v=ze(f)?f:null,d=o.fill==="auto"||o.stroke==="auto";if(!o[l]||v||d){var g=t.getColorFromPalette(t.name,null,e.getSeriesCount());o[l]||(o[l]=g,r.setVisual("colorFromPalette",!0)),o.fill=o.fill==="auto"||ze(o.fill)?g:o.fill,o.stroke=o.stroke==="auto"||ze(o.stroke)?g:o.stroke}if(r.setVisual("style",o),r.setVisual("drawType",l),!e.isSeriesFiltered(t)&&v)return r.setVisual("colorFromPalette",!1),{dataEach:function(p,y){var w=t.getDataParams(y),b=ye({},o);b[l]=v(w),p.setItemVisual(y,"style",b)}}}},xu=new Nt,Q8={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){if(!(t.ignoreStyleOnData||e.isSeriesFiltered(t))){var r=t.getData(),n=t.visualStyleAccessPath||"itemStyle",i=xE(t,n),a=r.getVisual("drawType");return{dataEach:r.hasItemOption?function(o,s){var l=o.getRawDataItem(s);if(l&&l[n]){xu.option=l[n];var f=i(xu),v=o.ensureUniqueItemVisual(s,"style");ye(v,f),xu.option.decal&&(o.setItemVisual(s,"decal",xu.option.decal),xu.option.decal.dirty=!0),a in f&&o.setItemVisual(s,"colorFromPalette",!1)}}:null}}}},J8={performRawSeries:!0,overallReset:function(t){var e=Be();t.eachSeries(function(r){var n=r.getColorBy();if(!r.isColorBySeries()){var i=r.type+"-"+n,a=e.get(i);a||(a={},e.set(i,a)),Fw(r).scope=a}}),t.eachSeries(function(r){if(!(r.isColorBySeries()||t.isSeriesFiltered(r))){var n=r.getRawData(),i={},a=r.getData(),o=Fw(r).scope,s=r.visualStyleAccessPath||"itemStyle",l=SE(r,s);a.each(function(f){var v=a.getRawIndex(f);i[v]=f}),n.each(function(f){var v=i[f],d=a.getItemVisual(v,"colorFromPalette");if(d){var g=a.ensureUniqueItemVisual(v,"style"),p=n.getName(f)||f+"",y=n.count();g[l]=r.getColorFromPalette(p,o,y)}})}})}},Hc=Math.PI;function eG(t,e){e=e||{},$e(e,{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var r=new Cr,n=new ar({style:{fill:e.maskColor},zlevel:e.zlevel,z:1e4});r.add(n);var i=new Cn({style:{text:e.text,fill:e.textColor,fontSize:e.fontSize,fontWeight:e.fontWeight,fontStyle:e.fontStyle,fontFamily:e.fontFamily},zlevel:e.zlevel,z:10001}),a=new ar({style:{fill:"none"},textContent:i,textConfig:{position:"right",distance:10},zlevel:e.zlevel,z:10001});r.add(a);var o;return e.showSpinner&&(o=new $h({shape:{startAngle:-Hc/2,endAngle:-Hc/2+.1,r:e.spinnerRadius},style:{stroke:e.color,lineCap:"round",lineWidth:e.lineWidth},zlevel:e.zlevel,z:10001}),o.animateShape(!0).when(1e3,{endAngle:Hc*3/2}).start("circularInOut"),o.animateShape(!0).when(1e3,{startAngle:Hc*3/2}).delay(300).start("circularInOut"),r.add(o)),r.resize=function(){var s=i.getBoundingRect().width,l=e.showSpinner?e.spinnerRadius:0,f=(t.getWidth()-l*2-(e.showSpinner&&s?10:0)-s)/2-(e.showSpinner&&s?0:5+s/2)+(e.showSpinner?0:s/2)+(s?0:l),v=t.getHeight()/2;e.showSpinner&&o.setShape({cx:f,cy:v}),a.setShape({x:f-l,y:v-l,width:l*2,height:l*2}),n.setShape({x:0,y:0,width:t.getWidth(),height:t.getHeight()})},r.resize(),r}var CE=function(){function t(e,r,n,i){this._stageTaskMap=Be(),this.ecInstance=e,this.api=r,n=this._dataProcessorHandlers=n.slice(),i=this._visualHandlers=i.slice(),this._allHandlers=n.concat(i)}return t.prototype.restoreData=function(e,r){e.restoreData(r),this._stageTaskMap.each(function(n){var i=n.overallTask;i&&i.dirty()})},t.prototype.getPerformArgs=function(e,r){if(e.__pipeline){var n=this._pipelineMap.get(e.__pipeline.id),i=n.context,a=!r&&n.progressiveEnabled&&(!i||i.progressiveRender)&&e.__idxInPipeline>n.blockIndex,o=a?n.step:null,s=i&&i.modDataCount,l=s!=null?Math.ceil(s/o):null;return{step:o,modBy:l,modDataCount:s}}},t.prototype.getPipeline=function(e){return this._pipelineMap.get(e)},t.prototype.updateStreamModes=function(e,r){var n=this._pipelineMap.get(e.uid),i=e.getData(),a=i.count(),o=n.progressiveEnabled&&r.incrementalPrepareRender&&a>=n.threshold,s=e.get("large")&&a>=e.get("largeThreshold"),l=e.get("progressiveChunkMode")==="mod"?a:null;e.pipelineContext=n.context={progressiveRender:o,modDataCount:l,large:s}},t.prototype.restorePipelines=function(e){var r=this,n=r._pipelineMap=Be();e.eachSeries(function(i){var a=i.getProgressive(),o=i.uid;n.set(o,{id:o,head:null,tail:null,threshold:i.getProgressiveThreshold(),progressiveEnabled:a&&!(i.preventIncremental&&i.preventIncremental()),blockIndex:-1,step:Math.round(a||700),count:0}),r._pipe(i,i.dataTask)})},t.prototype.prepareStageTasks=function(){var e=this._stageTaskMap,r=this.api.getModel(),n=this.api;Y(this._allHandlers,function(i){var a=e.get(i.uid)||e.set(i.uid,{}),o="";ki(!(i.reset&&i.overallReset),o),i.reset&&this._createSeriesStageTask(i,a,r,n),i.overallReset&&this._createOverallStageTask(i,a,r,n)},this)},t.prototype.prepareView=function(e,r,n,i){var a=e.renderTask,o=a.context;o.model=r,o.ecModel=n,o.api=i,a.__block=!e.incrementalPrepareRender,this._pipe(r,a)},t.prototype.performDataProcessorTasks=function(e,r){this._performStageTasks(this._dataProcessorHandlers,e,r,{block:!0})},t.prototype.performVisualTasks=function(e,r,n){this._performStageTasks(this._visualHandlers,e,r,n)},t.prototype._performStageTasks=function(e,r,n,i){i=i||{};var a=!1,o=this;Y(e,function(l,f){if(!(i.visualType&&i.visualType!==l.visualType)){var v=o._stageTaskMap.get(l.uid),d=v.seriesTaskMap,g=v.overallTask;if(g){var p,y=g.agentStubMap;y.each(function(b){s(i,b)&&(b.dirty(),p=!0)}),p&&g.dirty(),o.updatePayload(g,n);var w=o.getPerformArgs(g,i.block);y.each(function(b){b.perform(w)}),g.perform(w)&&(a=!0)}else d&&d.each(function(b,x){s(i,b)&&b.dirty();var C=o.getPerformArgs(b,i.block);C.skip=!l.performRawSeries&&r.isSeriesFiltered(b.context.model),o.updatePayload(b,n),b.perform(C)&&(a=!0)})}});function s(l,f){return l.setDirty&&(!l.dirtyMap||l.dirtyMap.get(f.__pipeline.id))}this.unfinished=a||this.unfinished},t.prototype.performSeriesTasks=function(e){var r;e.eachSeries(function(n){r=n.dataTask.perform()||r}),this.unfinished=r||this.unfinished},t.prototype.plan=function(){this._pipelineMap.each(function(e){var r=e.tail;do{if(r.__block){e.blockIndex=r.__idxInPipeline;break}r=r.getUpstream()}while(r)})},t.prototype.updatePayload=function(e,r){r!=="remain"&&(e.context.payload=r)},t.prototype._createSeriesStageTask=function(e,r,n,i){var a=this,o=r.seriesTaskMap,s=r.seriesTaskMap=Be(),l=e.seriesType,f=e.getTargetSeries;e.createOnAllSeries?n.eachRawSeries(v):l?n.eachRawSeriesByType(l,v):f&&f(n,i).each(v);function v(d){var g=d.uid,p=s.set(g,o&&o.get(g)||Ju({plan:aG,reset:oG,count:uG}));p.context={model:d,ecModel:n,api:i,useClearVisual:e.isVisual&&!e.isLayout,plan:e.plan,reset:e.reset,scheduler:a},a._pipe(d,p)}},t.prototype._createOverallStageTask=function(e,r,n,i){var a=this,o=r.overallTask=r.overallTask||Ju({reset:tG});o.context={ecModel:n,api:i,overallReset:e.overallReset,scheduler:a};var s=o.agentStubMap,l=o.agentStubMap=Be(),f=e.seriesType,v=e.getTargetSeries,d=!0,g=!1,p="";ki(!e.createOnAllSeries,p),f?n.eachRawSeriesByType(f,y):v?v(n,i).each(y):(d=!1,Y(n.getSeries(),y));function y(w){var b=w.uid,x=l.set(b,s&&s.get(b)||(g=!0,Ju({reset:rG,onDirty:iG})));x.context={model:w,overallProgress:d},x.agent=o,x.__block=d,a._pipe(w,x)}g&&o.dirty()},t.prototype._pipe=function(e,r){var n=e.uid,i=this._pipelineMap.get(n);!i.head&&(i.head=r),i.tail&&i.tail.pipe(r),i.tail=r,r.__idxInPipeline=i.count++,r.__pipeline=i},t.wrapStageHandler=function(e,r){return ze(e)&&(e={overallReset:e,seriesType:lG(e)}),e.uid=qh("stageHandler"),r&&(e.visualType=r),e},t}();function tG(t){t.overallReset(t.ecModel,t.api,t.payload)}function rG(t){return t.overallProgress&&nG}function nG(){this.agent.dirty(),this.getDownstream().dirty()}function iG(){this.agent&&this.agent.dirty()}function aG(t){return t.plan?t.plan(t.model,t.ecModel,t.api,t.payload):null}function oG(t){t.useClearVisual&&t.data.clearAllVisual();var e=t.resetDefines=Rt(t.reset(t.model,t.ecModel,t.api,t.payload));return e.length>1?Me(e,function(r,n){return TE(n)}):sG}var sG=TE(0);function TE(t){return function(e,r){var n=r.data,i=r.resetDefines[t];if(i&&i.dataEach)for(var a=e.start;a<e.end;a++)i.dataEach(n,a);else i&&i.progress&&i.progress(e,n)}}function uG(t){return t.data.count()}function lG(t){oh=null;try{t(Sl,EE)}catch{}return oh}var Sl={},EE={},oh;kE(Sl,Dm);kE(EE,JT);Sl.eachSeriesByType=Sl.eachRawSeriesByType=function(t){oh=t};Sl.eachComponent=function(t){t.mainType==="series"&&t.subType&&(oh=t.subType)};function kE(t,e){for(var r in e.prototype)t[r]=br}var zw=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"];const cG={color:zw,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],zw]};var Zt="#B9B8CE",Gw="#100C2A",$c=function(){return{axisLine:{lineStyle:{color:Zt}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}},Vw=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],IE={darkMode:!0,color:Vw,backgroundColor:Gw,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:Zt},pageTextStyle:{color:Zt}},textStyle:{color:Zt},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:Zt}},dataZoom:{borderColor:"#71708A",textStyle:{color:Zt},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:Zt}},timeline:{lineStyle:{color:Zt},label:{color:Zt},controlStyle:{color:Zt,borderColor:Zt}},calendar:{itemStyle:{color:Gw},dayLabel:{color:Zt},monthLabel:{color:Zt},yearLabel:{color:Zt}},timeAxis:$c(),logAxis:$c(),valueAxis:$c(),categoryAxis:$c(),line:{symbol:"circle"},graph:{color:Vw},gauge:{title:{color:Zt},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:Zt},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};IE.categoryAxis.splitLine.show=!1;var fG=function(){function t(){}return t.prototype.normalizeQuery=function(e){var r={},n={},i={};if(ke(e)){var a=$n(e);r.mainType=a.main||null,r.subType=a.sub||null}else{var o=["Index","Name","Id"],s={name:1,dataIndex:1,dataType:1};Y(e,function(l,f){for(var v=!1,d=0;d<o.length;d++){var g=o[d],p=f.lastIndexOf(g);if(p>0&&p===f.length-g.length){var y=f.slice(0,p);y!=="data"&&(r.mainType=y,r[g.toLowerCase()]=l,v=!0)}}s.hasOwnProperty(f)&&(n[f]=l,v=!0),v||(i[f]=l)})}return{cptQuery:r,dataQuery:n,otherQuery:i}},t.prototype.filter=function(e,r){var n=this.eventInfo;if(!n)return!0;var i=n.targetEl,a=n.packedEvent,o=n.model,s=n.view;if(!o||!s)return!0;var l=r.cptQuery,f=r.dataQuery;return v(l,o,"mainType")&&v(l,o,"subType")&&v(l,o,"index","componentIndex")&&v(l,o,"name")&&v(l,o,"id")&&v(f,a,"name")&&v(f,a,"dataIndex")&&v(f,a,"dataType")&&(!s.filterForExposedEvent||s.filterForExposedEvent(e,r.otherQuery,i,a));function v(d,g,p,y){return d[p]==null||g[y||p]===d[p]}},t.prototype.afterTrigger=function(){this.eventInfo=null},t}(),Qp=["symbol","symbolSize","symbolRotate","symbolOffset"],Hw=Qp.concat(["symbolKeepAspect"]),hG={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){var r=t.getData();if(t.legendIcon&&r.setVisual("legendIcon",t.legendIcon),!t.hasSymbolVisual)return;for(var n={},i={},a=!1,o=0;o<Qp.length;o++){var s=Qp[o],l=t.get(s);ze(l)?(a=!0,i[s]=l):n[s]=l}if(n.symbol=n.symbol||t.defaultSymbol,r.setVisual(ye({legendIcon:t.legendIcon||n.symbol,symbolKeepAspect:t.get("symbolKeepAspect")},n)),e.isSeriesFiltered(t))return;var f=yt(i);function v(d,g){for(var p=t.getRawValue(g),y=t.getDataParams(g),w=0;w<f.length;w++){var b=f[w];d.setItemVisual(g,b,i[b](p,y))}}return{dataEach:a?v:null}}},vG={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){if(!t.hasSymbolVisual||e.isSeriesFiltered(t))return;var r=t.getData();function n(i,a){for(var o=i.getItemModel(a),s=0;s<Hw.length;s++){var l=Hw[s],f=o.getShallow(l,!0);f!=null&&i.setItemVisual(a,l,f)}}return{dataEach:r.hasItemOption?n:null}}};function dG(t,e,r){switch(r){case"color":var n=t.getItemVisual(e,"style");return n[t.getVisual("drawType")];case"opacity":return t.getItemVisual(e,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return t.getItemVisual(e,r)}}function pG(t,e){switch(e){case"color":var r=t.getVisual("style");return r[t.getVisual("drawType")];case"opacity":return t.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return t.getVisual(e)}}function Xo(t,e,r,n,i){var a=t+e;r.isSilent(a)||n.eachComponent({mainType:"series",subType:"pie"},function(o){for(var s=o.seriesIndex,l=o.option.selectedMap,f=i.selected,v=0;v<f.length;v++)if(f[v].seriesIndex===s){var d=o.getData(),g=_o(d,i.fromActionPayload);r.trigger(a,{type:a,seriesId:o.id,name:we(g)?d.getName(g[0]):d.getName(g),selected:ke(l)?l:ye({},l)})}})}function gG(t,e,r){t.on("selectchanged",function(n){var i=r.getModel();n.isFromClick?(Xo("map","selectchanged",e,i,n),Xo("pie","selectchanged",e,i,n)):n.fromAction==="select"?(Xo("map","selected",e,i,n),Xo("pie","selected",e,i,n)):n.fromAction==="unselect"&&(Xo("map","unselected",e,i,n),Xo("pie","unselected",e,i,n))})}function zu(t,e,r){for(var n;t&&!(e(t)&&(n=t,r));)t=t.__hostTarget||t.parent;return n}var mG=Math.round(Math.random()*9),yG=typeof Object.defineProperty=="function",_G=function(){function t(){this._id="__ec_inner_"+mG++}return t.prototype.get=function(e){return this._guard(e)[this._id]},t.prototype.set=function(e,r){var n=this._guard(e);return yG?Object.defineProperty(n,this._id,{value:r,enumerable:!1,configurable:!0}):n[this._id]=r,this},t.prototype.delete=function(e){return this.has(e)?(delete this._guard(e)[this._id],!0):!1},t.prototype.has=function(e){return!!this._guard(e)[this._id]},t.prototype._guard=function(e){if(e!==Object(e))throw TypeError("Value of WeakMap is not a non-null object.");return e},t}(),wG=We.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var r=e.cx,n=e.cy,i=e.width/2,a=e.height/2;t.moveTo(r,n-a),t.lineTo(r+i,n+a),t.lineTo(r-i,n+a),t.closePath()}}),bG=We.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var r=e.cx,n=e.cy,i=e.width/2,a=e.height/2;t.moveTo(r,n-a),t.lineTo(r+i,n),t.lineTo(r,n+a),t.lineTo(r-i,n),t.closePath()}}),xG=We.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var r=e.x,n=e.y,i=e.width/5*3,a=Math.max(i,e.height),o=i/2,s=o*o/(a-o),l=n-a+o+s,f=Math.asin(s/o),v=Math.cos(f)*o,d=Math.sin(f),g=Math.cos(f),p=o*.6,y=o*.7;t.moveTo(r-v,l+s),t.arc(r,l,o,Math.PI-f,Math.PI*2+f),t.bezierCurveTo(r+v-d*p,l+s+g*p,r,n-y,r,n),t.bezierCurveTo(r,n-y,r-v+d*p,l+s+g*p,r-v,l+s),t.closePath()}}),SG=We.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var r=e.height,n=e.width,i=e.x,a=e.y,o=n/3*2;t.moveTo(i,a),t.lineTo(i+o,a+r),t.lineTo(i,a+r/4*3),t.lineTo(i-o,a+r),t.lineTo(i,a),t.closePath()}}),CG={line:va,rect:ar,roundRect:ar,square:ar,circle:Vh,diamond:bG,pin:xG,arrow:SG,triangle:wG},TG={line:function(t,e,r,n,i){i.x1=t,i.y1=e+n/2,i.x2=t+r,i.y2=e+n/2},rect:function(t,e,r,n,i){i.x=t,i.y=e,i.width=r,i.height=n},roundRect:function(t,e,r,n,i){i.x=t,i.y=e,i.width=r,i.height=n,i.r=Math.min(r,n)/4},square:function(t,e,r,n,i){var a=Math.min(r,n);i.x=t,i.y=e,i.width=a,i.height=a},circle:function(t,e,r,n,i){i.cx=t+r/2,i.cy=e+n/2,i.r=Math.min(r,n)/2},diamond:function(t,e,r,n,i){i.cx=t+r/2,i.cy=e+n/2,i.width=r,i.height=n},pin:function(t,e,r,n,i){i.x=t+r/2,i.y=e+n/2,i.width=r,i.height=n},arrow:function(t,e,r,n,i){i.x=t+r/2,i.y=e+n/2,i.width=r,i.height=n},triangle:function(t,e,r,n,i){i.cx=t+r/2,i.cy=e+n/2,i.width=r,i.height=n}},Jp={};Y(CG,function(t,e){Jp[e]=new t});var EG=We.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(t,e,r){var n=DC(t,e,r),i=this.shape;return i&&i.symbolType==="pin"&&e.position==="inside"&&(n.y=r.y+r.height*.4),n},buildPath:function(t,e,r){var n=e.symbolType;if(n!=="none"){var i=Jp[n];i||(n="rect",i=Jp[n]),TG[n](e.x,e.y,e.width,e.height,i.shape),i.buildPath(t,i.shape,r)}}});function kG(t,e){if(this.type!=="image"){var r=this.style;this.__isEmptyBrush?(r.stroke=t,r.fill=e||"#fff",r.lineWidth=2):this.shape.symbolType==="line"?r.stroke=t:r.fill=t,this.markRedraw()}}function Cl(t,e,r,n,i,a,o){var s=t.indexOf("empty")===0;s&&(t=t.substr(5,1).toLowerCase()+t.substr(6));var l;return t.indexOf("image://")===0?l=xT(t.slice(8),new Je(e,r,n,i),o?"center":"cover"):t.indexOf("path://")===0?l=bm(t.slice(7),{},new Je(e,r,n,i),o?"center":"cover"):l=new EG({shape:{symbolType:t,x:e,y:r,width:n,height:i}}),l.__isEmptyBrush=s,l.setColor=kG,a&&l.setColor(a),l}function IG(t){return we(t)||(t=[+t,+t]),[t[0]||0,t[1]||0]}function ME(t,e){if(t!=null)return we(t)||(t=[t,t]),[ir(t[0],e[0])||0,ir(He(t[1],t[0]),e[1])||0]}function ao(t){return isFinite(t)}function MG(t,e,r){var n=e.x==null?0:e.x,i=e.x2==null?1:e.x2,a=e.y==null?0:e.y,o=e.y2==null?0:e.y2;e.global||(n=n*r.width+r.x,i=i*r.width+r.x,a=a*r.height+r.y,o=o*r.height+r.y),n=ao(n)?n:0,i=ao(i)?i:1,a=ao(a)?a:0,o=ao(o)?o:0;var s=t.createLinearGradient(n,a,i,o);return s}function LG(t,e,r){var n=r.width,i=r.height,a=Math.min(n,i),o=e.x==null?.5:e.x,s=e.y==null?.5:e.y,l=e.r==null?.5:e.r;e.global||(o=o*n+r.x,s=s*i+r.y,l=l*a),o=ao(o)?o:.5,s=ao(s)?s:.5,l=l>=0&&ao(l)?l:.5;var f=t.createRadialGradient(o,s,0,o,s,l);return f}function eg(t,e,r){for(var n=e.type==="radial"?LG(t,e,r):MG(t,e,r),i=e.colorStops,a=0;a<i.length;a++)n.addColorStop(i[a].offset,i[a].color);return n}function PG(t,e){if(t===e||!t&&!e)return!1;if(!t||!e||t.length!==e.length)return!0;for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!0;return!1}function Uc(t){return parseInt(t,10)}function Yc(t,e,r){var n=["width","height"][e],i=["clientWidth","clientHeight"][e],a=["paddingLeft","paddingTop"][e],o=["paddingRight","paddingBottom"][e];if(r[n]!=null&&r[n]!=="auto")return parseFloat(r[n]);var s=document.defaultView.getComputedStyle(t);return(t[i]||Uc(s[n])||Uc(t.style[n]))-(Uc(s[a])||0)-(Uc(s[o])||0)|0}function NG(t,e){return!t||t==="solid"||!(e>0)?null:t==="dashed"?[4*e,2*e]:t==="dotted"?[e]:Tt(t)?[t]:we(t)?t:null}function LE(t){var e=t.style,r=e.lineDash&&e.lineWidth>0&&NG(e.lineDash,e.lineWidth),n=e.lineDashOffset;if(r){var i=e.strokeNoScale&&t.getLineScale?t.getLineScale():1;i&&i!==1&&(r=Me(r,function(a){return a/i}),n/=i)}return[r,n]}var AG=new ha(!0);function sh(t){var e=t.stroke;return!(e==null||e==="none"||!(t.lineWidth>0))}function $w(t){return typeof t=="string"&&t!=="none"}function uh(t){var e=t.fill;return e!=null&&e!=="none"}function Uw(t,e){if(e.fillOpacity!=null&&e.fillOpacity!==1){var r=t.globalAlpha;t.globalAlpha=e.fillOpacity*e.opacity,t.fill(),t.globalAlpha=r}else t.fill()}function Yw(t,e){if(e.strokeOpacity!=null&&e.strokeOpacity!==1){var r=t.globalAlpha;t.globalAlpha=e.strokeOpacity*e.opacity,t.stroke(),t.globalAlpha=r}else t.stroke()}function tg(t,e,r){var n=XC(e.image,e.__image,r);if(Oh(n)){var i=t.createPattern(n,e.repeat||"repeat");if(typeof DOMMatrix=="function"&&i&&i.setTransform){var a=new DOMMatrix;a.translateSelf(e.x||0,e.y||0),a.rotateSelf(0,0,(e.rotation||0)*s5),a.scaleSelf(e.scaleX||1,e.scaleY||1),i.setTransform(a)}return i}}function DG(t,e,r,n){var i,a=sh(r),o=uh(r),s=r.strokePercent,l=s<1,f=!e.path;(!e.silent||l)&&f&&e.createPathProxy();var v=e.path||AG,d=e.__dirty;if(!n){var g=r.fill,p=r.stroke,y=o&&!!g.colorStops,w=a&&!!p.colorStops,b=o&&!!g.image,x=a&&!!p.image,C=void 0,T=void 0,k=void 0,L=void 0,M=void 0;(y||w)&&(M=e.getBoundingRect()),y&&(C=d?eg(t,g,M):e.__canvasFillGradient,e.__canvasFillGradient=C),w&&(T=d?eg(t,p,M):e.__canvasStrokeGradient,e.__canvasStrokeGradient=T),b&&(k=d||!e.__canvasFillPattern?tg(t,g,e):e.__canvasFillPattern,e.__canvasFillPattern=k),x&&(L=d||!e.__canvasStrokePattern?tg(t,p,e):e.__canvasStrokePattern,e.__canvasStrokePattern=k),y?t.fillStyle=C:b&&(k?t.fillStyle=k:o=!1),w?t.strokeStyle=T:x&&(L?t.strokeStyle=L:a=!1)}var N=e.getGlobalScale();v.setScale(N[0],N[1],e.segmentIgnoreThreshold);var R,D;t.setLineDash&&r.lineDash&&(i=LE(e),R=i[0],D=i[1]);var F=!0;(f||d&Au)&&(v.setDPR(t.dpr),l?v.setContext(null):(v.setContext(t),F=!1),v.reset(),e.buildPath(v,e.shape,n),v.toStatic(),e.pathUpdated()),F&&v.rebuildPath(t,l?s:1),R&&(t.setLineDash(R),t.lineDashOffset=D),n||(r.strokeFirst?(a&&Yw(t,r),o&&Uw(t,r)):(o&&Uw(t,r),a&&Yw(t,r))),R&&t.setLineDash([])}function RG(t,e,r){var n=e.__image=XC(r.image,e.__image,e,e.onload);if(!(!n||!Oh(n))){var i=r.x||0,a=r.y||0,o=e.getWidth(),s=e.getHeight(),l=n.width/n.height;if(o==null&&s!=null?o=s*l:s==null&&o!=null?s=o/l:o==null&&s==null&&(o=n.width,s=n.height),r.sWidth&&r.sHeight){var f=r.sx||0,v=r.sy||0;t.drawImage(n,f,v,r.sWidth,r.sHeight,i,a,o,s)}else if(r.sx&&r.sy){var f=r.sx,v=r.sy,d=o-f,g=s-v;t.drawImage(n,f,v,d,g,i,a,o,s)}else t.drawImage(n,i,a,o,s)}}function OG(t,e,r){var n,i=r.text;if(i!=null&&(i+=""),i){t.font=r.font||mo,t.textAlign=r.textAlign,t.textBaseline=r.textBaseline;var a=void 0,o=void 0;t.setLineDash&&r.lineDash&&(n=LE(e),a=n[0],o=n[1]),a&&(t.setLineDash(a),t.lineDashOffset=o),r.strokeFirst?(sh(r)&&t.strokeText(i,r.x,r.y),uh(r)&&t.fillText(i,r.x,r.y)):(uh(r)&&t.fillText(i,r.x,r.y),sh(r)&&t.strokeText(i,r.x,r.y)),a&&t.setLineDash([])}}var qw=["shadowBlur","shadowOffsetX","shadowOffsetY"],Ww=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function PE(t,e,r,n,i){var a=!1;if(!n&&(r=r||{},e===r))return!1;if(n||e.opacity!==r.opacity){yr(t,i),a=!0;var o=Math.max(Math.min(e.opacity,1),0);t.globalAlpha=isNaN(o)?lo.opacity:o}(n||e.blend!==r.blend)&&(a||(yr(t,i),a=!0),t.globalCompositeOperation=e.blend||lo.blend);for(var s=0;s<qw.length;s++){var l=qw[s];(n||e[l]!==r[l])&&(a||(yr(t,i),a=!0),t[l]=t.dpr*(e[l]||0))}return(n||e.shadowColor!==r.shadowColor)&&(a||(yr(t,i),a=!0),t.shadowColor=e.shadowColor||lo.shadowColor),a}function Xw(t,e,r,n,i){var a=Tl(e,i.inHover),o=n?null:r&&Tl(r,i.inHover)||{};if(a===o)return!1;var s=PE(t,a,o,n,i);if((n||a.fill!==o.fill)&&(s||(yr(t,i),s=!0),$w(a.fill)&&(t.fillStyle=a.fill)),(n||a.stroke!==o.stroke)&&(s||(yr(t,i),s=!0),$w(a.stroke)&&(t.strokeStyle=a.stroke)),(n||a.opacity!==o.opacity)&&(s||(yr(t,i),s=!0),t.globalAlpha=a.opacity==null?1:a.opacity),e.hasStroke()){var l=a.lineWidth,f=l/(a.strokeNoScale&&e.getLineScale?e.getLineScale():1);t.lineWidth!==f&&(s||(yr(t,i),s=!0),t.lineWidth=f)}for(var v=0;v<Ww.length;v++){var d=Ww[v],g=d[0];(n||a[g]!==o[g])&&(s||(yr(t,i),s=!0),t[g]=a[g]||d[1])}return s}function FG(t,e,r,n,i){return PE(t,Tl(e,i.inHover),r&&Tl(r,i.inHover),n,i)}function NE(t,e){var r=e.transform,n=t.dpr||1;r?t.setTransform(n*r[0],n*r[1],n*r[2],n*r[3],n*r[4],n*r[5]):t.setTransform(n,0,0,n,0,0)}function BG(t,e,r){for(var n=!1,i=0;i<t.length;i++){var a=t[i];n=n||a.isZeroArea(),NE(e,a),e.beginPath(),a.buildPath(e,a.shape),e.clip()}r.allClipped=n}function zG(t,e){return t&&e?t[0]!==e[0]||t[1]!==e[1]||t[2]!==e[2]||t[3]!==e[3]||t[4]!==e[4]||t[5]!==e[5]:!(!t&&!e)}var Kw=1,Zw=2,jw=3,Qw=4;function GG(t){var e=uh(t),r=sh(t);return!(t.lineDash||!(+e^+r)||e&&typeof t.fill!="string"||r&&typeof t.stroke!="string"||t.strokePercent<1||t.strokeOpacity<1||t.fillOpacity<1)}function yr(t,e){e.batchFill&&t.fill(),e.batchStroke&&t.stroke(),e.batchFill="",e.batchStroke=""}function Tl(t,e){return e&&t.__hoverStyle||t.style}function AE(t,e){oo(t,e,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function oo(t,e,r,n){var i=e.transform;if(!e.shouldBePainted(r.viewWidth,r.viewHeight,!1,!1)){e.__dirty&=-2,e.__isRendered=!1;return}var a=e.__clipPaths,o=r.prevElClipPaths,s=!1,l=!1;if((!o||PG(a,o))&&(o&&o.length&&(yr(t,r),t.restore(),l=s=!0,r.prevElClipPaths=null,r.allClipped=!1,r.prevEl=null),a&&a.length&&(yr(t,r),t.save(),BG(a,t,r),s=!0),r.prevElClipPaths=a),r.allClipped){e.__isRendered=!1;return}e.beforeBrush&&e.beforeBrush(),e.innerBeforeBrush();var f=r.prevEl;f||(l=s=!0);var v=e instanceof We&&e.autoBatch&&GG(e.style);s||zG(i,f.transform)?(yr(t,r),NE(t,e)):v||yr(t,r);var d=Tl(e,r.inHover);e instanceof We?(r.lastDrawType!==Kw&&(l=!0,r.lastDrawType=Kw),Xw(t,e,f,l,r),(!v||!r.batchFill&&!r.batchStroke)&&t.beginPath(),DG(t,e,d,v),v&&(r.batchFill=d.fill||"",r.batchStroke=d.stroke||"")):e instanceof jf?(r.lastDrawType!==jw&&(l=!0,r.lastDrawType=jw),Xw(t,e,f,l,r),OG(t,e,d)):e instanceof ya?(r.lastDrawType!==Zw&&(l=!0,r.lastDrawType=Zw),FG(t,e,f,l,r),RG(t,e,d)):e.getTemporalDisplayables&&(r.lastDrawType!==Qw&&(l=!0,r.lastDrawType=Qw),VG(t,e,r)),v&&n&&yr(t,r),e.innerAfterBrush(),e.afterBrush&&e.afterBrush(),r.prevEl=e,e.__dirty=0,e.__isRendered=!0}function VG(t,e,r){var n=e.getDisplayables(),i=e.getTemporalDisplayables();t.save();var a={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:r.viewWidth,viewHeight:r.viewHeight,inHover:r.inHover},o,s;for(o=e.getCursor(),s=n.length;o<s;o++){var l=n[o];l.beforeBrush&&l.beforeBrush(),l.innerBeforeBrush(),oo(t,l,a,o===s-1),l.innerAfterBrush(),l.afterBrush&&l.afterBrush(),a.prevEl=l}for(var f=0,v=i.length;f<v;f++){var l=i[f];l.beforeBrush&&l.beforeBrush(),l.innerBeforeBrush(),oo(t,l,a,f===v-1),l.innerAfterBrush(),l.afterBrush&&l.afterBrush(),a.prevEl=l}e.clearTemporalDisplayables(),e.notClear=!0,t.restore()}var Ad=new _G,Jw=new Bl(100),eb=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function tb(t,e){if(t==="none")return null;var r=e.getDevicePixelRatio(),n=e.getZr(),i=n.painter.type==="svg";t.dirty&&Ad.delete(t);var a=Ad.get(t);if(a)return a;var o=$e(t,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});o.backgroundColor==="none"&&(o.backgroundColor=null);var s={repeat:"repeat"};return l(s),s.rotation=o.rotation,s.scaleX=s.scaleY=i?1:1/r,Ad.set(t,s),t.dirty=!1,s;function l(f){for(var v=[r],d=!0,g=0;g<eb.length;++g){var p=o[eb[g]];if(p!=null&&!we(p)&&!ke(p)&&!Tt(p)&&typeof p!="boolean"){d=!1;break}v.push(p)}var y;if(d){y=v.join(",")+(i?"-svg":"");var w=Jw.get(y);w&&(i?f.svgElement=w:f.image=w)}var b=RE(o.dashArrayX),x=HG(o.dashArrayY),C=DE(o.symbol),T=$G(b),k=OE(x),L=!i&&zs.createCanvas(),M=i&&{tag:"g",attrs:{},key:"dcl",children:[]},N=D(),R;L&&(L.width=N.width*r,L.height=N.height*r,R=L.getContext("2d")),F(),d&&Jw.put(y,L||M),f.image=L,f.svgElement=M,f.svgWidth=N.width,f.svgHeight=N.height;function D(){for(var z=1,G=0,q=T.length;G<q;++G)z=h1(z,T[G]);for(var H=1,G=0,q=C.length;G<q;++G)H=h1(H,C[G].length);z*=H;var V=k*T.length*C.length;return{width:Math.max(1,Math.min(z,o.maxTileWidth)),height:Math.max(1,Math.min(V,o.maxTileHeight))}}function F(){R&&(R.clearRect(0,0,L.width,L.height),o.backgroundColor&&(R.fillStyle=o.backgroundColor,R.fillRect(0,0,L.width,L.height)));for(var z=0,G=0;G<x.length;++G)z+=x[G];if(z<=0)return;for(var q=-k,H=0,V=0,U=0;q<N.height;){if(H%2===0){for(var W=V/2%C.length,Q=0,J=0,j=0;Q<N.width*2;){for(var pe=0,G=0;G<b[U].length;++G)pe+=b[U][G];if(pe<=0)break;if(J%2===0){var ae=(1-o.symbolSize)*.5,ce=Q+b[U][J]*ae,oe=q+x[H]*ae,be=b[U][J]*o.symbolSize,et=x[H]*o.symbolSize,Se=j/2%C[W].length;K(ce,oe,be,et,C[W][Se])}Q+=b[U][J],++j,++J,J===b[U].length&&(J=0)}++U,U===b.length&&(U=0)}q+=x[H],++V,++H,H===x.length&&(H=0)}function K(me,_e,ne,B,nt){var ft=i?1:r,Yt=Cl(nt,me*ft,_e*ft,ne*ft,B*ft,o.color,o.symbolKeepAspect);if(i){var kn=n.painter.renderOneToVNode(Yt);kn&&M.children.push(kn)}else AE(R,Yt)}}}}function DE(t){if(!t||t.length===0)return[["rect"]];if(ke(t))return[[t]];for(var e=!0,r=0;r<t.length;++r)if(!ke(t[r])){e=!1;break}if(e)return DE([t]);for(var n=[],r=0;r<t.length;++r)ke(t[r])?n.push([t[r]]):n.push(t[r]);return n}function RE(t){if(!t||t.length===0)return[[0,0]];if(Tt(t)){var e=Math.ceil(t);return[[e,e]]}for(var r=!0,n=0;n<t.length;++n)if(!Tt(t[n])){r=!1;break}if(r)return RE([t]);for(var i=[],n=0;n<t.length;++n)if(Tt(t[n])){var e=Math.ceil(t[n]);i.push([e,e])}else{var e=Me(t[n],function(s){return Math.ceil(s)});e.length%2===1?i.push(e.concat(e)):i.push(e)}return i}function HG(t){if(!t||typeof t=="object"&&t.length===0)return[0,0];if(Tt(t)){var e=Math.ceil(t);return[e,e]}var r=Me(t,function(n){return Math.ceil(n)});return t.length%2?r.concat(r):r}function $G(t){return Me(t,function(e){return OE(e)})}function OE(t){for(var e=0,r=0;r<t.length;++r)e+=t[r];return t.length%2===1?e*2:e}function UG(t,e){t.eachRawSeries(function(r){if(!t.isSeriesFiltered(r)){var n=r.getData();n.hasItemVisual()&&n.each(function(o){var s=n.getItemVisual(o,"decal");if(s){var l=n.ensureUniqueItemVisual(o,"style");l.decal=tb(s,e)}});var i=n.getVisual("decal");if(i){var a=n.getVisual("style");a.decal=tb(i,e)}}})}var _n=new ti,FE={};function YG(t,e){FE[t]=e}function qG(t){return FE[t]}var WG=1,XG=800,KG=900,ZG=1e3,jG=2e3,QG=5e3,BE=1e3,JG=1100,zm=2e3,zE=3e3,eV=4e3,ev=4500,tV=4600,rV=5e3,nV=6e3,GE=7e3,iV={PROCESSOR:{FILTER:ZG,SERIES_FILTER:XG,STATISTIC:QG},VISUAL:{LAYOUT:BE,PROGRESSIVE_LAYOUT:JG,GLOBAL:zm,CHART:zE,POST_CHART_LAYOUT:tV,COMPONENT:eV,BRUSH:rV,CHART_ITEM:ev,ARIA:nV,DECAL:GE}},Kt="__flagInMainProcess",cr="__pendingUpdate",Dd="__needsUpdateStatus",rb=/^[a-zA-Z0-9_]+$/,Rd="__connectUpdateStatus",nb=0,aV=1,oV=2;function VE(t){return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];if(this.isDisposed()){this.id;return}return $E(this,t,e)}}function HE(t){return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return $E(this,t,e)}}function $E(t,e,r){return r[0]=r[0]&&r[0].toLowerCase(),ti.prototype[e].apply(t,r)}var UE=function(t){xe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(ti),YE=UE.prototype;YE.on=HE("on");YE.off=HE("off");var Ko,Od,qc,Gi,Fd,Bd,zd,Su,Cu,ib,ab,Gd,ob,Wc,sb,qE,$r,ub,WE=function(t){xe(e,t);function e(r,n,i){var a=t.call(this,new fG)||this;a._chartsViews=[],a._chartsMap={},a._componentsViews=[],a._componentsMap={},a._pendingActions=[],i=i||{},ke(n)&&(n=XE[n]),a._dom=r;var o="canvas",s="auto",l=!1;i.ssr;var f=a._zr=c1(r,{renderer:i.renderer||o,devicePixelRatio:i.devicePixelRatio,width:i.width,height:i.height,ssr:i.ssr,useDirtyRect:He(i.useDirtyRect,l),useCoarsePointer:He(i.useCoarsePointer,s),pointerSize:i.pointerSize});a._ssr=i.ssr,a._throttledZrFlush=wE(Ct(f.flush,f),17),n=qe(n),n&&tE(n,!0),a._theme=n,a._locale=_6(i.locale||NT),a._coordSysMgr=new Rm;var v=a._api=sb(a);function d(g,p){return g.__prio-p.__prio}return cf(ch,d),cf(rg,d),a._scheduler=new CE(a,v,rg,ch),a._messageCenter=new UE,a._initEvents(),a.resize=Ct(a.resize,a),f.animation.on("frame",a._onframe,a),ib(f,a),ab(f,a),_p(a),a}return e.prototype._onframe=function(){if(!this._disposed){ub(this);var r=this._scheduler;if(this[cr]){var n=this[cr].silent;this[Kt]=!0;try{Ko(this),Gi.update.call(this,null,this[cr].updateParams)}catch(l){throw this[Kt]=!1,this[cr]=null,l}this._zr.flush(),this[Kt]=!1,this[cr]=null,Su.call(this,n),Cu.call(this,n)}else if(r.unfinished){var i=WG,a=this._model,o=this._api;r.unfinished=!1;do{var s=+new Date;r.performSeriesTasks(a),r.performDataProcessorTasks(a),Bd(this,a),r.performVisualTasks(a),Wc(this,this._model,o,"remain",{}),i-=+new Date-s}while(i>0&&r.unfinished);r.unfinished||this._zr.flush()}}},e.prototype.getDom=function(){return this._dom},e.prototype.getId=function(){return this.id},e.prototype.getZr=function(){return this._zr},e.prototype.isSSR=function(){return this._ssr},e.prototype.setOption=function(r,n,i){if(!this[Kt]){if(this._disposed){this.id;return}var a,o,s;if(Le(n)&&(i=n.lazyUpdate,a=n.silent,o=n.replaceMerge,s=n.transition,n=n.notMerge),this[Kt]=!0,!this._model||n){var l=new q6(this._api),f=this._theme,v=this._model=new Dm;v.scheduler=this._scheduler,v.ssr=this._ssr,v.init(null,null,null,f,this._locale,l)}this._model.setOption(r,{replaceMerge:o},ng);var d={seriesTransition:s,optionChanged:!0};if(i)this[cr]={silent:a,updateParams:d},this[Kt]=!1,this.getZr().wakeUp();else{try{Ko(this),Gi.update.call(this,null,d)}catch(g){throw this[cr]=null,this[Kt]=!1,g}this._ssr||this._zr.flush(),this[cr]=null,this[Kt]=!1,Su.call(this,a),Cu.call(this,a)}}},e.prototype.setTheme=function(){},e.prototype.getModel=function(){return this._model},e.prototype.getOption=function(){return this._model&&this._model.getOption()},e.prototype.getWidth=function(){return this._zr.getWidth()},e.prototype.getHeight=function(){return this._zr.getHeight()},e.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||Oe.hasGlobalWindow&&window.devicePixelRatio||1},e.prototype.getRenderedCanvas=function(r){return this.renderToCanvas(r)},e.prototype.renderToCanvas=function(r){r=r||{};var n=this._zr.painter;return n.getRenderedCanvas({backgroundColor:r.backgroundColor||this._model.get("backgroundColor"),pixelRatio:r.pixelRatio||this.getDevicePixelRatio()})},e.prototype.renderToSVGString=function(r){r=r||{};var n=this._zr.painter;return n.renderToString({useViewBox:r.useViewBox})},e.prototype.getSvgDataURL=function(){if(Oe.svgSupported){var r=this._zr,n=r.storage.getDisplayList();return Y(n,function(i){i.stopAnimation(null,!0)}),r.painter.toDataURL()}},e.prototype.getDataURL=function(r){if(this._disposed){this.id;return}r=r||{};var n=r.excludeComponents,i=this._model,a=[],o=this;Y(n,function(l){i.eachComponent({mainType:l},function(f){var v=o._componentsMap[f.__viewId];v.group.ignore||(a.push(v),v.group.ignore=!0)})});var s=this._zr.painter.getType()==="svg"?this.getSvgDataURL():this.renderToCanvas(r).toDataURL("image/"+(r&&r.type||"png"));return Y(a,function(l){l.group.ignore=!1}),s},e.prototype.getConnectedDataURL=function(r){if(this._disposed){this.id;return}var n=r.type==="svg",i=this.group,a=Math.min,o=Math.max,s=1/0;if(lb[i]){var l=s,f=s,v=-s,d=-s,g=[],p=r&&r.pixelRatio||this.getDevicePixelRatio();Y(tl,function(T,k){if(T.group===i){var L=n?T.getZr().painter.getSvgDom().innerHTML:T.renderToCanvas(qe(r)),M=T.getDom().getBoundingClientRect();l=a(M.left,l),f=a(M.top,f),v=o(M.right,v),d=o(M.bottom,d),g.push({dom:L,left:M.left,top:M.top})}}),l*=p,f*=p,v*=p,d*=p;var y=v-l,w=d-f,b=zs.createCanvas(),x=c1(b,{renderer:n?"svg":"canvas"});if(x.resize({width:y,height:w}),n){var C="";return Y(g,function(T){var k=T.left-l,L=T.top-f;C+='<g transform="translate('+k+","+L+')">'+T.dom+"</g>"}),x.painter.getSvgRoot().innerHTML=C,r.connectedBackgroundColor&&x.painter.setBackgroundColor(r.connectedBackgroundColor),x.refreshImmediately(),x.painter.toDataURL()}else return r.connectedBackgroundColor&&x.add(new ar({shape:{x:0,y:0,width:y,height:w},style:{fill:r.connectedBackgroundColor}})),Y(g,function(T){var k=new ya({style:{x:T.left*p-l,y:T.top*p-f,image:T.dom}});x.add(k)}),x.refreshImmediately(),b.toDataURL("image/"+(r&&r.type||"png"))}else return this.getDataURL(r)},e.prototype.convertToPixel=function(r,n){return Fd(this,"convertToPixel",r,n)},e.prototype.convertFromPixel=function(r,n){return Fd(this,"convertFromPixel",r,n)},e.prototype.containPixel=function(r,n){if(this._disposed){this.id;return}var i=this._model,a,o=od(i,r);return Y(o,function(s,l){l.indexOf("Models")>=0&&Y(s,function(f){var v=f.coordinateSystem;if(v&&v.containPoint)a=a||!!v.containPoint(n);else if(l==="seriesModels"){var d=this._chartsMap[f.__viewId];d&&d.containPoint&&(a=a||d.containPoint(n,f))}},this)},this),!!a},e.prototype.getVisual=function(r,n){var i=this._model,a=od(i,r,{defaultMainType:"series"}),o=a.seriesModel,s=o.getData(),l=a.hasOwnProperty("dataIndexInside")?a.dataIndexInside:a.hasOwnProperty("dataIndex")?s.indexOfRawIndex(a.dataIndex):null;return l!=null?dG(s,l,n):pG(s,n)},e.prototype.getViewOfComponentModel=function(r){return this._componentsMap[r.__viewId]},e.prototype.getViewOfSeriesModel=function(r){return this._chartsMap[r.__viewId]},e.prototype._initEvents=function(){var r=this;Y(sV,function(n){var i=function(a){var o=r.getModel(),s=a.target,l,f=n==="globalout";if(f?l={}:s&&zu(s,function(y){var w=ht(y);if(w&&w.dataIndex!=null){var b=w.dataModel||o.getSeriesByIndex(w.seriesIndex);return l=b&&b.getDataParams(w.dataIndex,w.dataType,s)||{},!0}else if(w.eventData)return l=ye({},w.eventData),!0},!0),l){var v=l.componentType,d=l.componentIndex;(v==="markLine"||v==="markPoint"||v==="markArea")&&(v="series",d=l.seriesIndex);var g=v&&d!=null&&o.getComponent(v,d),p=g&&r[g.mainType==="series"?"_chartsMap":"_componentsMap"][g.__viewId];l.event=a,l.type=n,r._$eventProcessor.eventInfo={targetEl:s,packedEvent:l,model:g,view:p},r.trigger(n,l)}};i.zrEventfulCallAtLast=!0,r._zr.on(n,i,r)}),Y(el,function(n,i){r._messageCenter.on(i,function(a){this.trigger(i,a)},r)}),Y(["selectchanged"],function(n){r._messageCenter.on(n,function(i){this.trigger(n,i)},r)}),gG(this._messageCenter,this,this._api)},e.prototype.isDisposed=function(){return this._disposed},e.prototype.clear=function(){if(this._disposed){this.id;return}this.setOption({series:[]},!0)},e.prototype.dispose=function(){if(this._disposed){this.id;return}this._disposed=!0;var r=this.getDom();r&&YC(this.getDom(),Vm,"");var n=this,i=n._api,a=n._model;Y(n._componentsViews,function(o){o.dispose(a,i)}),Y(n._chartsViews,function(o){o.dispose(a,i)}),n._zr.dispose(),n._dom=n._model=n._chartsMap=n._componentsMap=n._chartsViews=n._componentsViews=n._scheduler=n._api=n._zr=n._throttledZrFlush=n._theme=n._coordSysMgr=n._messageCenter=null,delete tl[n.id]},e.prototype.resize=function(r){if(!this[Kt]){if(this._disposed){this.id;return}this._zr.resize(r);var n=this._model;if(this._loadingFX&&this._loadingFX.resize(),!!n){var i=n.resetOption("media"),a=r&&r.silent;this[cr]&&(a==null&&(a=this[cr].silent),i=!0,this[cr]=null),this[Kt]=!0;try{i&&Ko(this),Gi.update.call(this,{type:"resize",animation:ye({duration:0},r&&r.animation)})}catch(o){throw this[Kt]=!1,o}this[Kt]=!1,Su.call(this,a),Cu.call(this,a)}}},e.prototype.showLoading=function(r,n){if(this._disposed){this.id;return}if(Le(r)&&(n=r,r=""),r=r||"default",this.hideLoading(),!!ig[r]){var i=ig[r](this._api,n),a=this._zr;this._loadingFX=i,a.add(i)}},e.prototype.hideLoading=function(){if(this._disposed){this.id;return}this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},e.prototype.makeActionFromEvent=function(r){var n=ye({},r);return n.type=el[r.type],n},e.prototype.dispatchAction=function(r,n){if(this._disposed){this.id;return}if(Le(n)||(n={silent:!!n}),!!lh[r.type]&&this._model){if(this[Kt]){this._pendingActions.push(r);return}var i=n.silent;zd.call(this,r,i);var a=n.flush;a?this._zr.flush():a!==!1&&Oe.browser.weChat&&this._throttledZrFlush(),Su.call(this,i),Cu.call(this,i)}},e.prototype.updateLabelLayout=function(){_n.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},e.prototype.appendData=function(r){if(this._disposed){this.id;return}var n=r.seriesIndex,i=this.getModel(),a=i.getSeriesByIndex(n);a.appendData(r),this._scheduler.unfinished=!0,this.getZr().wakeUp()},e.internalField=function(){Ko=function(d){var g=d._scheduler;g.restorePipelines(d._model),g.prepareStageTasks(),Od(d,!0),Od(d,!1),g.plan()},Od=function(d,g){for(var p=d._model,y=d._scheduler,w=g?d._componentsViews:d._chartsViews,b=g?d._componentsMap:d._chartsMap,x=d._zr,C=d._api,T=0;T<w.length;T++)w[T].__alive=!1;g?p.eachComponent(function(M,N){M!=="series"&&k(N)}):p.eachSeries(k);function k(M){var N=M.__requireNewView;M.__requireNewView=!1;var R="_ec_"+M.id+"_"+M.type,D=!N&&b[R];if(!D){var F=$n(M.type),z=g?Mi.getClass(F.main,F.sub):Kn.getClass(F.sub);D=new z,D.init(p,C),b[R]=D,w.push(D),x.add(D.group)}M.__viewId=D.__id=R,D.__alive=!0,D.__model=M,D.group.__ecComponentInfo={mainType:M.mainType,index:M.componentIndex},!g&&y.prepareView(D,M,p,C)}for(var T=0;T<w.length;){var L=w[T];L.__alive?T++:(!g&&L.renderTask.dispose(),x.remove(L.group),L.dispose(p,C),w.splice(T,1),b[L.__id]===L&&delete b[L.__id],L.__id=L.group.__ecComponentInfo=null)}},qc=function(d,g,p,y,w){var b=d._model;if(b.setUpdatePayload(p),!y){Y([].concat(d._componentsViews).concat(d._chartsViews),L);return}var x={};x[y+"Id"]=p[y+"Id"],x[y+"Index"]=p[y+"Index"],x[y+"Name"]=p[y+"Name"];var C={mainType:y,query:x};w&&(C.subType=w);var T=p.excludeSeriesId,k;T!=null&&(k=Be(),Y(Rt(T),function(M){var N=Xn(M,null);N!=null&&k.set(N,!0)})),b&&b.eachComponent(C,function(M){var N=k&&k.get(M.id)!=null;if(!N)if(H1(p))if(M instanceof da)p.type===co&&!p.notBlur&&!M.get(["emphasis","disabled"])&&rz(M,p,d._api);else{var R=dm(M.mainType,M.componentIndex,p.name,d._api),D=R.focusSelf,F=R.dispatchers;p.type===co&&D&&!p.notBlur&&zp(M.mainType,M.componentIndex,d._api),F&&Y(F,function(z){p.type===co?Qf(z):Jf(z)})}else Hp(p)&&M instanceof da&&(az(M,p,d._api),z1(M),$r(d))},d),b&&b.eachComponent(C,function(M){var N=k&&k.get(M.id)!=null;N||L(d[y==="series"?"_chartsMap":"_componentsMap"][M.__viewId])},d);function L(M){M&&M.__alive&&M[g]&&M[g](M.__model,b,d._api,p)}},Gi={prepareAndUpdate:function(d){Ko(this),Gi.update.call(this,d,{optionChanged:d.newOption!=null})},update:function(d,g){var p=this._model,y=this._api,w=this._zr,b=this._coordSysMgr,x=this._scheduler;if(p){p.setUpdatePayload(d),x.restoreData(p,d),x.performSeriesTasks(p),b.create(p,y),x.performDataProcessorTasks(p,d),Bd(this,p),b.update(p,y),r(p),x.performVisualTasks(p,d),Gd(this,p,y,d,g);var C=p.get("backgroundColor")||"transparent",T=p.get("darkMode");w.setBackgroundColor(C),T!=null&&T!=="auto"&&w.setDarkMode(T),_n.trigger("afterupdate",p,y)}},updateTransform:function(d){var g=this,p=this._model,y=this._api;if(p){p.setUpdatePayload(d);var w=[];p.eachComponent(function(x,C){if(x!=="series"){var T=g.getViewOfComponentModel(C);if(T&&T.__alive)if(T.updateTransform){var k=T.updateTransform(C,p,y,d);k&&k.update&&w.push(T)}else w.push(T)}});var b=Be();p.eachSeries(function(x){var C=g._chartsMap[x.__viewId];if(C.updateTransform){var T=C.updateTransform(x,p,y,d);T&&T.update&&b.set(x.uid,1)}else b.set(x.uid,1)}),r(p),this._scheduler.performVisualTasks(p,d,{setDirty:!0,dirtyMap:b}),Wc(this,p,y,d,{},b),_n.trigger("afterupdate",p,y)}},updateView:function(d){var g=this._model;g&&(g.setUpdatePayload(d),Kn.markUpdateMethod(d,"updateView"),r(g),this._scheduler.performVisualTasks(g,d,{setDirty:!0}),Gd(this,g,this._api,d,{}),_n.trigger("afterupdate",g,this._api))},updateVisual:function(d){var g=this,p=this._model;p&&(p.setUpdatePayload(d),p.eachSeries(function(y){y.getData().clearAllVisual()}),Kn.markUpdateMethod(d,"updateVisual"),r(p),this._scheduler.performVisualTasks(p,d,{visualType:"visual",setDirty:!0}),p.eachComponent(function(y,w){if(y!=="series"){var b=g.getViewOfComponentModel(w);b&&b.__alive&&b.updateVisual(w,p,g._api,d)}}),p.eachSeries(function(y){var w=g._chartsMap[y.__viewId];w.updateVisual(y,p,g._api,d)}),_n.trigger("afterupdate",p,this._api))},updateLayout:function(d){Gi.update.call(this,d)}},Fd=function(d,g,p,y){if(d._disposed){d.id;return}for(var w=d._model,b=d._coordSysMgr.getCoordinateSystems(),x,C=od(w,p),T=0;T<b.length;T++){var k=b[T];if(k[g]&&(x=k[g](w,C,y))!=null)return x}},Bd=function(d,g){var p=d._chartsMap,y=d._scheduler;g.eachSeries(function(w){y.updateStreamModes(w,p[w.__viewId])})},zd=function(d,g){var p=this,y=this.getModel(),w=d.type,b=d.escapeConnect,x=lh[w],C=x.actionInfo,T=(C.update||"update").split(":"),k=T.pop(),L=T[0]!=null&&$n(T[0]);this[Kt]=!0;var M=[d],N=!1;d.batch&&(N=!0,M=Me(d.batch,function(H){return H=$e(ye({},H),d),H.batch=null,H}));var R=[],D,F=Hp(d),z=H1(d);if(z&&fT(this._api),Y(M,function(H){if(D=x.action(H,p._model,p._api),D=D||ye({},H),D.type=C.event||D.type,R.push(D),z){var V=lm(d),U=V.queryOptionMap,W=V.mainTypeSpecified,Q=W?U.keys()[0]:"series";qc(p,k,H,Q),$r(p)}else F?(qc(p,k,H,"series"),$r(p)):L&&qc(p,k,H,L.main,L.sub)}),k!=="none"&&!z&&!F&&!L)try{this[cr]?(Ko(this),Gi.update.call(this,d),this[cr]=null):Gi[k].call(this,d)}catch(H){throw this[Kt]=!1,H}if(N?D={type:C.event||w,escapeConnect:b,batch:R}:D=R[0],this[Kt]=!1,!g){var G=this._messageCenter;if(G.trigger(D.type,D),F){var q={type:"selectchanged",escapeConnect:b,selected:oz(y),isFromClick:d.isFromClick||!1,fromAction:d.type,fromActionPayload:d};G.trigger(q.type,q)}}},Su=function(d){for(var g=this._pendingActions;g.length;){var p=g.shift();zd.call(this,p,d)}},Cu=function(d){!d&&this.trigger("updated")},ib=function(d,g){d.on("rendered",function(p){g.trigger("rendered",p),d.animation.isFinished()&&!g[cr]&&!g._scheduler.unfinished&&!g._pendingActions.length&&g.trigger("finished")})},ab=function(d,g){d.on("mouseover",function(p){var y=p.target,w=zu(y,Vp);w&&(nz(w,p,g._api),$r(g))}).on("mouseout",function(p){var y=p.target,w=zu(y,Vp);w&&(iz(w,p,g._api),$r(g))}).on("click",function(p){var y=p.target,w=zu(y,function(C){return ht(C).dataIndex!=null},!0);if(w){var b=w.selected?"unselect":"select",x=ht(w);g._api.dispatchAction({type:b,dataType:x.dataType,dataIndexInside:x.dataIndex,seriesIndex:x.seriesIndex,isFromClick:!0})}})};function r(d){d.clearColorPalette(),d.eachSeries(function(g){g.clearColorPalette()})}function n(d){var g=[],p=[],y=!1;if(d.eachComponent(function(C,T){var k=T.get("zlevel")||0,L=T.get("z")||0,M=T.getZLevelKey();y=y||!!M,(C==="series"?p:g).push({zlevel:k,z:L,idx:T.componentIndex,type:C,key:M})}),y){var w=g.concat(p),b,x;cf(w,function(C,T){return C.zlevel===T.zlevel?C.z-T.z:C.zlevel-T.zlevel}),Y(w,function(C){var T=d.getComponent(C.type,C.idx),k=C.zlevel,L=C.key;b!=null&&(k=Math.max(b,k)),L?(k===b&&L!==x&&k++,x=L):x&&(k===b&&k++,x=""),b=k,T.setZLevel(k)})}}Gd=function(d,g,p,y,w){n(g),ob(d,g,p,y,w),Y(d._chartsViews,function(b){b.__alive=!1}),Wc(d,g,p,y,w),Y(d._chartsViews,function(b){b.__alive||b.remove(g,p)})},ob=function(d,g,p,y,w,b){Y(b||d._componentsViews,function(x){var C=x.__model;f(C,x),x.render(C,g,p,y),s(C,x),v(C,x)})},Wc=function(d,g,p,y,w,b){var x=d._scheduler;w=ye(w||{},{updatedSeries:g.getSeries()}),_n.trigger("series:beforeupdate",g,p,w);var C=!1;g.eachSeries(function(T){var k=d._chartsMap[T.__viewId];k.__alive=!0;var L=k.renderTask;x.updatePayload(L,y),f(T,k),b&&b.get(T.uid)&&L.dirty(),L.perform(x.getPerformArgs(L))&&(C=!0),k.group.silent=!!T.get("silent"),o(T,k),z1(T)}),x.unfinished=C||x.unfinished,_n.trigger("series:layoutlabels",g,p,w),_n.trigger("series:transition",g,p,w),g.eachSeries(function(T){var k=d._chartsMap[T.__viewId];s(T,k),v(T,k)}),a(d,g),_n.trigger("series:afterupdate",g,p,w)},$r=function(d){d[Dd]=!0,d.getZr().wakeUp()},ub=function(d){d[Dd]&&(d.getZr().storage.traverse(function(g){ju(g)||i(g)}),d[Dd]=!1)};function i(d){for(var g=[],p=d.currentStates,y=0;y<p.length;y++){var w=p[y];w==="emphasis"||w==="blur"||w==="select"||g.push(w)}d.selected&&d.states.select&&g.push("select"),d.hoverState===zh&&d.states.emphasis?g.push("emphasis"):d.hoverState===Bh&&d.states.blur&&g.push("blur"),d.useStates(g)}function a(d,g){var p=d._zr,y=p.storage,w=0;y.traverse(function(b){b.isGroup||w++}),w>g.get("hoverLayerThreshold")&&!Oe.node&&!Oe.worker&&g.eachSeries(function(b){if(!b.preventUsingHoverLayer){var x=d._chartsMap[b.__viewId];x.__alive&&x.eachRendered(function(C){C.states.emphasis&&(C.states.emphasis.hoverLayer=!0)})}})}function o(d,g){var p=d.get("blendMode")||null;g.eachRendered(function(y){y.isGroup||(y.style.blend=p)})}function s(d,g){if(!d.preventAutoZ){var p=d.get("z")||0,y=d.get("zlevel")||0;g.eachRendered(function(w){return l(w,p,y,-1/0),!0})}}function l(d,g,p,y){var w=d.getTextContent(),b=d.getTextGuideLine(),x=d.isGroup;if(x)for(var C=d.childrenRef(),T=0;T<C.length;T++)y=Math.max(l(C[T],g,p,y),y);else d.z=g,d.zlevel=p,y=Math.max(d.z2,y);if(w&&(w.z=g,w.zlevel=p,isFinite(y)&&(w.z2=y+2)),b){var k=d.textGuideLineConfig;b.z=g,b.zlevel=p,isFinite(y)&&(b.z2=y+(k&&k.showAbove?1:-1))}return y}function f(d,g){g.eachRendered(function(p){if(!ju(p)){var y=p.getTextContent(),w=p.getTextGuideLine();p.stateTransition&&(p.stateTransition=null),y&&y.stateTransition&&(y.stateTransition=null),w&&w.stateTransition&&(w.stateTransition=null),p.hasState()?(p.prevStates=p.currentStates,p.clearStates()):p.prevStates&&(p.prevStates=null)}})}function v(d,g){var p=d.getModel("stateAnimation"),y=d.isAnimationEnabled(),w=p.get("duration"),b=w>0?{duration:w,delay:p.get("delay"),easing:p.get("easing")}:null;g.eachRendered(function(x){if(x.states&&x.states.emphasis){if(ju(x))return;if(x instanceof We&&hz(x),x.__dirty){var C=x.prevStates;C&&x.useStates(C)}if(y){x.stateTransition=b;var T=x.getTextContent(),k=x.getTextGuideLine();T&&(T.stateTransition=b),k&&(k.stateTransition=b)}x.__dirty&&i(x)}})}sb=function(d){return new(function(g){xe(p,g);function p(){return g!==null&&g.apply(this,arguments)||this}return p.prototype.getCoordinateSystems=function(){return d._coordSysMgr.getCoordinateSystems()},p.prototype.getComponentByElement=function(y){for(;y;){var w=y.__ecComponentInfo;if(w!=null)return d._model.getComponent(w.mainType,w.index);y=y.parent}},p.prototype.enterEmphasis=function(y,w){Qf(y,w),$r(d)},p.prototype.leaveEmphasis=function(y,w){Jf(y,w),$r(d)},p.prototype.enterBlur=function(y){tz(y),$r(d)},p.prototype.leaveBlur=function(y){sT(y),$r(d)},p.prototype.enterSelect=function(y){uT(y),$r(d)},p.prototype.leaveSelect=function(y){lT(y),$r(d)},p.prototype.getModel=function(){return d.getModel()},p.prototype.getViewOfComponentModel=function(y){return d.getViewOfComponentModel(y)},p.prototype.getViewOfSeriesModel=function(y){return d.getViewOfSeriesModel(y)},p}(JT))(d)},qE=function(d){function g(p,y){for(var w=0;w<p.length;w++){var b=p[w];b[Rd]=y}}Y(el,function(p,y){d._messageCenter.on(y,function(w){if(lb[d.group]&&d[Rd]!==nb){if(w&&w.escapeConnect)return;var b=d.makeActionFromEvent(w),x=[];Y(tl,function(C){C!==d&&C.group===d.group&&x.push(C)}),g(x,nb),Y(x,function(C){C[Rd]!==aV&&C.dispatchAction(b)}),g(x,oV)}})})}}(),e}(ti),Gm=WE.prototype;Gm.on=VE("on");Gm.off=VE("off");Gm.one=function(t,e,r){var n=this;function i(){for(var a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];e&&e.apply&&e.apply(this,a),n.off(t,i)}this.on.call(this,t,i,r)};var sV=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];var lh={},el={},rg=[],ng=[],ch=[],XE={},ig={},tl={},lb={},uV=+new Date-0,Vm="_echarts_instance_";function lV(t,e,r){var n=!(r&&r.ssr);if(n){var i=cV(t);if(i)return i}var a=new WE(t,e,r);return a.id="ec_"+uV++,tl[a.id]=a,n&&YC(t,Vm,a.id),qE(a),_n.trigger("afterinit",a),a}function cV(t){return tl[UB(t,Vm)]}function KE(t,e){XE[t]=e}function ZE(t){lt(ng,t)<0&&ng.push(t)}function jE(t,e){$m(rg,t,e,jG)}function fV(t){Hm("afterinit",t)}function hV(t){Hm("afterupdate",t)}function Hm(t,e){_n.on(t,e)}function Ys(t,e,r){ze(e)&&(r=e,e="");var n=Le(t)?t.type:[t,t={event:e}][0];t.event=(t.event||n).toLowerCase(),e=t.event,!el[e]&&(ki(rb.test(n)&&rb.test(e)),lh[n]||(lh[n]={action:r,actionInfo:t}),el[e]=n)}function vV(t,e){Rm.register(t,e)}function dV(t,e){$m(ch,t,e,BE,"layout")}function To(t,e){$m(ch,t,e,zE,"visual")}var cb=[];function $m(t,e,r,n,i){if((ze(e)||Le(e))&&(r=e,e=n),!(lt(cb,r)>=0)){cb.push(r);var a=CE.wrapStageHandler(r,i);a.__prio=e,a.__raw=r,t.push(a)}}function QE(t,e){ig[t]=e}function pV(t,e,r){var n=qG("registerMap");n&&n(t,e,r)}var gV=x8;To(zm,j8);To(ev,Q8);To(ev,J8);To(zm,hG);To(ev,vG);To(GE,UG);ZE(tE);jE(KG,i8);QE("default",eG);Ys({type:co,event:co,update:co},br);Ys({type:mf,event:mf,update:mf},br);Ys({type:Xu,event:Xu,update:Xu},br);Ys({type:yf,event:yf,update:yf},br);Ys({type:Ku,event:Ku,update:Ku},br);KE("light",cG);KE("dark",IE);function Tu(t){return t==null?0:t.length||1}function fb(t){return t}var ag=function(){function t(e,r,n,i,a,o){this._old=e,this._new=r,this._oldKeyGetter=n||fb,this._newKeyGetter=i||fb,this.context=a,this._diffModeMultiple=o==="multiple"}return t.prototype.add=function(e){return this._add=e,this},t.prototype.update=function(e){return this._update=e,this},t.prototype.updateManyToOne=function(e){return this._updateManyToOne=e,this},t.prototype.updateOneToMany=function(e){return this._updateOneToMany=e,this},t.prototype.updateManyToMany=function(e){return this._updateManyToMany=e,this},t.prototype.remove=function(e){return this._remove=e,this},t.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},t.prototype._executeOneToOne=function(){var e=this._old,r=this._new,n={},i=new Array(e.length),a=new Array(r.length);this._initIndexMap(e,null,i,"_oldKeyGetter"),this._initIndexMap(r,n,a,"_newKeyGetter");for(var o=0;o<e.length;o++){var s=i[o],l=n[s],f=Tu(l);if(f>1){var v=l.shift();l.length===1&&(n[s]=l[0]),this._update&&this._update(v,o)}else f===1?(n[s]=null,this._update&&this._update(l,o)):this._remove&&this._remove(o)}this._performRestAdd(a,n)},t.prototype._executeMultiple=function(){var e=this._old,r=this._new,n={},i={},a=[],o=[];this._initIndexMap(e,n,a,"_oldKeyGetter"),this._initIndexMap(r,i,o,"_newKeyGetter");for(var s=0;s<a.length;s++){var l=a[s],f=n[l],v=i[l],d=Tu(f),g=Tu(v);if(d>1&&g===1)this._updateManyToOne&&this._updateManyToOne(v,f),i[l]=null;else if(d===1&&g>1)this._updateOneToMany&&this._updateOneToMany(v,f),i[l]=null;else if(d===1&&g===1)this._update&&this._update(v,f),i[l]=null;else if(d>1&&g>1)this._updateManyToMany&&this._updateManyToMany(v,f),i[l]=null;else if(d>1)for(var p=0;p<d;p++)this._remove&&this._remove(f[p]);else this._remove&&this._remove(f)}this._performRestAdd(o,i)},t.prototype._performRestAdd=function(e,r){for(var n=0;n<e.length;n++){var i=e[n],a=r[i],o=Tu(a);if(o>1)for(var s=0;s<o;s++)this._add&&this._add(a[s]);else o===1&&this._add&&this._add(a);r[i]=null}},t.prototype._initIndexMap=function(e,r,n,i){for(var a=this._diffModeMultiple,o=0;o<e.length;o++){var s="_ec_"+this[i](e[o],o);if(a||(n[o]=s),!!r){var l=r[s],f=Tu(l);f===0?(r[s]=o,a&&n.push(s)):f===1?r[s]=[l,o]:l.push(o)}}},t}(),mV=function(){function t(e,r){this._encode=e,this._schema=r}return t.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},t.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},t}();function yV(t,e){var r={},n=r.encode={},i=Be(),a=[],o=[],s={};Y(t.dimensions,function(g){var p=t.getDimensionInfo(g),y=p.coordDim;if(y){var w=p.coordDimIndex;Vd(n,y)[w]=g,p.isExtraCoord||(i.set(y,1),wV(p.type)&&(a[0]=g),Vd(s,y)[w]=t.getDimensionIndex(p.name)),p.defaultTooltip&&o.push(g)}XT.each(function(b,x){var C=Vd(n,x),T=p.otherDims[x];T!=null&&T!==!1&&(C[T]=p.name)})});var l=[],f={};i.each(function(g,p){var y=n[p];f[p]=y[0],l=l.concat(y)}),r.dataDimsOnCoord=l,r.dataDimIndicesOnCoord=Me(l,function(g){return t.getDimensionInfo(g).storeDimIndex}),r.encodeFirstDimNotExtra=f;var v=n.label;v&&v.length&&(a=v.slice());var d=n.tooltip;return d&&d.length?o=d.slice():o.length||(o=a.slice()),n.defaultedLabel=a,n.defaultedTooltip=o,r.userOutput=new mV(s,e),r}function Vd(t,e){return t.hasOwnProperty(e)||(t[e]=[]),t[e]}function _V(t){return t==="category"?"ordinal":t==="time"?"time":"float"}function wV(t){return!(t==="ordinal"||t==="time")}var Sf=function(){function t(e){this.otherDims={},e!=null&&ye(this,e)}return t}(),bV=Ot(),xV={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},JE=function(){function t(e){this.dimensions=e.dimensions,this._dimOmitted=e.dimensionOmitted,this.source=e.source,this._fullDimCount=e.fullDimensionCount,this._updateDimOmitted(e.dimensionOmitted)}return t.prototype.isDimensionOmitted=function(){return this._dimOmitted},t.prototype._updateDimOmitted=function(e){this._dimOmitted=e,e&&(this._dimNameMap||(this._dimNameMap=rk(this.source)))},t.prototype.getSourceDimensionIndex=function(e){return He(this._dimNameMap.get(e),-1)},t.prototype.getSourceDimension=function(e){var r=this.source.dimensionsDefine;if(r)return r[e]},t.prototype.makeStoreSchema=function(){for(var e=this._fullDimCount,r=iE(this.source),n=!nk(e),i="",a=[],o=0,s=0;o<e;o++){var l=void 0,f=void 0,v=void 0,d=this.dimensions[s];if(d&&d.storeDimIndex===o)l=r?d.name:null,f=d.type,v=d.ordinalMeta,s++;else{var g=this.getSourceDimension(o);g&&(l=r?g.name:null,f=g.type)}a.push({property:l,type:f,ordinalMeta:v}),r&&l!=null&&(!d||!d.isCalculationCoord)&&(i+=n?l.replace(/\`/g,"`1").replace(/\$/g,"`2"):l),i+="$",i+=xV[f]||"f",v&&(i+=v.uid),i+="$"}var p=this.source,y=[p.seriesLayoutBy,p.startIndex,i].join("$$");return{dimensions:a,hash:y}},t.prototype.makeOutputDimensionNames=function(){for(var e=[],r=0,n=0;r<this._fullDimCount;r++){var i=void 0,a=this.dimensions[n];if(a&&a.storeDimIndex===r)a.isCalculationCoord||(i=a.name),n++;else{var o=this.getSourceDimension(r);o&&(i=o.name)}e.push(i)}return e},t.prototype.appendCalculationDimension=function(e){this.dimensions.push(e),e.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},t}();function ek(t){return t instanceof JE}function tk(t){for(var e=Be(),r=0;r<(t||[]).length;r++){var n=t[r],i=Le(n)?n.name:n;i!=null&&e.get(i)==null&&e.set(i,r)}return e}function rk(t){var e=bV(t);return e.dimNameMap||(e.dimNameMap=tk(t.dimensionsDefine))}function nk(t){return t>30}var Eu=Le,Vi=Me,SV=typeof Int32Array>"u"?Array:Int32Array,CV="e\0\0",hb=-1,TV=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],EV=["_approximateExtent"],vb,Xc,ku,Iu,Hd,Mu,$d,kV=function(){function t(e,r){this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","minmaxDownSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","minmaxDownSample","lttbDownSample"];var n,i=!1;ek(e)?(n=e.dimensions,this._dimOmitted=e.isDimensionOmitted(),this._schema=e):(i=!0,n=e),n=n||["x","y"];for(var a={},o=[],s={},l=!1,f={},v=0;v<n.length;v++){var d=n[v],g=ke(d)?new Sf({name:d}):d instanceof Sf?d:new Sf(d),p=g.name;g.type=g.type||"float",g.coordDim||(g.coordDim=p,g.coordDimIndex=0);var y=g.otherDims=g.otherDims||{};o.push(p),a[p]=g,f[p]!=null&&(l=!0),g.createInvertedIndices&&(s[p]=[]),y.itemName===0&&(this._nameDimIdx=v),y.itemId===0&&(this._idDimIdx=v),i&&(g.storeDimIndex=v)}if(this.dimensions=o,this._dimInfos=a,this._initGetDimensionInfo(l),this.hostModel=r,this._invertedIndicesMap=s,this._dimOmitted){var w=this._dimIdxToName=Be();Y(o,function(b){w.set(a[b].storeDimIndex,b)})}}return t.prototype.getDimension=function(e){var r=this._recognizeDimIndex(e);if(r==null)return e;if(r=e,!this._dimOmitted)return this.dimensions[r];var n=this._dimIdxToName.get(r);if(n!=null)return n;var i=this._schema.getSourceDimension(r);if(i)return i.name},t.prototype.getDimensionIndex=function(e){var r=this._recognizeDimIndex(e);if(r!=null)return r;if(e==null)return-1;var n=this._getDimInfo(e);return n?n.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(e):-1},t.prototype._recognizeDimIndex=function(e){if(Tt(e)||e!=null&&!isNaN(e)&&!this._getDimInfo(e)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(e)<0))return+e},t.prototype._getStoreDimIndex=function(e){var r=this.getDimensionIndex(e);return r},t.prototype.getDimensionInfo=function(e){return this._getDimInfo(this.getDimension(e))},t.prototype._initGetDimensionInfo=function(e){var r=this._dimInfos;this._getDimInfo=e?function(n){return r.hasOwnProperty(n)?r[n]:void 0}:function(n){return r[n]}},t.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},t.prototype.mapDimension=function(e,r){var n=this._dimSummary;if(r==null)return n.encodeFirstDimNotExtra[e];var i=n.encode[e];return i?i[r]:null},t.prototype.mapDimensionsAll=function(e){var r=this._dimSummary,n=r.encode[e];return(n||[]).slice()},t.prototype.getStore=function(){return this._store},t.prototype.initData=function(e,r,n){var i=this,a;if(e instanceof Wp&&(a=e),!a){var o=this.dimensions,s=Om(e)||xr(e)?new aE(e,o.length):e;a=new Wp;var l=Vi(o,function(f){return{type:i._dimInfos[f].type,property:f}});a.initData(s,l,n)}this._store=a,this._nameList=(r||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,a.count()),this._dimSummary=yV(this,this._schema),this.userOutput=this._dimSummary.userOutput},t.prototype.appendData=function(e){var r=this._store.appendData(e);this._doInit(r[0],r[1])},t.prototype.appendValues=function(e,r){var n=this._store.appendValues(e,r&&r.length),i=n.start,a=n.end,o=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),r)for(var s=i;s<a;s++){var l=s-i;this._nameList[s]=r[l],o&&$d(this,s)}},t.prototype._updateOrdinalMeta=function(){for(var e=this._store,r=this.dimensions,n=0;n<r.length;n++){var i=this._dimInfos[r[n]];i.ordinalMeta&&e.collectOrdinalMeta(i.storeDimIndex,i.ordinalMeta)}},t.prototype._shouldMakeIdFromName=function(){var e=this._store.getProvider();return this._idDimIdx==null&&e.getSource().sourceFormat!==aa&&!e.fillStorage},t.prototype._doInit=function(e,r){if(!(e>=r)){var n=this._store,i=n.getProvider();this._updateOrdinalMeta();var a=this._nameList,o=this._idList,s=i.getSource().sourceFormat,l=s===un;if(l&&!i.pure)for(var f=[],v=e;v<r;v++){var d=i.getItem(v,f);if(!this.hasItemOption&&AB(d)&&(this.hasItemOption=!0),d){var g=d.name;a[v]==null&&g!=null&&(a[v]=Xn(g,null));var p=d.id;o[v]==null&&p!=null&&(o[v]=Xn(p,null))}}if(this._shouldMakeIdFromName())for(var v=e;v<r;v++)$d(this,v);vb(this)}},t.prototype.getApproximateExtent=function(e){return this._approximateExtent[e]||this._store.getDataExtent(this._getStoreDimIndex(e))},t.prototype.setApproximateExtent=function(e,r){r=this.getDimension(r),this._approximateExtent[r]=e.slice()},t.prototype.getCalculationInfo=function(e){return this._calculationInfo[e]},t.prototype.setCalculationInfo=function(e,r){Eu(e)?ye(this._calculationInfo,e):this._calculationInfo[e]=r},t.prototype.getName=function(e){var r=this.getRawIndex(e),n=this._nameList[r];return n==null&&this._nameDimIdx!=null&&(n=ku(this,this._nameDimIdx,r)),n==null&&(n=""),n},t.prototype._getCategory=function(e,r){var n=this._store.get(e,r),i=this._store.getOrdinalMeta(e);return i?i.categories[n]:n},t.prototype.getId=function(e){return Xc(this,this.getRawIndex(e))},t.prototype.count=function(){return this._store.count()},t.prototype.get=function(e,r){var n=this._store,i=this._dimInfos[e];if(i)return n.get(i.storeDimIndex,r)},t.prototype.getByRawIndex=function(e,r){var n=this._store,i=this._dimInfos[e];if(i)return n.getByRawIndex(i.storeDimIndex,r)},t.prototype.getIndices=function(){return this._store.getIndices()},t.prototype.getDataExtent=function(e){return this._store.getDataExtent(this._getStoreDimIndex(e))},t.prototype.getSum=function(e){return this._store.getSum(this._getStoreDimIndex(e))},t.prototype.getMedian=function(e){return this._store.getMedian(this._getStoreDimIndex(e))},t.prototype.getValues=function(e,r){var n=this,i=this._store;return we(e)?i.getValues(Vi(e,function(a){return n._getStoreDimIndex(a)}),r):i.getValues(e)},t.prototype.hasValue=function(e){for(var r=this._dimSummary.dataDimIndicesOnCoord,n=0,i=r.length;n<i;n++)if(isNaN(this._store.get(r[n],e)))return!1;return!0},t.prototype.indexOfName=function(e){for(var r=0,n=this._store.count();r<n;r++)if(this.getName(r)===e)return r;return-1},t.prototype.getRawIndex=function(e){return this._store.getRawIndex(e)},t.prototype.indexOfRawIndex=function(e){return this._store.indexOfRawIndex(e)},t.prototype.rawIndexOf=function(e,r){var n=e&&this._invertedIndicesMap[e],i=n&&n[r];return i==null||isNaN(i)?hb:i},t.prototype.indicesOfNearest=function(e,r,n){return this._store.indicesOfNearest(this._getStoreDimIndex(e),r,n)},t.prototype.each=function(e,r,n){ze(e)&&(n=r,r=e,e=[]);var i=n||this,a=Vi(Iu(e),this._getStoreDimIndex,this);this._store.each(a,i?Ct(r,i):r)},t.prototype.filterSelf=function(e,r,n){ze(e)&&(n=r,r=e,e=[]);var i=n||this,a=Vi(Iu(e),this._getStoreDimIndex,this);return this._store=this._store.filter(a,i?Ct(r,i):r),this},t.prototype.selectRange=function(e){var r=this,n={},i=yt(e);return Y(i,function(a){var o=r._getStoreDimIndex(a);n[o]=e[a]}),this._store=this._store.selectRange(n),this},t.prototype.mapArray=function(e,r,n){ze(e)&&(n=r,r=e,e=[]),n=n||this;var i=[];return this.each(e,function(){i.push(r&&r.apply(this,arguments))},n),i},t.prototype.map=function(e,r,n,i){var a=n||i||this,o=Vi(Iu(e),this._getStoreDimIndex,this),s=Mu(this);return s._store=this._store.map(o,a?Ct(r,a):r),s},t.prototype.modify=function(e,r,n,i){var a=n||i||this,o=Vi(Iu(e),this._getStoreDimIndex,this);this._store.modify(o,a?Ct(r,a):r)},t.prototype.downSample=function(e,r,n,i){var a=Mu(this);return a._store=this._store.downSample(this._getStoreDimIndex(e),r,n,i),a},t.prototype.minmaxDownSample=function(e,r){var n=Mu(this);return n._store=this._store.minmaxDownSample(this._getStoreDimIndex(e),r),n},t.prototype.lttbDownSample=function(e,r){var n=Mu(this);return n._store=this._store.lttbDownSample(this._getStoreDimIndex(e),r),n},t.prototype.getRawDataItem=function(e){return this._store.getRawDataItem(e)},t.prototype.getItemModel=function(e){var r=this.hostModel,n=this.getRawDataItem(e);return new Nt(n,r,r&&r.ecModel)},t.prototype.diff=function(e){var r=this;return new ag(e?e.getStore().getIndices():[],this.getStore().getIndices(),function(n){return Xc(e,n)},function(n){return Xc(r,n)})},t.prototype.getVisual=function(e){var r=this._visual;return r&&r[e]},t.prototype.setVisual=function(e,r){this._visual=this._visual||{},Eu(e)?ye(this._visual,e):this._visual[e]=r},t.prototype.getItemVisual=function(e,r){var n=this._itemVisuals[e],i=n&&n[r];return i??this.getVisual(r)},t.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},t.prototype.ensureUniqueItemVisual=function(e,r){var n=this._itemVisuals,i=n[e];i||(i=n[e]={});var a=i[r];return a==null&&(a=this.getVisual(r),we(a)?a=a.slice():Eu(a)&&(a=ye({},a)),i[r]=a),a},t.prototype.setItemVisual=function(e,r,n){var i=this._itemVisuals[e]||{};this._itemVisuals[e]=i,Eu(r)?ye(i,r):i[r]=n},t.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},t.prototype.setLayout=function(e,r){Eu(e)?ye(this._layout,e):this._layout[e]=r},t.prototype.getLayout=function(e){return this._layout[e]},t.prototype.getItemLayout=function(e){return this._itemLayouts[e]},t.prototype.setItemLayout=function(e,r,n){this._itemLayouts[e]=n?ye(this._itemLayouts[e]||{},r):r},t.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},t.prototype.setItemGraphicEl=function(e,r){var n=this.hostModel&&this.hostModel.seriesIndex;Y4(n,this.dataType,e,r),this._graphicEls[e]=r},t.prototype.getItemGraphicEl=function(e){return this._graphicEls[e]},t.prototype.eachItemGraphicEl=function(e,r){Y(this._graphicEls,function(n,i){n&&e&&e.call(r,n,i)})},t.prototype.cloneShallow=function(e){return e||(e=new t(this._schema?this._schema:Vi(this.dimensions,this._getDimInfo,this),this.hostModel)),Hd(e,this),e._store=this._store,e},t.prototype.wrapMethod=function(e,r){var n=this[e];ze(n)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(e),this[e]=function(){var i=n.apply(this,arguments);return r.apply(this,[i].concat(Jg(arguments)))})},t.internalField=function(){vb=function(e){var r=e._invertedIndicesMap;Y(r,function(n,i){var a=e._dimInfos[i],o=a.ordinalMeta,s=e._store;if(o){n=r[i]=new SV(o.categories.length);for(var l=0;l<n.length;l++)n[l]=hb;for(var l=0;l<s.count();l++)n[s.get(a.storeDimIndex,l)]=l}})},ku=function(e,r,n){return Xn(e._getCategory(r,n),null)},Xc=function(e,r){var n=e._idList[r];return n==null&&e._idDimIdx!=null&&(n=ku(e,e._idDimIdx,r)),n==null&&(n=CV+r),n},Iu=function(e){return we(e)||(e=e!=null?[e]:[]),e},Mu=function(e){var r=new t(e._schema?e._schema:Vi(e.dimensions,e._getDimInfo,e),e.hostModel);return Hd(r,e),r},Hd=function(e,r){Y(TV.concat(r.__wrappedMethods||[]),function(n){r.hasOwnProperty(n)&&(e[n]=r[n])}),e.__wrappedMethods=r.__wrappedMethods,Y(EV,function(n){e[n]=qe(r[n])}),e._calculationInfo=ye({},r._calculationInfo)},$d=function(e,r){var n=e._nameList,i=e._idList,a=e._nameDimIdx,o=e._idDimIdx,s=n[r],l=i[r];if(s==null&&a!=null&&(n[r]=s=ku(e,a,r)),l==null&&o!=null&&(i[r]=l=ku(e,o,r)),l==null&&s!=null){var f=e._nameRepeatCount,v=f[s]=(f[s]||0)+1;l=s,v>1&&(l+="__ec__"+v),i[r]=l}}}(),t}();function IV(t,e){Om(t)||(t=rE(t)),e=e||{};var r=e.coordDimensions||[],n=e.dimensionsDefine||t.dimensionsDefine||[],i=Be(),a=[],o=LV(t,r,n,e.dimensionsCount),s=e.canOmitUnusedDimensions&&nk(o),l=n===t.dimensionsDefine,f=l?rk(t):tk(n),v=e.encodeDefine;!v&&e.encodeDefaulter&&(v=e.encodeDefaulter(t,o));for(var d=Be(v),g=new cE(o),p=0;p<g.length;p++)g[p]=-1;function y(D){var F=g[D];if(F<0){var z=n[D],G=Le(z)?z:{name:z},q=new Sf,H=G.name;H!=null&&f.get(H)!=null&&(q.name=q.displayName=H),G.type!=null&&(q.type=G.type),G.displayName!=null&&(q.displayName=G.displayName);var V=a.length;return g[D]=V,q.storeDimIndex=D,a.push(q),q}return a[F]}if(!s)for(var p=0;p<o;p++)y(p);d.each(function(D,F){var z=Rt(D).slice();if(z.length===1&&!ke(z[0])&&z[0]<0){d.set(F,!1);return}var G=d.set(F,[]);Y(z,function(q,H){var V=ke(q)?f.get(q):q;V!=null&&V<o&&(G[H]=V,b(y(V),F,H))})});var w=0;Y(r,function(D){var F,z,G,q;if(ke(D))F=D,q={};else{q=D,F=q.name;var H=q.ordinalMeta;q.ordinalMeta=null,q=ye({},q),q.ordinalMeta=H,z=q.dimsDef,G=q.otherDims,q.name=q.coordDim=q.coordDimIndex=q.dimsDef=q.otherDims=null}var V=d.get(F);if(V!==!1){if(V=Rt(V),!V.length)for(var U=0;U<(z&&z.length||1);U++){for(;w<o&&y(w).coordDim!=null;)w++;w<o&&V.push(w++)}Y(V,function(W,Q){var J=y(W);if(l&&q.type!=null&&(J.type=q.type),b($e(J,q),F,Q),J.name==null&&z){var j=z[Q];!Le(j)&&(j={name:j}),J.name=J.displayName=j.name,J.defaultTooltip=j.defaultTooltip}G&&$e(J.otherDims,G)})}});function b(D,F,z){XT.get(F)!=null?D.otherDims[F]=z:(D.coordDim=F,D.coordDimIndex=z,i.set(F,!0))}var x=e.generateCoord,C=e.generateCoordCount,T=C!=null;C=x?C||1:0;var k=x||"value";function L(D){D.name==null&&(D.name=D.coordDim)}if(s)Y(a,function(D){L(D)}),a.sort(function(D,F){return D.storeDimIndex-F.storeDimIndex});else for(var M=0;M<o;M++){var N=y(M),R=N.coordDim;R==null&&(N.coordDim=PV(k,i,T),N.coordDimIndex=0,(!x||C<=0)&&(N.isExtraCoord=!0),C--),L(N),N.type==null&&(QT(t,M)===Ar.Must||N.isExtraCoord&&(N.otherDims.itemName!=null||N.otherDims.seriesName!=null))&&(N.type="ordinal")}return MV(a),new JE({source:t,dimensions:a,fullDimensionCount:o,dimensionOmitted:s})}function MV(t){for(var e=Be(),r=0;r<t.length;r++){var n=t[r],i=n.name,a=e.get(i)||0;a>0&&(n.name=i+(a-1)),a++,e.set(i,a)}}function LV(t,e,r,n){var i=Math.max(t.dimensionsDetectedCount||1,e.length,r.length,n||0);return Y(e,function(a){var o;Le(a)&&(o=a.dimsDef)&&(i=Math.max(i,o.length))}),i}function PV(t,e,r){if(r||e.hasKey(t)){for(var n=0;e.hasKey(t+n);)n++;t+=n}return e.set(t,!0),t}var NV=function(){function t(e){this.coordSysDims=[],this.axisMap=Be(),this.categoryAxisMap=Be(),this.coordSysName=e}return t}();function AV(t){var e=t.get("coordinateSystem"),r=new NV(e),n=DV[e];if(n)return n(t,r,r.axisMap,r.categoryAxisMap),r}var DV={cartesian2d:function(t,e,r,n){var i=t.getReferringComponents("xAxis",bn).models[0],a=t.getReferringComponents("yAxis",bn).models[0];e.coordSysDims=["x","y"],r.set("x",i),r.set("y",a),Zo(i)&&(n.set("x",i),e.firstCategoryDimIndex=0),Zo(a)&&(n.set("y",a),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=1))},singleAxis:function(t,e,r,n){var i=t.getReferringComponents("singleAxis",bn).models[0];e.coordSysDims=["single"],r.set("single",i),Zo(i)&&(n.set("single",i),e.firstCategoryDimIndex=0)},polar:function(t,e,r,n){var i=t.getReferringComponents("polar",bn).models[0],a=i.findAxisModel("radiusAxis"),o=i.findAxisModel("angleAxis");e.coordSysDims=["radius","angle"],r.set("radius",a),r.set("angle",o),Zo(a)&&(n.set("radius",a),e.firstCategoryDimIndex=0),Zo(o)&&(n.set("angle",o),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=1))},geo:function(t,e,r,n){e.coordSysDims=["lng","lat"]},parallel:function(t,e,r,n){var i=t.ecModel,a=i.getComponent("parallel",t.get("parallelIndex")),o=e.coordSysDims=a.dimensions.slice();Y(a.parallelAxisIndex,function(s,l){var f=i.getComponent("parallelAxis",s),v=o[l];r.set(v,f),Zo(f)&&(n.set(v,f),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=l))})}};function Zo(t){return t.get("type")==="category"}function RV(t,e,r){r=r||{};var n=r.byIndex,i=r.stackedCoordDimension,a,o,s;OV(e)?a=e:(o=e.schema,a=o.dimensions,s=e.store);var l=!!(t&&t.get("stack")),f,v,d,g;if(Y(a,function(C,T){ke(C)&&(a[T]=C={name:C}),l&&!C.isExtraCoord&&(!n&&!f&&C.ordinalMeta&&(f=C),!v&&C.type!=="ordinal"&&C.type!=="time"&&(!i||i===C.coordDim)&&(v=C))}),v&&!n&&!f&&(n=!0),v){d="__\0ecstackresult_"+t.id,g="__\0ecstackedover_"+t.id,f&&(f.createInvertedIndices=!0);var p=v.coordDim,y=v.type,w=0;Y(a,function(C){C.coordDim===p&&w++});var b={name:d,coordDim:p,coordDimIndex:w,type:y,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:a.length},x={name:g,coordDim:g,coordDimIndex:w+1,type:y,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:a.length+1};o?(s&&(b.storeDimIndex=s.ensureCalculationDimension(g,y),x.storeDimIndex=s.ensureCalculationDimension(d,y)),o.appendCalculationDimension(b),o.appendCalculationDimension(x)):(a.push(b),a.push(x))}return{stackedDimension:v&&v.name,stackedByDimension:f&&f.name,isStackedByIndex:n,stackedOverDimension:g,stackResultDimension:d}}function OV(t){return!ek(t.schema)}function El(t,e){return!!e&&e===t.getCalculationInfo("stackedDimension")}function FV(t,e){return El(t,e)?t.getCalculationInfo("stackResultDimension"):e}function BV(t,e){var r=t.get("coordinateSystem"),n=Rm.get(r),i;return e&&e.coordSysDims&&(i=Me(e.coordSysDims,function(a){var o={name:a},s=e.axisMap.get(a);if(s){var l=s.get("type");o.type=_V(l)}return o})),i||(i=n&&(n.getDimensionsInfo?n.getDimensionsInfo():n.dimensions.slice())||["x","y"]),i}function zV(t,e,r){var n,i;return r&&Y(t,function(a,o){var s=a.coordDim,l=r.categoryAxisMap.get(s);l&&(n==null&&(n=o),a.ordinalMeta=l.getOrdinalMeta(),e&&(a.createInvertedIndices=!0)),a.otherDims.itemName!=null&&(i=!0)}),!i&&n!=null&&(t[n].otherDims.itemName=0),n}function GV(t,e,r){r=r||{};var n=e.getSourceManager(),i,a=!1;i=n.getSource(),a=i.sourceFormat===un;var o=AV(e),s=BV(e,o),l=r.useEncodeDefaulter,f=ze(l)?l:l?tn(A6,s,e):null,v={coordDimensions:s,generateCoord:r.generateCoord,encodeDefine:e.getEncode(),encodeDefaulter:f,canOmitUnusedDimensions:!a},d=IV(i,v),g=zV(d.dimensions,r.createInvertedIndices,o),p=a?null:n.getSharedDataStore(d),y=RV(e,{schema:d,store:p}),w=new kV(d,e);w.setCalculationInfo(y);var b=g!=null&&VV(i)?function(x,C,T,k){return k===g?T:this.defaultDimValueGetter(x,C,T,k)}:null;return w.hasItemOption=!1,w.initData(a?i:p,null,b),w}function VV(t){if(t.sourceFormat===un){var e=HV(t.data||[]);return!we(zl(e))}}function HV(t){for(var e=0;e<t.length&&t[e]==null;)e++;return t[e]}var ni=function(){function t(e){this._setting=e||{},this._extent=[1/0,-1/0]}return t.prototype.getSetting=function(e){return this._setting[e]},t.prototype.unionExtent=function(e){var r=this._extent;e[0]<r[0]&&(r[0]=e[0]),e[1]>r[1]&&(r[1]=e[1])},t.prototype.unionExtentFromData=function(e,r){this.unionExtent(e.getApproximateExtent(r))},t.prototype.getExtent=function(){return this._extent.slice()},t.prototype.setExtent=function(e,r){var n=this._extent;isNaN(e)||(n[0]=e),isNaN(r)||(n[1]=r)},t.prototype.isInExtentRange=function(e){return this._extent[0]<=e&&this._extent[1]>=e},t.prototype.isBlank=function(){return this._isBlank},t.prototype.setBlank=function(e){this._isBlank=e},t}();Rh(ni);var $V=0,og=function(){function t(e){this.categories=e.categories||[],this._needCollect=e.needCollect,this._deduplication=e.deduplication,this.uid=++$V}return t.createByAxisModel=function(e){var r=e.option,n=r.data,i=n&&Me(n,UV);return new t({categories:i,needCollect:!i,deduplication:r.dedplication!==!1})},t.prototype.getOrdinal=function(e){return this._getOrCreateMap().get(e)},t.prototype.parseAndCollect=function(e){var r,n=this._needCollect;if(!ke(e)&&!n)return e;if(n&&!this._deduplication)return r=this.categories.length,this.categories[r]=e,r;var i=this._getOrCreateMap();return r=i.get(e),r==null&&(n?(r=this.categories.length,this.categories[r]=e,i.set(e,r)):r=NaN),r},t.prototype._getOrCreateMap=function(){return this._map||(this._map=Be(this.categories))},t}();function UV(t){return Le(t)&&t.value!=null?t.value:t+""}function sg(t){return t.type==="interval"||t.type==="log"}function YV(t,e,r,n){var i={},a=t[1]-t[0],o=i.interval=zC(a/e);r!=null&&o<r&&(o=i.interval=r),n!=null&&o>n&&(o=i.interval=n);var s=i.intervalPrecision=ik(o),l=i.niceTickExtent=[Dt(Math.ceil(t[0]/o)*o,s),Dt(Math.floor(t[1]/o)*o,s)];return qV(l,t),i}function Ud(t){var e=Math.pow(10,um(t)),r=t/e;return r?r===2?r=3:r===3?r=5:r*=2:r=1,Dt(r*e)}function ik(t){return mi(t)+2}function db(t,e,r){t[e]=Math.max(Math.min(t[e],r[1]),r[0])}function qV(t,e){!isFinite(t[0])&&(t[0]=e[0]),!isFinite(t[1])&&(t[1]=e[1]),db(t,0,e),db(t,1,e),t[0]>t[1]&&(t[0]=t[1])}function tv(t,e){return t>=e[0]&&t<=e[1]}function rv(t,e){return e[1]===e[0]?.5:(t-e[0])/(e[1]-e[0])}function nv(t,e){return t*(e[1]-e[0])+e[0]}var Um=function(t){xe(e,t);function e(r){var n=t.call(this,r)||this;n.type="ordinal";var i=n.getSetting("ordinalMeta");return i||(i=new og({})),we(i)&&(i=new og({categories:Me(i,function(a){return Le(a)?a.value:a})})),n._ordinalMeta=i,n._extent=n.getSetting("extent")||[0,i.categories.length-1],n}return e.prototype.parse=function(r){return r==null?NaN:ke(r)?this._ordinalMeta.getOrdinal(r):Math.round(r)},e.prototype.contain=function(r){return r=this.parse(r),tv(r,this._extent)&&this._ordinalMeta.categories[r]!=null},e.prototype.normalize=function(r){return r=this._getTickNumber(this.parse(r)),rv(r,this._extent)},e.prototype.scale=function(r){return r=Math.round(nv(r,this._extent)),this.getRawOrdinalNumber(r)},e.prototype.getTicks=function(){for(var r=[],n=this._extent,i=n[0];i<=n[1];)r.push({value:i}),i++;return r},e.prototype.getMinorTicks=function(r){},e.prototype.setSortInfo=function(r){if(r==null){this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null;return}for(var n=r.ordinalNumbers,i=this._ordinalNumbersByTick=[],a=this._ticksByOrdinalNumber=[],o=0,s=this._ordinalMeta.categories.length,l=Math.min(s,n.length);o<l;++o){var f=n[o];i[o]=f,a[f]=o}for(var v=0;o<s;++o){for(;a[v]!=null;)v++;i.push(v),a[v]=o}},e.prototype._getTickNumber=function(r){var n=this._ticksByOrdinalNumber;return n&&r>=0&&r<n.length?n[r]:r},e.prototype.getRawOrdinalNumber=function(r){var n=this._ordinalNumbersByTick;return n&&r>=0&&r<n.length?n[r]:r},e.prototype.getLabel=function(r){if(!this.isBlank()){var n=this.getRawOrdinalNumber(r.value),i=this._ordinalMeta.categories[n];return i==null?"":i+""}},e.prototype.count=function(){return this._extent[1]-this._extent[0]+1},e.prototype.unionExtentFromData=function(r,n){this.unionExtent(r.getApproximateExtent(n))},e.prototype.isInExtentRange=function(r){return r=this._getTickNumber(r),this._extent[0]<=r&&this._extent[1]>=r},e.prototype.getOrdinalMeta=function(){return this._ordinalMeta},e.prototype.calcNiceTicks=function(){},e.prototype.calcNiceExtent=function(){},e.type="ordinal",e}(ni);ni.registerClass(Um);var Za=Dt,qs=function(t){xe(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="interval",r._interval=0,r._intervalPrecision=2,r}return e.prototype.parse=function(r){return r},e.prototype.contain=function(r){return tv(r,this._extent)},e.prototype.normalize=function(r){return rv(r,this._extent)},e.prototype.scale=function(r){return nv(r,this._extent)},e.prototype.setExtent=function(r,n){var i=this._extent;isNaN(r)||(i[0]=parseFloat(r)),isNaN(n)||(i[1]=parseFloat(n))},e.prototype.unionExtent=function(r){var n=this._extent;r[0]<n[0]&&(n[0]=r[0]),r[1]>n[1]&&(n[1]=r[1]),this.setExtent(n[0],n[1])},e.prototype.getInterval=function(){return this._interval},e.prototype.setInterval=function(r){this._interval=r,this._niceExtent=this._extent.slice(),this._intervalPrecision=ik(r)},e.prototype.getTicks=function(r){var n=this._interval,i=this._extent,a=this._niceExtent,o=this._intervalPrecision,s=[];if(!n)return s;var l=1e4;i[0]<a[0]&&(r?s.push({value:Za(a[0]-n,o)}):s.push({value:i[0]}));for(var f=a[0];f<=a[1]&&(s.push({value:f}),f=Za(f+n,o),f!==s[s.length-1].value);)if(s.length>l)return[];var v=s.length?s[s.length-1].value:a[1];return i[1]>v&&(r?s.push({value:Za(v+n,o)}):s.push({value:i[1]})),s},e.prototype.getMinorTicks=function(r){for(var n=this.getTicks(!0),i=[],a=this.getExtent(),o=1;o<n.length;o++){for(var s=n[o],l=n[o-1],f=0,v=[],d=s.value-l.value,g=d/r;f<r-1;){var p=Za(l.value+(f+1)*g);p>a[0]&&p<a[1]&&v.push(p),f++}i.push(v)}return i},e.prototype.getLabel=function(r,n){if(r==null)return"";var i=n&&n.precision;i==null?i=mi(r.value)||0:i==="auto"&&(i=this._intervalPrecision);var a=Za(r.value,i,!0);return HT(a)},e.prototype.calcNiceTicks=function(r,n,i){r=r||5;var a=this._extent,o=a[1]-a[0];if(isFinite(o)){o<0&&(o=-o,a.reverse());var s=YV(a,r,n,i);this._intervalPrecision=s.intervalPrecision,this._interval=s.interval,this._niceExtent=s.niceTickExtent}},e.prototype.calcNiceExtent=function(r){var n=this._extent;if(n[0]===n[1])if(n[0]!==0){var i=Math.abs(n[0]);r.fixMax||(n[1]+=i/2),n[0]-=i/2}else n[1]=1;var a=n[1]-n[0];isFinite(a)||(n[0]=0,n[1]=1),this.calcNiceTicks(r.splitNumber,r.minInterval,r.maxInterval);var o=this._interval;r.fixMin||(n[0]=Za(Math.floor(n[0]/o)*o)),r.fixMax||(n[1]=Za(Math.ceil(n[1]/o)*o))},e.prototype.setNiceExtent=function(r,n){this._niceExtent=[r,n]},e.type="interval",e}(ni);ni.registerClass(qs);var ak=typeof Float32Array<"u",WV=ak?Float32Array:Array;function os(t){return we(t)?ak?new Float32Array(t):t:new WV(t)}var XV="__ec_stack_";function KV(t){return t.get("stack")||XV+t.seriesIndex}function ok(t){return t.dim+t.index}function ZV(t,e){var r=[];return e.eachSeriesByType(t,function(n){tH(n)&&r.push(n)}),r}function jV(t){var e={};Y(t,function(l){var f=l.coordinateSystem,v=f.getBaseAxis();if(!(v.type!=="time"&&v.type!=="value"))for(var d=l.getData(),g=v.dim+"_"+v.index,p=d.getDimensionIndex(d.mapDimension(v.dim)),y=d.getStore(),w=0,b=y.count();w<b;++w){var x=y.get(p,w);e[g]?e[g].push(x):e[g]=[x]}});var r={};for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];if(i){i.sort(function(l,f){return l-f});for(var a=null,o=1;o<i.length;++o){var s=i[o]-i[o-1];s>0&&(a=a===null?s:Math.min(a,s))}r[n]=a}}return r}function QV(t){var e=jV(t),r=[];return Y(t,function(n){var i=n.coordinateSystem,a=i.getBaseAxis(),o=a.getExtent(),s;if(a.type==="category")s=a.getBandWidth();else if(a.type==="value"||a.type==="time"){var l=a.dim+"_"+a.index,f=e[l],v=Math.abs(o[1]-o[0]),d=a.scale.getExtent(),g=Math.abs(d[1]-d[0]);s=f?v/g*f:v}else{var p=n.getData();s=Math.abs(o[1]-o[0])/p.count()}var y=ir(n.get("barWidth"),s),w=ir(n.get("barMaxWidth"),s),b=ir(n.get("barMinWidth")||(rH(n)?.5:1),s),x=n.get("barGap"),C=n.get("barCategoryGap");r.push({bandWidth:s,barWidth:y,barMaxWidth:w,barMinWidth:b,barGap:x,barCategoryGap:C,axisKey:ok(a),stackId:KV(n)})}),JV(r)}function JV(t){var e={};Y(t,function(n,i){var a=n.axisKey,o=n.bandWidth,s=e[a]||{bandWidth:o,remainedWidth:o,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},l=s.stacks;e[a]=s;var f=n.stackId;l[f]||s.autoWidthCount++,l[f]=l[f]||{width:0,maxWidth:0};var v=n.barWidth;v&&!l[f].width&&(l[f].width=v,v=Math.min(s.remainedWidth,v),s.remainedWidth-=v);var d=n.barMaxWidth;d&&(l[f].maxWidth=d);var g=n.barMinWidth;g&&(l[f].minWidth=g);var p=n.barGap;p!=null&&(s.gap=p);var y=n.barCategoryGap;y!=null&&(s.categoryGap=y)});var r={};return Y(e,function(n,i){r[i]={};var a=n.stacks,o=n.bandWidth,s=n.categoryGap;if(s==null){var l=yt(a).length;s=Math.max(35-l*4,15)+"%"}var f=ir(s,o),v=ir(n.gap,1),d=n.remainedWidth,g=n.autoWidthCount,p=(d-f)/(g+(g-1)*v);p=Math.max(p,0),Y(a,function(x){var C=x.maxWidth,T=x.minWidth;if(x.width){var k=x.width;C&&(k=Math.min(k,C)),T&&(k=Math.max(k,T)),x.width=k,d-=k+v*k,g--}else{var k=p;C&&C<k&&(k=Math.min(C,d)),T&&T>k&&(k=T),k!==p&&(x.width=k,d-=k+v*k,g--)}}),p=(d-f)/(g+(g-1)*v),p=Math.max(p,0);var y=0,w;Y(a,function(x,C){x.width||(x.width=p),w=x,y+=x.width*(1+v)}),w&&(y-=w.width*v);var b=-y/2;Y(a,function(x,C){r[i][C]=r[i][C]||{bandWidth:o,offset:b,width:x.width},b+=x.width*(1+v)})}),r}function eH(t,e,r){if(t&&e){var n=t[ok(e)];return n}}function tH(t){return t.coordinateSystem&&t.coordinateSystem.type==="cartesian2d"}function rH(t){return t.pipelineContext&&t.pipelineContext.large}var nH=function(t,e,r,n){for(;r<n;){var i=r+n>>>1;t[i][1]<e?r=i+1:n=i}return r},sk=function(t){xe(e,t);function e(r){var n=t.call(this,r)||this;return n.type="time",n}return e.prototype.getLabel=function(r){var n=this.getSetting("useUTC");return Wh(r.value,aw[S6(ds(this._minLevelUnit))]||aw.second,n,this.getSetting("locale"))},e.prototype.getFormattedLabel=function(r,n,i){var a=this.getSetting("useUTC"),o=this.getSetting("locale");return C6(r,n,i,o,a)},e.prototype.getTicks=function(){var r=this._interval,n=this._extent,i=[];if(!r)return i;i.push({value:n[0],level:0});var a=this.getSetting("useUTC"),o=cH(this._minLevelUnit,this._approxInterval,a,n);return i=i.concat(o),i.push({value:n[1],level:0}),i},e.prototype.calcNiceExtent=function(r){var n=this._extent;if(n[0]===n[1]&&(n[0]-=Qr,n[1]+=Qr),n[1]===-1/0&&n[0]===1/0){var i=new Date;n[1]=+new Date(i.getFullYear(),i.getMonth(),i.getDate()),n[0]=n[1]-Qr}this.calcNiceTicks(r.splitNumber,r.minInterval,r.maxInterval)},e.prototype.calcNiceTicks=function(r,n,i){r=r||10;var a=this._extent,o=a[1]-a[0];this._approxInterval=o/r,n!=null&&this._approxInterval<n&&(this._approxInterval=n),i!=null&&this._approxInterval>i&&(this._approxInterval=i);var s=Kc.length,l=Math.min(nH(Kc,this._approxInterval,0,s),s-1);this._interval=Kc[l][1],this._minLevelUnit=Kc[Math.max(l-1,0)][0]},e.prototype.parse=function(r){return Tt(r)?r:+Ii(r)},e.prototype.contain=function(r){return tv(this.parse(r),this._extent)},e.prototype.normalize=function(r){return rv(this.parse(r),this._extent)},e.prototype.scale=function(r){return nv(r,this._extent)},e.type="time",e}(qs),Kc=[["second",Im],["minute",Mm],["hour",Qu],["quarter-day",Qu*6],["half-day",Qu*12],["day",Qr*1.2],["half-week",Qr*3.5],["week",Qr*7],["month",Qr*31],["quarter",Qr*95],["half-year",iw/2],["year",iw]];function iH(t,e,r,n){var i=Ii(e),a=Ii(r),o=function(y){return ow(i,y,n)===ow(a,y,n)},s=function(){return o("year")},l=function(){return s()&&o("month")},f=function(){return l()&&o("day")},v=function(){return f()&&o("hour")},d=function(){return v()&&o("minute")},g=function(){return d()&&o("second")},p=function(){return g()&&o("millisecond")};switch(t){case"year":return s();case"month":return l();case"day":return f();case"hour":return v();case"minute":return d();case"second":return g();case"millisecond":return p()}}function aH(t,e){return t/=Qr,t>16?16:t>7.5?7:t>3.5?4:t>1.5?2:1}function oH(t){var e=30*Qr;return t/=e,t>6?6:t>3?3:t>2?2:1}function sH(t){return t/=Qu,t>12?12:t>6?6:t>3.5?4:t>2?2:1}function pb(t,e){return t/=e?Mm:Im,t>30?30:t>20?20:t>15?15:t>10?10:t>5?5:t>2?2:1}function uH(t){return zC(t)}function lH(t,e,r){var n=new Date(t);switch(ds(e)){case"year":case"month":n[OT(r)](0);case"day":n[FT(r)](1);case"hour":n[BT(r)](0);case"minute":n[zT(r)](0);case"second":n[GT(r)](0),n[VT(r)](0)}return n.getTime()}function cH(t,e,r,n){var i=1e4,a=DT,o=0;function s(F,z,G,q,H,V,U){for(var W=new Date(z),Q=z,J=W[q]();Q<G&&Q<=n[1];)U.push({value:Q}),J+=F,W[H](J),Q=W.getTime();U.push({value:Q,notAdd:!0})}function l(F,z,G){var q=[],H=!z.length;if(!iH(ds(F),n[0],n[1],r)){H&&(z=[{value:lH(new Date(n[0]),F,r)},{value:n[1]}]);for(var V=0;V<z.length-1;V++){var U=z[V].value,W=z[V+1].value;if(U!==W){var Q=void 0,J=void 0,j=void 0,pe=!1;switch(F){case"year":Q=Math.max(1,Math.round(e/Qr/365)),J=Lm(r),j=T6(r);break;case"half-year":case"quarter":case"month":Q=oH(e),J=ps(r),j=OT(r);break;case"week":case"half-week":case"day":Q=aH(e),J=Xh(r),j=FT(r),pe=!0;break;case"half-day":case"quarter-day":case"hour":Q=sH(e),J=yl(r),j=BT(r);break;case"minute":Q=pb(e,!0),J=Kh(r),j=zT(r);break;case"second":Q=pb(e,!1),J=Zh(r),j=GT(r);break;case"millisecond":Q=uH(e),J=jh(r),j=VT(r);break}s(Q,U,W,J,j,pe,q),F==="year"&&G.length>1&&V===0&&G.unshift({value:G[0].value-Q})}}for(var V=0;V<q.length;V++)G.push(q[V]);return q}}for(var f=[],v=[],d=0,g=0,p=0;p<a.length&&o++<i;++p){var y=ds(a[p]);if(x6(a[p])){l(a[p],f[f.length-1]||[],v);var w=a[p+1]?ds(a[p+1]):null;if(y!==w){if(v.length){g=d,v.sort(function(F,z){return F.value-z.value});for(var b=[],x=0;x<v.length;++x){var C=v[x].value;(x===0||v[x-1].value!==C)&&(b.push(v[x]),C>=n[0]&&C<=n[1]&&d++)}var T=(n[1]-n[0])/e;if(d>T*1.5&&g>T/1.5||(f.push(b),d>T||t===a[p]))break}v=[]}}}for(var k=Bt(Me(f,function(F){return Bt(F,function(z){return z.value>=n[0]&&z.value<=n[1]&&!z.notAdd})}),function(F){return F.length>0}),L=[],M=k.length-1,p=0;p<k.length;++p)for(var N=k[p],R=0;R<N.length;++R)L.push({value:N[R].value,level:M-p});L.sort(function(F,z){return F.value-z.value});for(var D=[],p=0;p<L.length;++p)(p===0||L[p].value!==L[p-1].value)&&D.push(L[p]);return D}ni.registerClass(sk);var gb=ni.prototype,rl=qs.prototype,fH=Dt,hH=Math.floor,vH=Math.ceil,Zc=Math.pow,dn=Math.log,Ym=function(t){xe(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="log",r.base=10,r._originalScale=new qs,r._interval=0,r}return e.prototype.getTicks=function(r){var n=this._originalScale,i=this._extent,a=n.getExtent(),o=rl.getTicks.call(this,r);return Me(o,function(s){var l=s.value,f=Dt(Zc(this.base,l));return f=l===i[0]&&this._fixMin?jc(f,a[0]):f,f=l===i[1]&&this._fixMax?jc(f,a[1]):f,{value:f}},this)},e.prototype.setExtent=function(r,n){var i=dn(this.base);r=dn(Math.max(0,r))/i,n=dn(Math.max(0,n))/i,rl.setExtent.call(this,r,n)},e.prototype.getExtent=function(){var r=this.base,n=gb.getExtent.call(this);n[0]=Zc(r,n[0]),n[1]=Zc(r,n[1]);var i=this._originalScale,a=i.getExtent();return this._fixMin&&(n[0]=jc(n[0],a[0])),this._fixMax&&(n[1]=jc(n[1],a[1])),n},e.prototype.unionExtent=function(r){this._originalScale.unionExtent(r);var n=this.base;r[0]=dn(r[0])/dn(n),r[1]=dn(r[1])/dn(n),gb.unionExtent.call(this,r)},e.prototype.unionExtentFromData=function(r,n){this.unionExtent(r.getApproximateExtent(n))},e.prototype.calcNiceTicks=function(r){r=r||10;var n=this._extent,i=n[1]-n[0];if(!(i===1/0||i<=0)){var a=LB(i),o=r/i*a;for(o<=.5&&(a*=10);!isNaN(a)&&Math.abs(a)<1&&Math.abs(a)>0;)a*=10;var s=[Dt(vH(n[0]/a)*a),Dt(hH(n[1]/a)*a)];this._interval=a,this._niceExtent=s}},e.prototype.calcNiceExtent=function(r){rl.calcNiceExtent.call(this,r),this._fixMin=r.fixMin,this._fixMax=r.fixMax},e.prototype.parse=function(r){return r},e.prototype.contain=function(r){return r=dn(r)/dn(this.base),tv(r,this._extent)},e.prototype.normalize=function(r){return r=dn(r)/dn(this.base),rv(r,this._extent)},e.prototype.scale=function(r){return r=nv(r,this._extent),Zc(this.base,r)},e.type="log",e}(ni),uk=Ym.prototype;uk.getMinorTicks=rl.getMinorTicks;uk.getLabel=rl.getLabel;function jc(t,e){return fH(t,mi(e))}ni.registerClass(Ym);var dH=function(){function t(e,r,n){this._prepareParams(e,r,n)}return t.prototype._prepareParams=function(e,r,n){n[1]<n[0]&&(n=[NaN,NaN]),this._dataMin=n[0],this._dataMax=n[1];var i=this._isOrdinal=e.type==="ordinal";this._needCrossZero=e.type==="interval"&&r.getNeedCrossZero&&r.getNeedCrossZero();var a=r.get("min",!0);a==null&&(a=r.get("startValue",!0));var o=this._modelMinRaw=a;ze(o)?this._modelMinNum=Qc(e,o({min:n[0],max:n[1]})):o!=="dataMin"&&(this._modelMinNum=Qc(e,o));var s=this._modelMaxRaw=r.get("max",!0);if(ze(s)?this._modelMaxNum=Qc(e,s({min:n[0],max:n[1]})):s!=="dataMax"&&(this._modelMaxNum=Qc(e,s)),i)this._axisDataLen=r.getCategories().length;else{var l=r.get("boundaryGap"),f=we(l)?l:[l||0,l||0];typeof f[0]=="boolean"||typeof f[1]=="boolean"?this._boundaryGapInner=[0,0]:this._boundaryGapInner=[yo(f[0],1),yo(f[1],1)]}},t.prototype.calculate=function(){var e=this._isOrdinal,r=this._dataMin,n=this._dataMax,i=this._axisDataLen,a=this._boundaryGapInner,o=e?null:n-r||Math.abs(r),s=this._modelMinRaw==="dataMin"?r:this._modelMinNum,l=this._modelMaxRaw==="dataMax"?n:this._modelMaxNum,f=s!=null,v=l!=null;s==null&&(s=e?i?0:NaN:r-a[0]*o),l==null&&(l=e?i?i-1:NaN:n+a[1]*o),(s==null||!isFinite(s))&&(s=NaN),(l==null||!isFinite(l))&&(l=NaN);var d=$f(s)||$f(l)||e&&!i;this._needCrossZero&&(s>0&&l>0&&!f&&(s=0),s<0&&l<0&&!v&&(l=0));var g=this._determinedMin,p=this._determinedMax;return g!=null&&(s=g,f=!0),p!=null&&(l=p,v=!0),{min:s,max:l,minFixed:f,maxFixed:v,isBlank:d}},t.prototype.modifyDataMinMax=function(e,r){this[gH[e]]=r},t.prototype.setDeterminedMinMax=function(e,r){var n=pH[e];this[n]=r},t.prototype.freeze=function(){this.frozen=!0},t}(),pH={min:"_determinedMin",max:"_determinedMax"},gH={min:"_dataMin",max:"_dataMax"};function mH(t,e,r){var n=t.rawExtentInfo;return n||(n=new dH(t,e,r),t.rawExtentInfo=n,n)}function Qc(t,e){return e==null?null:$f(e)?NaN:t.parse(e)}function lk(t,e){var r=t.type,n=mH(t,e,t.getExtent()).calculate();t.setBlank(n.isBlank);var i=n.min,a=n.max,o=e.ecModel;if(o&&r==="time"){var s=ZV("bar",o),l=!1;if(Y(s,function(d){l=l||d.getBaseAxis()===e.axis}),l){var f=QV(s),v=yH(i,a,e,f);i=v.min,a=v.max}}return{extent:[i,a],fixMin:n.minFixed,fixMax:n.maxFixed}}function yH(t,e,r,n){var i=r.axis.getExtent(),a=Math.abs(i[1]-i[0]),o=eH(n,r.axis);if(o===void 0)return{min:t,max:e};var s=1/0;Y(o,function(p){s=Math.min(p.offset,s)});var l=-1/0;Y(o,function(p){l=Math.max(p.offset+p.width,l)}),s=Math.abs(s),l=Math.abs(l);var f=s+l,v=e-t,d=1-(s+l)/a,g=v/d-v;return e+=g*(l/f),t-=g*(s/f),{min:t,max:e}}function mb(t,e){var r=e,n=lk(t,r),i=n.extent,a=r.get("splitNumber");t instanceof Ym&&(t.base=r.get("logBase"));var o=t.type,s=r.get("interval"),l=o==="interval"||o==="time";t.setExtent(i[0],i[1]),t.calcNiceExtent({splitNumber:a,fixMin:n.fixMin,fixMax:n.fixMax,minInterval:l?r.get("minInterval"):null,maxInterval:l?r.get("maxInterval"):null}),s!=null&&t.setInterval&&t.setInterval(s)}function _H(t,e){if(e=e||t.get("type"),e)switch(e){case"category":return new Um({ordinalMeta:t.getOrdinalMeta?t.getOrdinalMeta():t.getCategories(),extent:[1/0,-1/0]});case"time":return new sk({locale:t.ecModel.getLocaleModel(),useUTC:t.ecModel.get("useUTC")});default:return new(ni.getClass(e)||qs)}}function wH(t){var e=t.scale.getExtent(),r=e[0],n=e[1];return!(r>0&&n>0||r<0&&n<0)}function Ws(t){var e=t.getLabelModel().get("formatter"),r=t.type==="category"?t.scale.getExtent()[0]:null;return t.scale.type==="time"?function(n){return function(i,a){return t.scale.getFormattedLabel(i,a,n)}}(e):ke(e)?function(n){return function(i){var a=t.scale.getLabel(i),o=n.replace("{value}",a??"");return o}}(e):ze(e)?function(n){return function(i,a){return r!=null&&(a=i.value-r),n(qm(t,i),a,i.level!=null?{level:i.level}:null)}}(e):function(n){return t.scale.getLabel(n)}}function qm(t,e){return t.type==="category"?t.scale.getLabel(e):e.value}function bH(t){var e=t.model,r=t.scale;if(!(!e.get(["axisLabel","show"])||r.isBlank())){var n,i,a=r.getExtent();r instanceof Um?i=r.count():(n=r.getTicks(),i=n.length);var o=t.getLabelModel(),s=Ws(t),l,f=1;i>40&&(f=Math.ceil(i/40));for(var v=0;v<i;v+=f){var d=n?n[v]:{value:a[0]+v},g=s(d,v),p=o.getTextRect(g),y=xH(p,o.get("rotate")||0);l?l.union(y):l=y}return l}}function xH(t,e){var r=e*Math.PI/180,n=t.width,i=t.height,a=n*Math.abs(Math.cos(r))+Math.abs(i*Math.sin(r)),o=n*Math.abs(Math.sin(r))+Math.abs(i*Math.cos(r)),s=new Je(t.x,t.y,a,o);return s}function Wm(t){var e=t.get("interval");return e??"auto"}function ck(t){return t.type==="category"&&Wm(t.getLabelModel())===0}function SH(t,e){var r={};return Y(t.mapDimensionsAll(e),function(n){r[FV(t,n)]=!0}),yt(r)}var CH=function(){function t(){}return t.prototype.getNeedCrossZero=function(){var e=this.option;return!e.scale},t.prototype.getCoordSysModel=function(){},t}(),yb=[],TH={registerPreprocessor:ZE,registerProcessor:jE,registerPostInit:fV,registerPostUpdate:hV,registerUpdateLifecycle:Hm,registerAction:Ys,registerCoordinateSystem:vV,registerLayout:dV,registerVisual:To,registerTransform:gV,registerLoading:QE,registerMap:pV,registerImpl:YG,PRIORITY:iV,ComponentModel:ut,ComponentView:Mi,SeriesModel:da,ChartView:Kn,registerComponentModel:function(t){ut.registerClass(t)},registerComponentView:function(t){Mi.registerClass(t)},registerSeriesModel:function(t){da.registerClass(t)},registerChartView:function(t){Kn.registerClass(t)},registerSubTypeDefaulter:function(t,e){ut.registerSubTypeDefaulter(t,e)},registerPainter:function(t,e){SB(t,e)}};function kl(t){if(we(t)){Y(t,function(e){kl(e)});return}lt(yb,t)>=0||(yb.push(t),ze(t)&&(t={install:t}),t.install(TH))}var Il=Ot();function fk(t,e){var r=Me(e,function(n){return t.scale.parse(n)});return t.type==="time"&&r.length>0&&(r.sort(),r.unshift(r[0]),r.push(r[r.length-1])),r}function EH(t){var e=t.getLabelModel().get("customValues");if(e){var r=Ws(t),n=t.scale.getExtent(),i=fk(t,e),a=Bt(i,function(o){return o>=n[0]&&o<=n[1]});return{labels:Me(a,function(o){var s={value:o};return{formattedLabel:r(s),rawLabel:t.scale.getLabel(s),tickValue:o}})}}return t.type==="category"?IH(t):LH(t)}function kH(t,e){var r=t.getTickModel().get("customValues");if(r){var n=t.scale.getExtent(),i=fk(t,r);return{ticks:Bt(i,function(a){return a>=n[0]&&a<=n[1]})}}return t.type==="category"?MH(t,e):{ticks:Me(t.scale.getTicks(),function(a){return a.value})}}function IH(t){var e=t.getLabelModel(),r=hk(t,e);return!e.get("show")||t.scale.isBlank()?{labels:[],labelCategoryInterval:r.labelCategoryInterval}:r}function hk(t,e){var r=vk(t,"labels"),n=Wm(e),i=dk(r,n);if(i)return i;var a,o;return ze(n)?a=mk(t,n):(o=n==="auto"?PH(t):n,a=gk(t,o)),pk(r,n,{labels:a,labelCategoryInterval:o})}function MH(t,e){var r=vk(t,"ticks"),n=Wm(e),i=dk(r,n);if(i)return i;var a,o;if((!e.get("show")||t.scale.isBlank())&&(a=[]),ze(n))a=mk(t,n,!0);else if(n==="auto"){var s=hk(t,t.getLabelModel());o=s.labelCategoryInterval,a=Me(s.labels,function(l){return l.tickValue})}else o=n,a=gk(t,o,!0);return pk(r,n,{ticks:a,tickCategoryInterval:o})}function LH(t){var e=t.scale.getTicks(),r=Ws(t);return{labels:Me(e,function(n,i){return{level:n.level,formattedLabel:r(n,i),rawLabel:t.scale.getLabel(n),tickValue:n.value}})}}function vk(t,e){return Il(t)[e]||(Il(t)[e]=[])}function dk(t,e){for(var r=0;r<t.length;r++)if(t[r].key===e)return t[r].value}function pk(t,e,r){return t.push({key:e,value:r}),r}function PH(t){var e=Il(t).autoInterval;return e??(Il(t).autoInterval=t.calculateCategoryInterval())}function NH(t){var e=AH(t),r=Ws(t),n=(e.axisRotate-e.labelRotate)/180*Math.PI,i=t.scale,a=i.getExtent(),o=i.count();if(a[1]-a[0]<1)return 0;var s=1;o>40&&(s=Math.max(1,Math.floor(o/40)));for(var l=a[0],f=t.dataToCoord(l+1)-t.dataToCoord(l),v=Math.abs(f*Math.cos(n)),d=Math.abs(f*Math.sin(n)),g=0,p=0;l<=a[1];l+=s){var y=0,w=0,b=om(r({value:l}),e.font,"center","top");y=b.width*1.3,w=b.height*1.3,g=Math.max(g,y,7),p=Math.max(p,w,7)}var x=g/v,C=p/d;isNaN(x)&&(x=1/0),isNaN(C)&&(C=1/0);var T=Math.max(0,Math.floor(Math.min(x,C))),k=Il(t.model),L=t.getExtent(),M=k.lastAutoInterval,N=k.lastTickCount;return M!=null&&N!=null&&Math.abs(M-T)<=1&&Math.abs(N-o)<=1&&M>T&&k.axisExtent0===L[0]&&k.axisExtent1===L[1]?T=M:(k.lastTickCount=o,k.lastAutoInterval=T,k.axisExtent0=L[0],k.axisExtent1=L[1]),T}function AH(t){var e=t.getLabelModel();return{axisRotate:t.getRotate?t.getRotate():t.isHorizontal&&!t.isHorizontal()?90:0,labelRotate:e.get("rotate")||0,font:e.getFont()}}function gk(t,e,r){var n=Ws(t),i=t.scale,a=i.getExtent(),o=t.getLabelModel(),s=[],l=Math.max((e||0)+1,1),f=a[0],v=i.count();f!==0&&l>1&&v/l>2&&(f=Math.round(Math.ceil(f/l)*l));var d=ck(t),g=o.get("showMinLabel")||d,p=o.get("showMaxLabel")||d;g&&f!==a[0]&&w(a[0]);for(var y=f;y<=a[1];y+=l)w(y);p&&y-l!==a[1]&&w(a[1]);function w(b){var x={value:b};s.push(r?b:{formattedLabel:n(x),rawLabel:i.getLabel(x),tickValue:b})}return s}function mk(t,e,r){var n=t.scale,i=Ws(t),a=[];return Y(n.getTicks(),function(o){var s=n.getLabel(o),l=o.value;e(o.value,s)&&a.push(r?l:{formattedLabel:i(o),rawLabel:s,tickValue:l})}),a}var _b=[0,1],DH=function(){function t(e,r,n){this.onBand=!1,this.inverse=!1,this.dim=e,this.scale=r,this._extent=n||[0,0]}return t.prototype.contain=function(e){var r=this._extent,n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return e>=n&&e<=i},t.prototype.containData=function(e){return this.scale.contain(e)},t.prototype.getExtent=function(){return this._extent.slice()},t.prototype.getPixelPrecision=function(e){return kB(e||this.scale.getExtent(),this._extent)},t.prototype.setExtent=function(e,r){var n=this._extent;n[0]=e,n[1]=r},t.prototype.dataToCoord=function(e,r){var n=this._extent,i=this.scale;return e=i.normalize(e),this.onBand&&i.type==="ordinal"&&(n=n.slice(),wb(n,i.count())),f1(e,_b,n,r)},t.prototype.coordToData=function(e,r){var n=this._extent,i=this.scale;this.onBand&&i.type==="ordinal"&&(n=n.slice(),wb(n,i.count()));var a=f1(e,n,_b,r);return this.scale.scale(a)},t.prototype.pointToData=function(e,r){},t.prototype.getTicksCoords=function(e){e=e||{};var r=e.tickModel||this.getTickModel(),n=kH(this,r),i=n.ticks,a=Me(i,function(s){return{coord:this.dataToCoord(this.scale.type==="ordinal"?this.scale.getRawOrdinalNumber(s):s),tickValue:s}},this),o=r.get("alignWithLabel");return RH(this,a,o,e.clamp),a},t.prototype.getMinorTicksCoords=function(){if(this.scale.type==="ordinal")return[];var e=this.model.getModel("minorTick"),r=e.get("splitNumber");r>0&&r<100||(r=5);var n=this.scale.getMinorTicks(r),i=Me(n,function(a){return Me(a,function(o){return{coord:this.dataToCoord(o),tickValue:o}},this)},this);return i},t.prototype.getViewLabels=function(){return EH(this).labels},t.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},t.prototype.getTickModel=function(){return this.model.getModel("axisTick")},t.prototype.getBandWidth=function(){var e=this._extent,r=this.scale.getExtent(),n=r[1]-r[0]+(this.onBand?1:0);n===0&&(n=1);var i=Math.abs(e[1]-e[0]);return Math.abs(i)/n},t.prototype.calculateCategoryInterval=function(){return NH(this)},t}();function wb(t,e){var r=t[1]-t[0],n=e,i=r/n/2;t[0]+=i,t[1]-=i}function RH(t,e,r,n){var i=e.length;if(!t.onBand||r||!i)return;var a=t.getExtent(),o,s;if(i===1)e[0].coord=a[0],o=e[1]={coord:a[1],tickValue:e[0].tickValue};else{var l=e[i-1].tickValue-e[0].tickValue,f=(e[i-1].coord-e[0].coord)/l;Y(e,function(p){p.coord-=f/2});var v=t.scale.getExtent();s=1+v[1]-e[i-1].tickValue,o={coord:e[i-1].coord+f*s,tickValue:v[1]+1},e.push(o)}var d=a[0]>a[1];g(e[0].coord,a[0])&&(n?e[0].coord=a[0]:e.shift()),n&&g(a[0],e[0].coord)&&e.unshift({coord:a[0]}),g(a[1],o.coord)&&(n?o.coord=a[1]:e.pop()),n&&g(o.coord,a[1])&&e.push({coord:a[1]});function g(p,y){return p=Dt(p),y=Dt(y),d?p>y:p<y}}function OH(t){for(var e=[],r=0;r<t.length;r++){var n=t[r];if(!n.defaultAttr.ignore){var i=n.label,a=i.getComputedTransform(),o=i.getBoundingRect(),s=!a||a[1]<1e-5&&a[2]<1e-5,l=i.style.margin||0,f=o.clone();f.applyTransform(a),f.x-=l/2,f.y-=l/2,f.width+=l,f.height+=l;var v=s?new eh(o,a):null;e.push({label:i,labelLine:n.labelLine,rect:f,localRect:o,obb:v,priority:n.priority,defaultAttr:n.defaultAttr,layoutOption:n.computedLayoutOption,axisAligned:s,transform:a})}}return e}function FH(t){var e=[];t.sort(function(w,b){return b.priority-w.priority});var r=new Je(0,0,0,0);function n(w){if(!w.ignore){var b=w.ensureState("emphasis");b.ignore==null&&(b.ignore=!1)}w.ignore=!0}for(var i=0;i<t.length;i++){var a=t[i],o=a.axisAligned,s=a.localRect,l=a.transform,f=a.label,v=a.labelLine;r.copy(a.rect),r.width-=.1,r.height-=.1,r.x+=.05,r.y+=.05;for(var d=a.obb,g=!1,p=0;p<e.length;p++){var y=e[p];if(r.intersect(y.rect)){if(o&&y.axisAligned){g=!0;break}if(y.obb||(y.obb=new eh(y.localRect,y.transform)),d||(d=new eh(s,l)),d.intersect(y.obb)){g=!0;break}}}g?(n(f),v&&n(v)):(f.attr("ignore",a.defaultAttr.ignore),v&&v.attr("ignore",a.defaultAttr.labelGuideIgnore),e.push(a))}}var BH=function(t){xe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.type="grid",e.dependencies=["xAxis","yAxis"],e.layoutMode="box",e.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},e}(ut),ug=function(t){xe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",bn).models[0]},e.type="cartesian2dAxis",e}(ut);ei(ug,CH);var yk={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,showMinLine:!0,showMaxLine:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},zH=ct({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},yk),Xm=ct({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},yk),GH=ct({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},Xm),VH=$e({logBase:10},Xm);const HH={category:zH,value:Xm,time:GH,log:VH};var $H={value:1,category:1,time:1,log:1};function bb(t,e,r,n){Y($H,function(i,a){var o=ct(ct({},HH[a],!0),n,!0),s=function(l){xe(f,l);function f(){var v=l!==null&&l.apply(this,arguments)||this;return v.type=e+"Axis."+a,v}return f.prototype.mergeDefaultAndTheme=function(v,d){var g=_l(this),p=g?Nm(v):{},y=d.getTheme();ct(v,y.get(a+"Axis")),ct(v,this.getDefaultOption()),v.type=xb(v),g&&wl(v,p,g)},f.prototype.optionUpdated=function(){var v=this.option;v.type==="category"&&(this.__ordinalMeta=og.createByAxisModel(this))},f.prototype.getCategories=function(v){var d=this.option;if(d.type==="category")return v?d.data:this.__ordinalMeta.categories},f.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},f.type=e+"Axis."+a,f.defaultOption=o,f}(r);t.registerComponentModel(s)}),t.registerSubTypeDefaulter(e+"Axis",xb)}function xb(t){return t.type||(t.data?"category":"value")}var UH=function(){function t(e){this.type="cartesian",this._dimList=[],this._axes={},this.name=e||""}return t.prototype.getAxis=function(e){return this._axes[e]},t.prototype.getAxes=function(){return Me(this._dimList,function(e){return this._axes[e]},this)},t.prototype.getAxesByScale=function(e){return e=e.toLowerCase(),Bt(this.getAxes(),function(r){return r.scale.type===e})},t.prototype.addAxis=function(e){var r=e.dim;this._axes[r]=e,this._dimList.push(r)},t}(),lg=["x","y"];function Sb(t){return t.type==="interval"||t.type==="time"}var YH=function(t){xe(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="cartesian2d",r.dimensions=lg,r}return e.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var r=this.getAxis("x").scale,n=this.getAxis("y").scale;if(!(!Sb(r)||!Sb(n))){var i=r.getExtent(),a=n.getExtent(),o=this.dataToPoint([i[0],a[0]]),s=this.dataToPoint([i[1],a[1]]),l=i[1]-i[0],f=a[1]-a[0];if(!(!l||!f)){var v=(s[0]-o[0])/l,d=(s[1]-o[1])/f,g=o[0]-i[0]*v,p=o[1]-a[0]*d,y=this._transform=[v,0,0,d,g,p];this._invTransform=nm([],y)}}},e.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},e.prototype.containPoint=function(r){var n=this.getAxis("x"),i=this.getAxis("y");return n.contain(n.toLocalCoord(r[0]))&&i.contain(i.toLocalCoord(r[1]))},e.prototype.containData=function(r){return this.getAxis("x").containData(r[0])&&this.getAxis("y").containData(r[1])},e.prototype.containZone=function(r,n){var i=this.dataToPoint(r),a=this.dataToPoint(n),o=this.getArea(),s=new Je(i[0],i[1],a[0]-i[0],a[1]-i[1]);return o.intersect(s)},e.prototype.dataToPoint=function(r,n,i){i=i||[];var a=r[0],o=r[1];if(this._transform&&a!=null&&isFinite(a)&&o!=null&&isFinite(o))return rn(i,r,this._transform);var s=this.getAxis("x"),l=this.getAxis("y");return i[0]=s.toGlobalCoord(s.dataToCoord(a,n)),i[1]=l.toGlobalCoord(l.dataToCoord(o,n)),i},e.prototype.clampData=function(r,n){var i=this.getAxis("x").scale,a=this.getAxis("y").scale,o=i.getExtent(),s=a.getExtent(),l=i.parse(r[0]),f=a.parse(r[1]);return n=n||[],n[0]=Math.min(Math.max(Math.min(o[0],o[1]),l),Math.max(o[0],o[1])),n[1]=Math.min(Math.max(Math.min(s[0],s[1]),f),Math.max(s[0],s[1])),n},e.prototype.pointToData=function(r,n){var i=[];if(this._invTransform)return rn(i,r,this._invTransform);var a=this.getAxis("x"),o=this.getAxis("y");return i[0]=a.coordToData(a.toLocalCoord(r[0]),n),i[1]=o.coordToData(o.toLocalCoord(r[1]),n),i},e.prototype.getOtherAxis=function(r){return this.getAxis(r.dim==="x"?"y":"x")},e.prototype.getArea=function(r){r=r||0;var n=this.getAxis("x").getGlobalExtent(),i=this.getAxis("y").getGlobalExtent(),a=Math.min(n[0],n[1])-r,o=Math.min(i[0],i[1])-r,s=Math.max(n[0],n[1])-a+r,l=Math.max(i[0],i[1])-o+r;return new Je(a,o,s,l)},e}(UH),qH=function(t){xe(e,t);function e(r,n,i,a,o){var s=t.call(this,r,n,i)||this;return s.index=0,s.type=a||"value",s.position=o||"bottom",s}return e.prototype.isHorizontal=function(){var r=this.position;return r==="top"||r==="bottom"},e.prototype.getGlobalExtent=function(r){var n=this.getExtent();return n[0]=this.toGlobalCoord(n[0]),n[1]=this.toGlobalCoord(n[1]),r&&n[0]>n[1]&&n.reverse(),n},e.prototype.pointToData=function(r,n){return this.coordToData(this.toLocalCoord(r[this.dim==="x"?0:1]),n)},e.prototype.setCategorySortInfo=function(r){if(this.type!=="category")return!1;this.model.option.categorySortInfo=r,this.scale.setSortInfo(r)},e}(DH);function cg(t,e,r){r=r||{};var n=t.coordinateSystem,i=e.axis,a={},o=i.getAxesOnZeroOf()[0],s=i.position,l=o?"onZero":s,f=i.dim,v=n.getRect(),d=[v.x,v.x+v.width,v.y,v.y+v.height],g={left:0,right:1,top:0,bottom:1,onZero:2},p=e.get("offset")||0,y=f==="x"?[d[2]-p,d[3]+p]:[d[0]-p,d[1]+p];if(o){var w=o.toGlobalCoord(o.dataToCoord(0));y[g.onZero]=Math.max(Math.min(w,y[1]),y[0])}a.position=[f==="y"?y[g[l]]:d[0],f==="x"?y[g[l]]:d[3]],a.rotation=Math.PI/2*(f==="x"?0:1);var b={top:-1,bottom:1,left:-1,right:1};a.labelDirection=a.tickDirection=a.nameDirection=b[s],a.labelOffset=o?y[g[s]]-y[g.onZero]:0,e.get(["axisTick","inside"])&&(a.tickDirection=-a.tickDirection),hl(r.labelInside,e.get(["axisLabel","inside"]))&&(a.labelDirection=-a.labelDirection);var x=e.get(["axisLabel","rotate"]);return a.labelRotate=l==="top"?-x:x,a.z2=1,a}function Cb(t){return t.get("coordinateSystem")==="cartesian2d"}function Tb(t){var e={xAxisModel:null,yAxisModel:null};return Y(e,function(r,n){var i=n.replace(/Model$/,""),a=t.getReferringComponents(i,bn).models[0];e[n]=a}),e}var Yd=Math.log;function WH(t,e,r){var n=qs.prototype,i=n.getTicks.call(r),a=n.getTicks.call(r,!0),o=i.length-1,s=n.getInterval.call(r),l=lk(t,e),f=l.extent,v=l.fixMin,d=l.fixMax;if(t.type==="log"){var g=Yd(t.base);f=[Yd(f[0])/g,Yd(f[1])/g]}t.setExtent(f[0],f[1]),t.calcNiceExtent({splitNumber:o,fixMin:v,fixMax:d});var p=n.getExtent.call(t);v&&(f[0]=p[0]),d&&(f[1]=p[1]);var y=n.getInterval.call(t),w=f[0],b=f[1];if(v&&d)y=(b-w)/o;else if(v)for(b=f[0]+y*o;b<f[1]&&isFinite(b)&&isFinite(f[1]);)y=Ud(y),b=f[0]+y*o;else if(d)for(w=f[1]-y*o;w>f[0]&&isFinite(w)&&isFinite(f[0]);)y=Ud(y),w=f[1]-y*o;else{var x=t.getTicks().length-1;x>o&&(y=Ud(y));var C=y*o;b=Math.ceil(f[1]/y)*y,w=Dt(b-C),w<0&&f[0]>=0?(w=0,b=Dt(C)):b>0&&f[1]<=0&&(b=0,w=-Dt(C))}var T=(i[0].value-a[0].value)/s,k=(i[o].value-a[o].value)/s;n.setExtent.call(t,w+y*T,b+y*k),n.setInterval.call(t,y),(T||k)&&n.setNiceExtent.call(t,w+y,b-y)}var XH=function(){function t(e,r,n){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=lg,this._initCartesian(e,r,n),this.model=e}return t.prototype.getRect=function(){return this._rect},t.prototype.update=function(e,r){var n=this._axesMap;this._updateScale(e,this.model);function i(o){var s,l=yt(o),f=l.length;if(f){for(var v=[],d=f-1;d>=0;d--){var g=+l[d],p=o[g],y=p.model,w=p.scale;sg(w)&&y.get("alignTicks")&&y.get("interval")==null?v.push(p):(mb(w,y),sg(w)&&(s=p))}v.length&&(s||(s=v.pop(),mb(s.scale,s.model)),Y(v,function(b){WH(b.scale,b.model,s.scale)}))}}i(n.x),i(n.y);var a={};Y(n.x,function(o){Eb(n,"y",o,a)}),Y(n.y,function(o){Eb(n,"x",o,a)}),this.resize(this.model,r)},t.prototype.resize=function(e,r,n){var i=e.getBoxLayoutParams(),a=!n&&e.get("containLabel"),o=qT(i,{width:r.getWidth(),height:r.getHeight()});this._rect=o;var s=this._axesList;l(),a&&(Y(s,function(f){if(!f.model.get(["axisLabel","inside"])){var v=bH(f);if(v){var d=f.isHorizontal()?"height":"width",g=f.model.get(["axisLabel","margin"]);o[d]-=v[d]+g,f.position==="top"?o.y+=v.height+g:f.position==="left"&&(o.x+=v.width+g)}}}),l()),Y(this._coordsList,function(f){f.calcAffineTransform()});function l(){Y(s,function(f){var v=f.isHorizontal(),d=v?[0,o.width]:[0,o.height],g=f.inverse?1:0;f.setExtent(d[g],d[1-g]),KH(f,v?o.x:o.y)})}},t.prototype.getAxis=function(e,r){var n=this._axesMap[e];if(n!=null)return n[r||0]},t.prototype.getAxes=function(){return this._axesList.slice()},t.prototype.getCartesian=function(e,r){if(e!=null&&r!=null){var n="x"+e+"y"+r;return this._coordsMap[n]}Le(e)&&(r=e.yAxisIndex,e=e.xAxisIndex);for(var i=0,a=this._coordsList;i<a.length;i++)if(a[i].getAxis("x").index===e||a[i].getAxis("y").index===r)return a[i]},t.prototype.getCartesians=function(){return this._coordsList.slice()},t.prototype.convertToPixel=function(e,r,n){var i=this._findConvertTarget(r);return i.cartesian?i.cartesian.dataToPoint(n):i.axis?i.axis.toGlobalCoord(i.axis.dataToCoord(n)):null},t.prototype.convertFromPixel=function(e,r,n){var i=this._findConvertTarget(r);return i.cartesian?i.cartesian.pointToData(n):i.axis?i.axis.coordToData(i.axis.toLocalCoord(n)):null},t.prototype._findConvertTarget=function(e){var r=e.seriesModel,n=e.xAxisModel||r&&r.getReferringComponents("xAxis",bn).models[0],i=e.yAxisModel||r&&r.getReferringComponents("yAxis",bn).models[0],a=e.gridModel,o=this._coordsList,s,l;if(r)s=r.coordinateSystem,lt(o,s)<0&&(s=null);else if(n&&i)s=this.getCartesian(n.componentIndex,i.componentIndex);else if(n)l=this.getAxis("x",n.componentIndex);else if(i)l=this.getAxis("y",i.componentIndex);else if(a){var f=a.coordinateSystem;f===this&&(s=this._coordsList[0])}return{cartesian:s,axis:l}},t.prototype.containPoint=function(e){var r=this._coordsList[0];if(r)return r.containPoint(e)},t.prototype._initCartesian=function(e,r,n){var i=this,a=this,o={left:!1,right:!1,top:!1,bottom:!1},s={x:{},y:{}},l={x:0,y:0};if(r.eachComponent("xAxis",f("x"),this),r.eachComponent("yAxis",f("y"),this),!l.x||!l.y){this._axesMap={},this._axesList=[];return}this._axesMap=s,Y(s.x,function(v,d){Y(s.y,function(g,p){var y="x"+d+"y"+p,w=new YH(y);w.master=i,w.model=e,i._coordsMap[y]=w,i._coordsList.push(w),w.addAxis(v),w.addAxis(g)})});function f(v){return function(d,g){if(qd(d,e)){var p=d.get("position");v==="x"?p!=="top"&&p!=="bottom"&&(p=o.bottom?"top":"bottom"):p!=="left"&&p!=="right"&&(p=o.left?"right":"left"),o[p]=!0;var y=new qH(v,_H(d),[0,0],d.get("type"),p),w=y.type==="category";y.onBand=w&&d.get("boundaryGap"),y.inverse=d.get("inverse"),d.axis=y,y.model=d,y.grid=a,y.index=g,a._axesList.push(y),s[v][g]=y,l[v]++}}}},t.prototype._updateScale=function(e,r){Y(this._axesList,function(i){if(i.scale.setExtent(1/0,-1/0),i.type==="category"){var a=i.model.get("categorySortInfo");i.scale.setSortInfo(a)}}),e.eachSeries(function(i){if(Cb(i)){var a=Tb(i),o=a.xAxisModel,s=a.yAxisModel;if(!qd(o,r)||!qd(s,r))return;var l=this.getCartesian(o.componentIndex,s.componentIndex),f=i.getData(),v=l.getAxis("x"),d=l.getAxis("y");n(f,v),n(f,d)}},this);function n(i,a){Y(SH(i,a.dim),function(o){a.scale.unionExtentFromData(i,o)})}},t.prototype.getTooltipAxes=function(e){var r=[],n=[];return Y(this.getCartesians(),function(i){var a=e!=null&&e!=="auto"?i.getAxis(e):i.getBaseAxis(),o=i.getOtherAxis(a);lt(r,a)<0&&r.push(a),lt(n,o)<0&&n.push(o)}),{baseAxes:r,otherAxes:n}},t.create=function(e,r){var n=[];return e.eachComponent("grid",function(i,a){var o=new t(i,e,r);o.name="grid_"+a,o.resize(i,r,!0),i.coordinateSystem=o,n.push(o)}),e.eachSeries(function(i){if(Cb(i)){var a=Tb(i),o=a.xAxisModel,s=a.yAxisModel,l=o.getCoordSysModel(),f=l.coordinateSystem;i.coordinateSystem=f.getCartesian(o.componentIndex,s.componentIndex)}}),n},t.dimensions=lg,t}();function qd(t,e){return t.getCoordSysModel()===e}function Eb(t,e,r,n){r.getAxesOnZeroOf=function(){return a?[a]:[]};var i=t[e],a,o=r.model,s=o.get(["axisLine","onZero"]),l=o.get(["axisLine","onZeroAxisIndex"]);if(!s)return;if(l!=null)kb(i[l])&&(a=i[l]);else for(var f in i)if(i.hasOwnProperty(f)&&kb(i[f])&&!n[v(i[f])]){a=i[f];break}a&&(n[v(a)]=!0);function v(d){return d.dim+"_"+d.index}}function kb(t){return t&&t.type!=="category"&&t.type!=="time"&&wH(t)}function KH(t,e){var r=t.getExtent(),n=r[0]+r[1];t.toGlobalCoord=t.dim==="x"?function(i){return i+e}:function(i){return n-i+e},t.toLocalCoord=t.dim==="x"?function(i){return i-e}:function(i){return n-i+e}}var ea=Math.PI,oa=function(){function t(e,r){this.group=new Cr,this.opt=r,this.axisModel=e,$e(r,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var n=new Cr({x:r.position[0],y:r.position[1],rotation:r.rotation});n.updateTransform(),this._transformGroup=n}return t.prototype.hasBuilder=function(e){return!!Ib[e]},t.prototype.add=function(e){Ib[e](this.opt,this.axisModel,this.group,this._transformGroup)},t.prototype.getGroup=function(){return this.group},t.innerTextLayout=function(e,r,n){var i=BC(r-e),a,o;return Kf(i)?(o=n>0?"top":"bottom",a="center"):Kf(i-ea)?(o=n>0?"bottom":"top",a="center"):(o="middle",i>0&&i<ea?a=n>0?"right":"left":a=n>0?"left":"right"),{rotation:i,textAlign:a,textVerticalAlign:o}},t.makeAxisEventDataBase=function(e){var r={componentType:e.mainType,componentIndex:e.componentIndex};return r[e.mainType+"Index"]=e.componentIndex,r},t.isLabelSilent=function(e){var r=e.get("tooltip");return e.get("silent")||!(e.get("triggerEvent")||r&&r.show)},t}(),Ib={axisLine:function(t,e,r,n){var i=e.get(["axisLine","show"]);if(i==="auto"&&t.handleAutoShown&&(i=t.handleAutoShown("axisLine")),!!i){var a=e.axis.getExtent(),o=n.transform,s=[a[0],0],l=[a[1],0],f=s[0]>l[0];o&&(rn(s,s,o),rn(l,l,o));var v=ye({lineCap:"round"},e.getModel(["axisLine","lineStyle"]).getLineStyle()),d=new va({shape:{x1:s[0],y1:s[1],x2:l[0],y2:l[1]},style:v,strokeContainThreshold:t.strokeContainThreshold||5,silent:!0,z2:1});gl(d.shape,d.style.lineWidth),d.anid="line",r.add(d);var g=e.get(["axisLine","symbol"]);if(g!=null){var p=e.get(["axisLine","symbolSize"]);ke(g)&&(g=[g,g]),(ke(p)||Tt(p))&&(p=[p,p]);var y=ME(e.get(["axisLine","symbolOffset"])||0,p),w=p[0],b=p[1];Y([{rotate:t.rotation+Math.PI/2,offset:y[0],r:0},{rotate:t.rotation-Math.PI/2,offset:y[1],r:Math.sqrt((s[0]-l[0])*(s[0]-l[0])+(s[1]-l[1])*(s[1]-l[1]))}],function(x,C){if(g[C]!=="none"&&g[C]!=null){var T=Cl(g[C],-w/2,-b/2,w,b,v.stroke,!0),k=x.r+x.offset,L=f?l:s;T.attr({rotation:x.rotate,x:L[0]+k*Math.cos(t.rotation),y:L[1]-k*Math.sin(t.rotation),silent:!0,z2:11}),r.add(T)}})}}},axisTickLabel:function(t,e,r,n){var i=QH(r,n,e,t),a=e$(r,n,e,t);if(jH(e,a,i),JH(r,n,e,t.tickDirection),e.get(["axisLabel","hideOverlap"])){var o=OH(Me(a,function(s){return{label:s,priority:s.z2,defaultAttr:{ignore:s.ignore}}}));FH(o)}},axisName:function(t,e,r,n){var i=hl(t.axisName,e.get("name"));if(i){var a=e.get("nameLocation"),o=t.nameDirection,s=e.getModel("nameTextStyle"),l=e.get("nameGap")||0,f=e.axis.getExtent(),v=f[0]>f[1]?-1:1,d=[a==="start"?f[0]-v*l:a==="end"?f[1]+v*l:(f[0]+f[1])/2,Lb(a)?t.labelOffset+o*l:0],g,p=e.get("nameRotate");p!=null&&(p=p*ea/180);var y;Lb(a)?g=oa.innerTextLayout(t.rotation,p??t.rotation,o):(g=ZH(t.rotation,a,p||0,f),y=t.axisNameAvailableWidth,y!=null&&(y=Math.abs(y/Math.sin(g.rotation)),!isFinite(y)&&(y=null)));var w=s.getFont(),b=e.get("nameTruncate",!0)||{},x=b.ellipsis,C=hl(t.nameTruncateMaxWidth,b.maxWidth,y),T=new Cn({x:d[0],y:d[1],rotation:g.rotation,silent:oa.isLabelSilent(e),style:ml(s,{text:i,font:w,overflow:"truncate",width:C,ellipsis:x,fill:s.getTextColor()||e.get(["axisLine","lineStyle","color"]),align:s.get("align")||g.textAlign,verticalAlign:s.get("verticalAlign")||g.textVerticalAlign}),z2:1});if(Sm({el:T,componentModel:e,itemName:i}),T.__fullText=i,T.anid="name",e.get("triggerEvent")){var k=oa.makeAxisEventDataBase(e);k.targetType="axisName",k.name=i,ht(T).eventData=k}n.add(T),T.updateTransform(),r.add(T),T.decomposeTransform()}}};function ZH(t,e,r,n){var i=BC(r-t),a,o,s=n[0]>n[1],l=e==="start"&&!s||e!=="start"&&s;return Kf(i-ea/2)?(o=l?"bottom":"top",a="center"):Kf(i-ea*1.5)?(o=l?"top":"bottom",a="center"):(o="middle",i<ea*1.5&&i>ea/2?a=l?"left":"right":a=l?"right":"left"),{rotation:i,textAlign:a,textVerticalAlign:o}}function jH(t,e,r){if(!ck(t.axis)){var n=t.get(["axisLabel","showMinLabel"]),i=t.get(["axisLabel","showMaxLabel"]);e=e||[],r=r||[];var a=e[0],o=e[1],s=e[e.length-1],l=e[e.length-2],f=r[0],v=r[1],d=r[r.length-1],g=r[r.length-2];n===!1?(Ur(a),Ur(f)):Mb(a,o)&&(n?(Ur(o),Ur(v)):(Ur(a),Ur(f))),i===!1?(Ur(s),Ur(d)):Mb(l,s)&&(i?(Ur(l),Ur(g)):(Ur(s),Ur(d)))}}function Ur(t){t&&(t.ignore=!0)}function Mb(t,e){var r=t&&t.getBoundingRect().clone(),n=e&&e.getBoundingRect().clone();if(!(!r||!n)){var i=tm([]);return rm(i,i,-t.rotation),r.applyTransform(fs([],i,t.getLocalTransform())),n.applyTransform(fs([],i,e.getLocalTransform())),r.intersect(n)}}function Lb(t){return t==="middle"||t==="center"}function _k(t,e,r,n,i){for(var a=[],o=[],s=[],l=0;l<t.length;l++){var f=t[l].coord;o[0]=f,o[1]=0,s[0]=f,s[1]=r,e&&(rn(o,o,e),rn(s,s,e));var v=new va({shape:{x1:o[0],y1:o[1],x2:s[0],y2:s[1]},style:n,z2:2,autoBatch:!0,silent:!0});gl(v.shape,v.style.lineWidth),v.anid=i+"_"+t[l].tickValue,a.push(v)}return a}function QH(t,e,r,n){var i=r.axis,a=r.getModel("axisTick"),o=a.get("show");if(o==="auto"&&n.handleAutoShown&&(o=n.handleAutoShown("axisTick")),!(!o||i.scale.isBlank())){for(var s=a.getModel("lineStyle"),l=n.tickDirection*a.get("length"),f=i.getTicksCoords(),v=_k(f,e.transform,l,$e(s.getLineStyle(),{stroke:r.get(["axisLine","lineStyle","color"])}),"ticks"),d=0;d<v.length;d++)t.add(v[d]);return v}}function JH(t,e,r,n){var i=r.axis,a=r.getModel("minorTick");if(!(!a.get("show")||i.scale.isBlank())){var o=i.getMinorTicksCoords();if(o.length)for(var s=a.getModel("lineStyle"),l=n*a.get("length"),f=$e(s.getLineStyle(),$e(r.getModel("axisTick").getLineStyle(),{stroke:r.get(["axisLine","lineStyle","color"])})),v=0;v<o.length;v++)for(var d=_k(o[v],e.transform,l,f,"minorticks_"+v),g=0;g<d.length;g++)t.add(d[g])}}function e$(t,e,r,n){var i=r.axis,a=hl(n.axisLabelShow,r.get(["axisLabel","show"]));if(!(!a||i.scale.isBlank())){var o=r.getModel("axisLabel"),s=o.get("margin"),l=i.getViewLabels(),f=(hl(n.labelRotate,o.get("rotate"))||0)*ea/180,v=oa.innerTextLayout(n.rotation,f,n.labelDirection),d=r.getCategories&&r.getCategories(!0),g=[],p=oa.isLabelSilent(r),y=r.get("triggerEvent");return Y(l,function(w,b){var x=i.scale.type==="ordinal"?i.scale.getRawOrdinalNumber(w.tickValue):w.tickValue,C=w.formattedLabel,T=w.rawLabel,k=o;if(d&&d[x]){var L=d[x];Le(L)&&L.textStyle&&(k=new Nt(L.textStyle,o,r.ecModel))}var M=k.getTextColor()||r.get(["axisLine","lineStyle","color"]),N=i.dataToCoord(x),R=k.getShallow("align",!0)||v.textAlign,D=He(k.getShallow("alignMinLabel",!0),R),F=He(k.getShallow("alignMaxLabel",!0),R),z=k.getShallow("verticalAlign",!0)||k.getShallow("baseline",!0)||v.textVerticalAlign,G=He(k.getShallow("verticalAlignMinLabel",!0),z),q=He(k.getShallow("verticalAlignMaxLabel",!0),z),H=new Cn({x:N,y:n.labelOffset+n.labelDirection*s,rotation:v.rotation,silent:p,z2:10+(w.level||0),style:ml(k,{text:C,align:b===0?D:b===l.length-1?F:R,verticalAlign:b===0?G:b===l.length-1?q:z,fill:ze(M)?M(i.type==="category"?T:i.type==="value"?x+"":x,b):M})});if(H.anid="label_"+x,Sm({el:H,componentModel:r,itemName:C,formatterParamsExtra:{isTruncated:function(){return H.isTruncated},value:T,tickIndex:b}}),y){var V=oa.makeAxisEventDataBase(r);V.targetType="axisLabel",V.value=T,V.tickIndex=b,i.type==="category"&&(V.dataIndex=x),ht(H).eventData=V}e.add(H),H.updateTransform(),g.push(H),t.add(H),H.decomposeTransform()}),g}}function t$(t,e){var r={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return r$(r,t,e),r.seriesInvolved&&i$(r,t),r}function r$(t,e,r){var n=e.getComponent("tooltip"),i=e.getComponent("axisPointer"),a=i.get("link",!0)||[],o=[];Y(r.getCoordinateSystems(),function(s){if(!s.axisPointerEnabled)return;var l=Ml(s.model),f=t.coordSysAxesInfo[l]={};t.coordSysMap[l]=s;var v=s.model,d=v.getModel("tooltip",n);if(Y(s.getAxes(),tn(w,!1,null)),s.getTooltipAxes&&n&&d.get("show")){var g=d.get("trigger")==="axis",p=d.get(["axisPointer","type"])==="cross",y=s.getTooltipAxes(d.get(["axisPointer","axis"]));(g||p)&&Y(y.baseAxes,tn(w,p?"cross":!0,g)),p&&Y(y.otherAxes,tn(w,"cross",!1))}function w(b,x,C){var T=C.model.getModel("axisPointer",i),k=T.get("show");if(!(!k||k==="auto"&&!b&&!fg(T))){x==null&&(x=T.get("triggerTooltip")),T=b?n$(C,d,i,e,b,x):T;var L=T.get("snap"),M=T.get("triggerEmphasis"),N=Ml(C.model),R=x||L||C.type==="category",D=t.axesInfo[N]={key:N,axis:C,coordSys:s,axisPointerModel:T,triggerTooltip:x,triggerEmphasis:M,involveSeries:R,snap:L,useHandle:fg(T),seriesModels:[],linkGroup:null};f[N]=D,t.seriesInvolved=t.seriesInvolved||R;var F=a$(a,C);if(F!=null){var z=o[F]||(o[F]={axesInfo:{}});z.axesInfo[N]=D,z.mapper=a[F].mapper,D.linkGroup=z}}}})}function n$(t,e,r,n,i,a){var o=e.getModel("axisPointer"),s=["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],l={};Y(s,function(g){l[g]=qe(o.get(g))}),l.snap=t.type!=="category"&&!!a,o.get("type")==="cross"&&(l.type="line");var f=l.label||(l.label={});if(f.show==null&&(f.show=!1),i==="cross"){var v=o.get(["label","show"]);if(f.show=v??!0,!a){var d=l.lineStyle=o.get("crossStyle");d&&$e(f,d.textStyle)}}return t.model.getModel("axisPointer",new Nt(l,r,n))}function i$(t,e){e.eachSeries(function(r){var n=r.coordinateSystem,i=r.get(["tooltip","trigger"],!0),a=r.get(["tooltip","show"],!0);!n||i==="none"||i===!1||i==="item"||a===!1||r.get(["axisPointer","show"],!0)===!1||Y(t.coordSysAxesInfo[Ml(n.model)],function(o){var s=o.axis;n.getAxis(s.dim)===s&&(o.seriesModels.push(r),o.seriesDataCount==null&&(o.seriesDataCount=0),o.seriesDataCount+=r.getData().count())})})}function a$(t,e){for(var r=e.model,n=e.dim,i=0;i<t.length;i++){var a=t[i]||{};if(Wd(a[n+"AxisId"],r.id)||Wd(a[n+"AxisIndex"],r.componentIndex)||Wd(a[n+"AxisName"],r.name))return i}}function Wd(t,e){return t==="all"||we(t)&&lt(t,e)>=0||t===e}function o$(t){var e=Km(t);if(e){var r=e.axisPointerModel,n=e.axis.scale,i=r.option,a=r.get("status"),o=r.get("value");o!=null&&(o=n.parse(o));var s=fg(r);a==null&&(i.status=s?"show":"hide");var l=n.getExtent().slice();l[0]>l[1]&&l.reverse(),(o==null||o>l[1])&&(o=l[1]),o<l[0]&&(o=l[0]),i.value=o,s&&(i.status=e.axis.scale.isBlank()?"hide":"show")}}function Km(t){var e=(t.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return e&&e.axesInfo[Ml(t)]}function s$(t){var e=Km(t);return e&&e.axisPointerModel}function fg(t){return!!t.get(["handle","show"])}function Ml(t){return t.type+"||"+t.id}var Pb={},wk=function(t){xe(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.render=function(r,n,i,a){this.axisPointerClass&&o$(r),t.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(r,i,!0)},e.prototype.updateAxisPointer=function(r,n,i,a){this._doUpdateAxisPointerClass(r,i,!1)},e.prototype.remove=function(r,n){var i=this._axisPointer;i&&i.remove(n)},e.prototype.dispose=function(r,n){this._disposeAxisPointer(n),t.prototype.dispose.apply(this,arguments)},e.prototype._doUpdateAxisPointerClass=function(r,n,i){var a=e.getAxisPointerClass(this.axisPointerClass);if(a){var o=s$(r);o?(this._axisPointer||(this._axisPointer=new a)).render(r,o,n,i):this._disposeAxisPointer(n)}},e.prototype._disposeAxisPointer=function(r){this._axisPointer&&this._axisPointer.dispose(r),this._axisPointer=null},e.registerAxisPointerClass=function(r,n){Pb[r]=n},e.getAxisPointerClass=function(r){return r&&Pb[r]},e.type="axis",e}(Mi),hg=Ot();function u$(t,e,r,n){var i=r.axis;if(!i.scale.isBlank()){var a=r.getModel("splitArea"),o=a.getModel("areaStyle"),s=o.get("color"),l=n.coordinateSystem.getRect(),f=i.getTicksCoords({tickModel:a,clamp:!0});if(f.length){var v=s.length,d=hg(t).splitAreaColors,g=Be(),p=0;if(d)for(var y=0;y<f.length;y++){var w=d.get(f[y].tickValue);if(w!=null){p=(w+(v-1)*y)%v;break}}var b=i.toGlobalCoord(f[0].coord),x=o.getAreaStyle();s=we(s)?s:[s];for(var y=1;y<f.length;y++){var C=i.toGlobalCoord(f[y].coord),T=void 0,k=void 0,L=void 0,M=void 0;i.isHorizontal()?(T=b,k=l.y,L=C-T,M=l.height,b=T+L):(T=l.x,k=b,L=l.width,M=C-k,b=k+M);var N=f[y-1].tickValue;N!=null&&g.set(N,p),e.add(new ar({anid:N!=null?"area_"+N:null,shape:{x:T,y:k,width:L,height:M},style:$e({fill:s[p]},x),autoBatch:!0,silent:!0})),p=(p+1)%v}hg(t).splitAreaColors=g}}}function l$(t){hg(t).splitAreaColors=null}var c$=["axisLine","axisTickLabel","axisName"],f$=["splitArea","splitLine","minorSplitLine"],bk=function(t){xe(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r.axisPointerClass="CartesianAxisPointer",r}return e.prototype.render=function(r,n,i,a){this.group.removeAll();var o=this._axisGroup;if(this._axisGroup=new Cr,this.group.add(this._axisGroup),!!r.get("show")){var s=r.getCoordSysModel(),l=cg(s,r),f=new oa(r,ye({handleAutoShown:function(d){for(var g=s.coordinateSystem.getCartesians(),p=0;p<g.length;p++)if(sg(g[p].getOtherAxis(r.axis).scale))return!0;return!1}},l));Y(c$,f.add,f),this._axisGroup.add(f.getGroup()),Y(f$,function(d){r.get([d,"show"])&&h$[d](this,this._axisGroup,r,s)},this);var v=a&&a.type==="changeAxisOrder"&&a.isInitSort;v||TT(o,this._axisGroup,r),t.prototype.render.call(this,r,n,i,a)}},e.prototype.remove=function(){l$(this)},e.type="cartesianAxis",e}(wk),h$={splitLine:function(t,e,r,n){var i=r.axis;if(!i.scale.isBlank()){var a=r.getModel("splitLine"),o=a.getModel("lineStyle"),s=o.get("color"),l=a.get("showMinLine")!==!1,f=a.get("showMaxLine")!==!1;s=we(s)?s:[s];for(var v=n.coordinateSystem.getRect(),d=i.isHorizontal(),g=0,p=i.getTicksCoords({tickModel:a}),y=[],w=[],b=o.getLineStyle(),x=0;x<p.length;x++){var C=i.toGlobalCoord(p[x].coord);if(!(x===0&&!l||x===p.length-1&&!f)){var T=p[x].tickValue;d?(y[0]=C,y[1]=v.y,w[0]=C,w[1]=v.y+v.height):(y[0]=v.x,y[1]=C,w[0]=v.x+v.width,w[1]=C);var k=g++%s.length,L=new va({anid:T!=null?"line_"+T:null,autoBatch:!0,shape:{x1:y[0],y1:y[1],x2:w[0],y2:w[1]},style:$e({stroke:s[k]},b),silent:!0});gl(L.shape,b.lineWidth),e.add(L)}}}},minorSplitLine:function(t,e,r,n){var i=r.axis,a=r.getModel("minorSplitLine"),o=a.getModel("lineStyle"),s=n.coordinateSystem.getRect(),l=i.isHorizontal(),f=i.getMinorTicksCoords();if(f.length)for(var v=[],d=[],g=o.getLineStyle(),p=0;p<f.length;p++)for(var y=0;y<f[p].length;y++){var w=i.toGlobalCoord(f[p][y].coord);l?(v[0]=w,v[1]=s.y,d[0]=w,d[1]=s.y+s.height):(v[0]=s.x,v[1]=w,d[0]=s.x+s.width,d[1]=w);var b=new va({anid:"minor_line_"+f[p][y].tickValue,autoBatch:!0,shape:{x1:v[0],y1:v[1],x2:d[0],y2:d[1]},style:g,silent:!0});gl(b.shape,g.lineWidth),e.add(b)}},splitArea:function(t,e,r,n){u$(t,e,r,n)}},xk=function(t){xe(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.type="xAxis",e}(bk),v$=function(t){xe(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=xk.type,r}return e.type="yAxis",e}(bk),d$=function(t){xe(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="grid",r}return e.prototype.render=function(r,n){this.group.removeAll(),r.get("show")&&this.group.add(new ar({shape:r.coordinateSystem.getRect(),style:$e({fill:r.get("backgroundColor")},r.getItemStyle()),silent:!0,z2:-1}))},e.type="grid",e}(Mi),Nb={offset:0};function p$(t){t.registerComponentView(d$),t.registerComponentModel(BH),t.registerCoordinateSystem("cartesian2d",XH),bb(t,"x",ug,Nb),bb(t,"y",ug,Nb),t.registerComponentView(xk),t.registerComponentView(v$),t.registerPreprocessor(function(e){e.xAxis&&e.yAxis&&!e.grid&&(e.grid={})})}var Ja=Ot(),Ab=qe,Xd=Ct,g$=function(){function t(){this._dragging=!1,this.animationThreshold=15}return t.prototype.render=function(e,r,n,i){var a=r.get("value"),o=r.get("status");if(this._axisModel=e,this._axisPointerModel=r,this._api=n,!(!i&&this._lastValue===a&&this._lastStatus===o)){this._lastValue=a,this._lastStatus=o;var s=this._group,l=this._handle;if(!o||o==="hide"){s&&s.hide(),l&&l.hide();return}s&&s.show(),l&&l.show();var f={};this.makeElOption(f,a,e,r,n);var v=f.graphicKey;v!==this._lastGraphicKey&&this.clear(n),this._lastGraphicKey=v;var d=this._moveAnimation=this.determineAnimation(e,r);if(!s)s=this._group=new Cr,this.createPointerEl(s,f,e,r),this.createLabelEl(s,f,e,r),n.getZr().add(s);else{var g=tn(Db,r,d);this.updatePointerEl(s,f,g),this.updateLabelEl(s,f,g,r)}Ob(s,r,!0),this._renderHandle(a)}},t.prototype.remove=function(e){this.clear(e)},t.prototype.dispose=function(e){this.clear(e)},t.prototype.determineAnimation=function(e,r){var n=r.get("animation"),i=e.axis,a=i.type==="category",o=r.get("snap");if(!o&&!a)return!1;if(n==="auto"||n==null){var s=this.animationThreshold;if(a&&i.getBandWidth()>s)return!0;if(o){var l=Km(e).seriesDataCount,f=i.getExtent();return Math.abs(f[0]-f[1])/l>s}return!1}return n===!0},t.prototype.makeElOption=function(e,r,n,i,a){},t.prototype.createPointerEl=function(e,r,n,i){var a=r.pointer;if(a){var o=Ja(e).pointerEl=new n6[a.type](Ab(r.pointer));e.add(o)}},t.prototype.createLabelEl=function(e,r,n,i){if(r.label){var a=Ja(e).labelEl=new Cn(Ab(r.label));e.add(a),Rb(a,i)}},t.prototype.updatePointerEl=function(e,r,n){var i=Ja(e).pointerEl;i&&r.pointer&&(i.setStyle(r.pointer.style),n(i,{shape:r.pointer.shape}))},t.prototype.updateLabelEl=function(e,r,n,i){var a=Ja(e).labelEl;a&&(a.setStyle(r.label.style),n(a,{x:r.label.x,y:r.label.y}),Rb(a,i))},t.prototype._renderHandle=function(e){if(!(this._dragging||!this.updateHandleTransform)){var r=this._axisPointerModel,n=this._api.getZr(),i=this._handle,a=r.getModel("handle"),o=r.get("status");if(!a.get("show")||!o||o==="hide"){i&&n.remove(i),this._handle=null;return}var s;this._handle||(s=!0,i=this._handle=ET(a.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(f){yC(f.event)},onmousedown:Xd(this._onHandleDragMove,this,0,0),drift:Xd(this._onHandleDragMove,this),ondragend:Xd(this._onHandleDragEnd,this)}),n.add(i)),Ob(i,r,!1),i.setStyle(a.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var l=a.get("size");we(l)||(l=[l,l]),i.scaleX=l[0]/2,i.scaleY=l[1]/2,bE(this,"_doDispatchAxisPointer",a.get("throttle")||0,"fixRate"),this._moveHandleToValue(e,s)}},t.prototype._moveHandleToValue=function(e,r){Db(this._axisPointerModel,!r&&this._moveAnimation,this._handle,Kd(this.getHandleTransform(e,this._axisModel,this._axisPointerModel)))},t.prototype._onHandleDragMove=function(e,r){var n=this._handle;if(n){this._dragging=!0;var i=this.updateHandleTransform(Kd(n),[e,r],this._axisModel,this._axisPointerModel);this._payloadInfo=i,n.stopAnimation(),n.attr(Kd(i)),Ja(n).lastProp=null,this._doDispatchAxisPointer()}},t.prototype._doDispatchAxisPointer=function(){var e=this._handle;if(e){var r=this._payloadInfo,n=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:r.cursorPoint[0],y:r.cursorPoint[1],tooltipOption:r.tooltipOption,axesInfo:[{axisDim:n.axis.dim,axisIndex:n.componentIndex}]})}},t.prototype._onHandleDragEnd=function(){this._dragging=!1;var e=this._handle;if(e){var r=this._axisPointerModel.get("value");this._moveHandleToValue(r),this._api.dispatchAction({type:"hideTip"})}},t.prototype.clear=function(e){this._lastValue=null,this._lastStatus=null;var r=e.getZr(),n=this._group,i=this._handle;r&&n&&(this._lastGraphicKey=null,n&&r.remove(n),i&&r.remove(i),this._group=null,this._handle=null,this._payloadInfo=null),jp(this,"_doDispatchAxisPointer")},t.prototype.doClear=function(){},t.prototype.buildLabel=function(e,r,n){return n=n||0,{x:e[n],y:e[1-n],width:r[n],height:r[1-n]}},t}();function Db(t,e,r,n){Sk(Ja(r).lastProp,n)||(Ja(r).lastProp=n,e?wo(r,n,t):(r.stopAnimation(),r.attr(n)))}function Sk(t,e){if(Le(t)&&Le(e)){var r=!0;return Y(e,function(n,i){r=r&&Sk(t[i],n)}),!!r}else return t===e}function Rb(t,e){t[e.get(["label","show"])?"show":"hide"]()}function Kd(t){return{x:t.x||0,y:t.y||0,rotation:t.rotation||0}}function Ob(t,e,r){var n=e.get("z"),i=e.get("zlevel");t&&t.traverse(function(a){a.type!=="group"&&(n!=null&&(a.z=n),i!=null&&(a.zlevel=i),a.silent=r)})}function m$(t){var e=t.get("type"),r=t.getModel(e+"Style"),n;return e==="line"?(n=r.getLineStyle(),n.fill=null):e==="shadow"&&(n=r.getAreaStyle(),n.stroke=null),n}function y$(t,e,r,n,i){var a=r.get("value"),o=Ck(a,e.axis,e.ecModel,r.get("seriesDataIndices"),{precision:r.get(["label","precision"]),formatter:r.get(["label","formatter"])}),s=r.getModel("label"),l=Pm(s.get("padding")||0),f=s.getFont(),v=om(o,f),d=i.position,g=v.width+l[1]+l[3],p=v.height+l[0]+l[2],y=i.align;y==="right"&&(d[0]-=g),y==="center"&&(d[0]-=g/2);var w=i.verticalAlign;w==="bottom"&&(d[1]-=p),w==="middle"&&(d[1]-=p/2),_$(d,g,p,n);var b=s.get("backgroundColor");(!b||b==="auto")&&(b=e.get(["axisLine","lineStyle","color"])),t.label={x:d[0],y:d[1],style:ml(s,{text:o,font:f,fill:s.getTextColor(),padding:l,backgroundColor:b}),z2:10}}function _$(t,e,r,n){var i=n.getWidth(),a=n.getHeight();t[0]=Math.min(t[0]+e,i)-e,t[1]=Math.min(t[1]+r,a)-r,t[0]=Math.max(t[0],0),t[1]=Math.max(t[1],0)}function Ck(t,e,r,n,i){t=e.scale.parse(t);var a=e.scale.getLabel({value:t},{precision:i.precision}),o=i.formatter;if(o){var s={value:qm(e,{value:t}),axisDimension:e.dim,axisIndex:e.index,seriesData:[]};Y(n,function(l){var f=r.getSeriesByIndex(l.seriesIndex),v=l.dataIndexInside,d=f&&f.getDataParams(v);d&&s.seriesData.push(d)}),ke(o)?a=o.replace("{value}",a):ze(o)&&(a=o(s))}return a}function Tk(t,e,r){var n=cs();return rm(n,n,r.rotation),Cp(n,n,r.position),xm([t.dataToCoord(e),(r.labelOffset||0)+(r.labelDirection||1)*(r.labelMargin||0)],n)}function w$(t,e,r,n,i,a){var o=oa.innerTextLayout(r.rotation,0,r.labelDirection);r.labelMargin=i.get(["label","margin"]),y$(e,n,i,a,{position:Tk(n.axis,t,r),align:o.textAlign,verticalAlign:o.textVerticalAlign})}function b$(t,e,r){return r=r||0,{x1:t[r],y1:t[1-r],x2:e[r],y2:e[1-r]}}function x$(t,e,r){return r=r||0,{x:t[r],y:t[1-r],width:e[r],height:e[1-r]}}var S$=function(t){xe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.makeElOption=function(r,n,i,a,o){var s=i.axis,l=s.grid,f=a.get("type"),v=Fb(l,s).getOtherAxis(s).getGlobalExtent(),d=s.toGlobalCoord(s.dataToCoord(n,!0));if(f&&f!=="none"){var g=m$(a),p=C$[f](s,d,v);p.style=g,r.graphicKey=p.type,r.pointer=p}var y=cg(l.model,i);w$(n,r,y,i,a,o)},e.prototype.getHandleTransform=function(r,n,i){var a=cg(n.axis.grid.model,n,{labelInside:!1});a.labelMargin=i.get(["handle","margin"]);var o=Tk(n.axis,r,a);return{x:o[0],y:o[1],rotation:a.rotation+(a.labelDirection<0?Math.PI:0)}},e.prototype.updateHandleTransform=function(r,n,i,a){var o=i.axis,s=o.grid,l=o.getGlobalExtent(!0),f=Fb(s,o).getOtherAxis(o).getGlobalExtent(),v=o.dim==="x"?0:1,d=[r.x,r.y];d[v]+=n[v],d[v]=Math.min(l[1],d[v]),d[v]=Math.max(l[0],d[v]);var g=(f[1]+f[0])/2,p=[g,g];p[v]=d[v];var y=[{verticalAlign:"middle"},{align:"center"}];return{x:d[0],y:d[1],rotation:r.rotation,cursorPoint:p,tooltipOption:y[v]}},e}(g$);function Fb(t,e){var r={};return r[e.dim+"AxisIndex"]=e.index,t.getCartesian(r)}var C$={line:function(t,e,r){var n=b$([e,r[0]],[e,r[1]],Bb(t));return{type:"Line",subPixelOptimize:!0,shape:n}},shadow:function(t,e,r){var n=Math.max(1,t.getBandWidth()),i=r[1]-r[0];return{type:"Rect",shape:x$([e-n/2,r[0]],[n,i],Bb(t))}}};function Bb(t){return t.dim==="x"?0:1}var T$=function(t){xe(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.type="axisPointer",e.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,triggerEmphasis:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},e}(ut),yi=Ot(),E$=Y;function Ek(t,e,r){if(!Oe.node){var n=e.getZr();yi(n).records||(yi(n).records={}),k$(n,e);var i=yi(n).records[t]||(yi(n).records[t]={});i.handler=r}}function k$(t,e){if(yi(t).initialized)return;yi(t).initialized=!0,r("click",tn(zb,"click")),r("mousemove",tn(zb,"mousemove")),r("globalout",M$);function r(n,i){t.on(n,function(a){var o=L$(e);E$(yi(t).records,function(s){s&&i(s,a,o.dispatchAction)}),I$(o.pendings,e)})}}function I$(t,e){var r=t.showTip.length,n=t.hideTip.length,i;r?i=t.showTip[r-1]:n&&(i=t.hideTip[n-1]),i&&(i.dispatchAction=null,e.dispatchAction(i))}function M$(t,e,r){t.handler("leave",null,r)}function zb(t,e,r,n){e.handler(t,r,n)}function L$(t){var e={showTip:[],hideTip:[]},r=function(n){var i=e[n.type];i?i.push(n):(n.dispatchAction=r,t.dispatchAction(n))};return{dispatchAction:r,pendings:e}}function vg(t,e){if(!Oe.node){var r=e.getZr(),n=(yi(r).records||{})[t];n&&(yi(r).records[t]=null)}}var P$=function(t){xe(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.render=function(r,n,i){var a=n.getComponent("tooltip"),o=r.get("triggerOn")||a&&a.get("triggerOn")||"mousemove|click";Ek("axisPointer",i,function(s,l,f){o!=="none"&&(s==="leave"||o.indexOf(s)>=0)&&f({type:"updateAxisPointer",currTrigger:s,x:l&&l.offsetX,y:l&&l.offsetY})})},e.prototype.remove=function(r,n){vg("axisPointer",n)},e.prototype.dispose=function(r,n){vg("axisPointer",n)},e.type="axisPointer",e}(Mi);function kk(t,e){var r=[],n=t.seriesIndex,i;if(n==null||!(i=e.getSeriesByIndex(n)))return{point:[]};var a=i.getData(),o=_o(a,t);if(o==null||o<0||we(o))return{point:[]};var s=a.getItemGraphicEl(o),l=i.coordinateSystem;if(i.getTooltipPosition)r=i.getTooltipPosition(o)||[];else if(l&&l.dataToPoint)if(t.isStacked){var f=l.getBaseAxis(),v=l.getOtherAxis(f),d=v.dim,g=f.dim,p=d==="x"||d==="radius"?1:0,y=a.mapDimension(g),w=[];w[p]=a.get(y,o),w[1-p]=a.get(a.getCalculationInfo("stackResultDimension"),o),r=l.dataToPoint(w)||[]}else r=l.dataToPoint(a.getValues(Me(l.dimensions,function(x){return a.mapDimension(x)}),o))||[];else if(s){var b=s.getBoundingRect().clone();b.applyTransform(s.transform),r=[b.x+b.width/2,b.y+b.height/2]}return{point:r,el:s}}var Gb=Ot();function N$(t,e,r){var n=t.currTrigger,i=[t.x,t.y],a=t,o=t.dispatchAction||Ct(r.dispatchAction,r),s=e.getComponent("axisPointer").coordSysAxesInfo;if(s){Cf(i)&&(i=kk({seriesIndex:a.seriesIndex,dataIndex:a.dataIndex},e).point);var l=Cf(i),f=a.axesInfo,v=s.axesInfo,d=n==="leave"||Cf(i),g={},p={},y={list:[],map:{}},w={showPointer:tn(D$,p),showTooltip:tn(R$,y)};Y(s.coordSysMap,function(x,C){var T=l||x.containPoint(i);Y(s.coordSysAxesInfo[C],function(k,L){var M=k.axis,N=z$(f,k);if(!d&&T&&(!f||N)){var R=N&&N.value;R==null&&!l&&(R=M.pointToData(i)),R!=null&&Vb(k,R,w,!1,g)}})});var b={};return Y(v,function(x,C){var T=x.linkGroup;T&&!p[C]&&Y(T.axesInfo,function(k,L){var M=p[L];if(k!==x&&M){var N=M.value;T.mapper&&(N=x.axis.scale.parse(T.mapper(N,Hb(k),Hb(x)))),b[x.key]=N}})}),Y(b,function(x,C){Vb(v[C],x,w,!0,g)}),O$(p,v,g),F$(y,i,t,o),B$(v,o,r),g}}function Vb(t,e,r,n,i){var a=t.axis;if(!(a.scale.isBlank()||!a.containData(e))){if(!t.involveSeries){r.showPointer(t,e);return}var o=A$(e,t),s=o.payloadBatch,l=o.snapToValue;s[0]&&i.seriesIndex==null&&ye(i,s[0]),!n&&t.snap&&a.containData(l)&&l!=null&&(e=l),r.showPointer(t,e,s),r.showTooltip(t,o,l)}}function A$(t,e){var r=e.axis,n=r.dim,i=t,a=[],o=Number.MAX_VALUE,s=-1;return Y(e.seriesModels,function(l,f){var v=l.getData().mapDimensionsAll(n),d,g;if(l.getAxisTooltipData){var p=l.getAxisTooltipData(v,t,r);g=p.dataIndices,d=p.nestestValue}else{if(g=l.getData().indicesOfNearest(v[0],t,r.type==="category"?.5:null),!g.length)return;d=l.getData().get(v[0],g[0])}if(!(d==null||!isFinite(d))){var y=t-d,w=Math.abs(y);w<=o&&((w<o||y>=0&&s<0)&&(o=w,s=y,i=d,a.length=0),Y(g,function(b){a.push({seriesIndex:l.seriesIndex,dataIndexInside:b,dataIndex:l.getData().getRawIndex(b)})}))}}),{payloadBatch:a,snapToValue:i}}function D$(t,e,r,n){t[e.key]={value:r,payloadBatch:n}}function R$(t,e,r,n){var i=r.payloadBatch,a=e.axis,o=a.model,s=e.axisPointerModel;if(!(!e.triggerTooltip||!i.length)){var l=e.coordSys.model,f=Ml(l),v=t.map[f];v||(v=t.map[f]={coordSysId:l.id,coordSysIndex:l.componentIndex,coordSysType:l.type,coordSysMainType:l.mainType,dataByAxis:[]},t.list.push(v)),v.dataByAxis.push({axisDim:a.dim,axisIndex:o.componentIndex,axisType:o.type,axisId:o.id,value:n,valueLabelOpt:{precision:s.get(["label","precision"]),formatter:s.get(["label","formatter"])},seriesDataIndices:i.slice()})}}function O$(t,e,r){var n=r.axesInfo=[];Y(e,function(i,a){var o=i.axisPointerModel.option,s=t[a];s?(!i.useHandle&&(o.status="show"),o.value=s.value,o.seriesDataIndices=(s.payloadBatch||[]).slice()):!i.useHandle&&(o.status="hide"),o.status==="show"&&n.push({axisDim:i.axis.dim,axisIndex:i.axis.model.componentIndex,value:o.value})})}function F$(t,e,r,n){if(Cf(e)||!t.list.length){n({type:"hideTip"});return}var i=((t.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};n({type:"showTip",escapeConnect:!0,x:e[0],y:e[1],tooltipOption:r.tooltipOption,position:r.position,dataIndexInside:i.dataIndexInside,dataIndex:i.dataIndex,seriesIndex:i.seriesIndex,dataByCoordSys:t.list})}function B$(t,e,r){var n=r.getZr(),i="axisPointerLastHighlights",a=Gb(n)[i]||{},o=Gb(n)[i]={};Y(t,function(f,v){var d=f.axisPointerModel.option;d.status==="show"&&f.triggerEmphasis&&Y(d.seriesDataIndices,function(g){var p=g.seriesIndex+" | "+g.dataIndex;o[p]=g})});var s=[],l=[];Y(a,function(f,v){!o[v]&&l.push(f)}),Y(o,function(f,v){!a[v]&&s.push(f)}),l.length&&r.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:l}),s.length&&r.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:s})}function z$(t,e){for(var r=0;r<(t||[]).length;r++){var n=t[r];if(e.axis.dim===n.axisDim&&e.axis.model.componentIndex===n.axisIndex)return n}}function Hb(t){var e=t.axis.model,r={},n=r.axisDim=t.axis.dim;return r.axisIndex=r[n+"AxisIndex"]=e.componentIndex,r.axisName=r[n+"AxisName"]=e.name,r.axisId=r[n+"AxisId"]=e.id,r}function Cf(t){return!t||t[0]==null||isNaN(t[0])||t[1]==null||isNaN(t[1])}function Ik(t){wk.registerAxisPointerClass("CartesianAxisPointer",S$),t.registerComponentModel(T$),t.registerComponentView(P$),t.registerPreprocessor(function(e){if(e){(!e.axisPointer||e.axisPointer.length===0)&&(e.axisPointer={});var r=e.axisPointer.link;r&&!we(r)&&(e.axisPointer.link=[r])}}),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,function(e,r){e.getComponent("axisPointer").coordSysAxesInfo=t$(e,r)}),t.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},N$)}function G$(t){kl(p$),kl(Ik)}var V$=function(t){xe(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.type="tooltip",e.dependencies=["axisPointer"],e.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},e}(ut);function Mk(t){var e=t.get("confine");return e!=null?!!e:t.get("renderMode")==="richText"}function Lk(t){if(Oe.domSupported){for(var e=document.documentElement.style,r=0,n=t.length;r<n;r++)if(t[r]in e)return t[r]}}var Pk=Lk(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),H$=Lk(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function Nk(t,e){if(!t)return e;e=$T(e,!0);var r=t.indexOf(e);return t=r===-1?e:"-"+t.slice(0,r)+"-"+e,t.toLowerCase()}function $$(t,e){var r=t.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(t);return r?r[e]:null}var U$=Nk(H$,"transition"),Zm=Nk(Pk,"transform"),Y$="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(Oe.transform3dSupported?"will-change:transform;":"");function q$(t){return t=t==="left"?"right":t==="right"?"left":t==="top"?"bottom":"top",t}function W$(t,e,r){if(!ke(r)||r==="inside")return"";var n=t.get("backgroundColor"),i=t.get("borderWidth");e=bo(e);var a=q$(r),o=Math.max(Math.round(i)*1.5,6),s="",l=Zm+":",f;lt(["left","right"],a)>-1?(s+="top:50%",l+="translateY(-50%) rotate("+(f=a==="left"?-225:-45)+"deg)"):(s+="left:50%",l+="translateX(-50%) rotate("+(f=a==="top"?225:45)+"deg)");var v=f*Math.PI/180,d=o+i,g=d*Math.abs(Math.cos(v))+d*Math.abs(Math.sin(v)),p=Math.round(((g-Math.SQRT2*i)/2+Math.SQRT2*i-(g-d)/2)*100)/100;s+=";"+a+":-"+p+"px";var y=e+" solid "+i+"px;",w=["position:absolute;width:"+o+"px;height:"+o+"px;z-index:-1;",s+";"+l+";","border-bottom:"+y,"border-right:"+y,"background-color:"+n+";"];return'<div style="'+w.join("")+'"></div>'}function X$(t,e){var r="cubic-bezier(0.23,1,0.32,1)",n=" "+t/2+"s "+r,i="opacity"+n+",visibility"+n;return e||(n=" "+t+"s "+r,i+=Oe.transformSupported?","+Zm+n:",left"+n+",top"+n),U$+":"+i}function $b(t,e,r){var n=t.toFixed(0)+"px",i=e.toFixed(0)+"px";if(!Oe.transformSupported)return r?"top:"+i+";left:"+n+";":[["top",i],["left",n]];var a=Oe.transform3dSupported,o="translate"+(a?"3d":"")+"("+n+","+i+(a?",0":"")+")";return r?"top:0;left:0;"+Zm+":"+o+";":[["top",0],["left",0],[Pk,o]]}function K$(t){var e=[],r=t.get("fontSize"),n=t.getTextColor();n&&e.push("color:"+n),e.push("font:"+t.getFont());var i=He(t.get("lineHeight"),Math.round(r*3/2));r&&e.push("line-height:"+i+"px");var a=t.get("textShadowColor"),o=t.get("textShadowBlur")||0,s=t.get("textShadowOffsetX")||0,l=t.get("textShadowOffsetY")||0;return a&&o&&e.push("text-shadow:"+s+"px "+l+"px "+o+"px "+a),Y(["decoration","align"],function(f){var v=t.get(f);v&&e.push("text-"+f+":"+v)}),e.join(";")}function Z$(t,e,r){var n=[],i=t.get("transitionDuration"),a=t.get("backgroundColor"),o=t.get("shadowBlur"),s=t.get("shadowColor"),l=t.get("shadowOffsetX"),f=t.get("shadowOffsetY"),v=t.getModel("textStyle"),d=mE(t,"html"),g=l+"px "+f+"px "+o+"px "+s;return n.push("box-shadow:"+g),e&&i&&n.push(X$(i,r)),a&&n.push("background-color:"+a),Y(["width","color","radius"],function(p){var y="border-"+p,w=$T(y),b=t.get(w);b!=null&&n.push(y+":"+b+(p==="color"?"":"px"))}),n.push(K$(v)),d!=null&&n.push("padding:"+Pm(d).join("px ")+"px"),n.join(";")+";"}function Ub(t,e,r,n,i){var a=e&&e.painter;if(r){var o=a&&a.getViewportRoot();o&&y5(t,o,r,n,i)}else{t[0]=n,t[1]=i;var s=a&&a.getViewportRootOffset();s&&(t[0]+=s.offsetLeft,t[1]+=s.offsetTop)}t[2]=t[0]/e.getWidth(),t[3]=t[1]/e.getHeight()}var j$=function(){function t(e,r){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._alwaysShowContent=!1,this._firstShow=!0,this._longHide=!0,Oe.wxa)return null;var n=document.createElement("div");n.domBelongToZr=!0,this.el=n;var i=this._zr=e.getZr(),a=r.appendTo,o=a&&(ke(a)?document.querySelector(a):fl(a)?a:ze(a)&&a(e.getDom()));Ub(this._styleCoord,i,o,e.getWidth()/2,e.getHeight()/2),(o||e.getDom()).appendChild(n),this._api=e,this._container=o;var s=this;n.onmouseenter=function(){s._enterable&&(clearTimeout(s._hideTimeout),s._show=!0),s._inContent=!0},n.onmousemove=function(l){if(l=l||window.event,!s._enterable){var f=i.handler,v=i.painter.getViewportRoot();Xr(v,l,!0),f.dispatch("mousemove",l)}},n.onmouseleave=function(){s._inContent=!1,s._enterable&&s._show&&s.hideLater(s._hideDelay)}}return t.prototype.update=function(e){if(!this._container){var r=this._api.getDom(),n=$$(r,"position"),i=r.style;i.position!=="absolute"&&n!=="absolute"&&(i.position="relative")}var a=e.get("alwaysShowContent");a&&this._moveIfResized(),this._alwaysShowContent=a,this.el.className=e.get("className")||""},t.prototype.show=function(e,r){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var n=this.el,i=n.style,a=this._styleCoord;n.innerHTML?i.cssText=Y$+Z$(e,!this._firstShow,this._longHide)+$b(a[0],a[1],!0)+("border-color:"+bo(r)+";")+(e.get("extraCssText")||"")+(";pointer-events:"+(this._enterable?"auto":"none")):i.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},t.prototype.setContent=function(e,r,n,i,a){var o=this.el;if(e==null){o.innerHTML="";return}var s="";if(ke(a)&&n.get("trigger")==="item"&&!Mk(n)&&(s=W$(n,i,a)),ke(e))o.innerHTML=e+s;else if(e){o.innerHTML="",we(e)||(e=[e]);for(var l=0;l<e.length;l++)fl(e[l])&&e[l].parentNode!==o&&o.appendChild(e[l]);if(s&&o.childNodes.length){var f=document.createElement("div");f.innerHTML=s,o.appendChild(f)}}},t.prototype.setEnterable=function(e){this._enterable=e},t.prototype.getSize=function(){var e=this.el;return e?[e.offsetWidth,e.offsetHeight]:[0,0]},t.prototype.moveTo=function(e,r){if(this.el){var n=this._styleCoord;if(Ub(n,this._zr,this._container,e,r),n[0]!=null&&n[1]!=null){var i=this.el.style,a=$b(n[0],n[1]);Y(a,function(o){i[o[0]]=o[1]})}}},t.prototype._moveIfResized=function(){var e=this._styleCoord[2],r=this._styleCoord[3];this.moveTo(e*this._zr.getWidth(),r*this._zr.getHeight())},t.prototype.hide=function(){var e=this,r=this.el.style;r.visibility="hidden",r.opacity="0",Oe.transform3dSupported&&(r.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return e._longHide=!0},500)},t.prototype.hideLater=function(e){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(Ct(this.hide,this),e)):this.hide())},t.prototype.isShow=function(){return this._show},t.prototype.dispose=function(){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var e=this.el.parentNode;e&&e.removeChild(this.el),this.el=this._container=null},t}(),Q$=function(){function t(e){this._show=!1,this._styleCoord=[0,0,0,0],this._alwaysShowContent=!1,this._enterable=!0,this._zr=e.getZr(),qb(this._styleCoord,this._zr,e.getWidth()/2,e.getHeight()/2)}return t.prototype.update=function(e){var r=e.get("alwaysShowContent");r&&this._moveIfResized(),this._alwaysShowContent=r},t.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},t.prototype.setContent=function(e,r,n,i,a){var o=this;Le(e)&&dr(""),this.el&&this._zr.remove(this.el);var s=n.getModel("textStyle");this.el=new Cn({style:{rich:r.richTextStyles,text:e,lineHeight:22,borderWidth:1,borderColor:i,textShadowColor:s.get("textShadowColor"),fill:n.get(["textStyle","color"]),padding:mE(n,"richText"),verticalAlign:"top",align:"left"},z:n.get("z")}),Y(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(f){o.el.style[f]=n.get(f)}),Y(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(f){o.el.style[f]=s.get(f)||0}),this._zr.add(this.el);var l=this;this.el.on("mouseover",function(){l._enterable&&(clearTimeout(l._hideTimeout),l._show=!0),l._inContent=!0}),this.el.on("mouseout",function(){l._enterable&&l._show&&l.hideLater(l._hideDelay),l._inContent=!1})},t.prototype.setEnterable=function(e){this._enterable=e},t.prototype.getSize=function(){var e=this.el,r=this.el.getBoundingRect(),n=Yb(e.style);return[r.width+n.left+n.right,r.height+n.top+n.bottom]},t.prototype.moveTo=function(e,r){var n=this.el;if(n){var i=this._styleCoord;qb(i,this._zr,e,r),e=i[0],r=i[1];var a=n.style,o=Xi(a.borderWidth||0),s=Yb(a);n.x=e+o+s.left,n.y=r+o+s.top,n.markRedraw()}},t.prototype._moveIfResized=function(){var e=this._styleCoord[2],r=this._styleCoord[3];this.moveTo(e*this._zr.getWidth(),r*this._zr.getHeight())},t.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},t.prototype.hideLater=function(e){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(Ct(this.hide,this),e)):this.hide())},t.prototype.isShow=function(){return this._show},t.prototype.dispose=function(){this._zr.remove(this.el)},t}();function Xi(t){return Math.max(0,t)}function Yb(t){var e=Xi(t.shadowBlur||0),r=Xi(t.shadowOffsetX||0),n=Xi(t.shadowOffsetY||0);return{left:Xi(e-r),right:Xi(e+r),top:Xi(e-n),bottom:Xi(e+n)}}function qb(t,e,r,n){t[0]=r,t[1]=n,t[2]=t[0]/e.getWidth(),t[3]=t[1]/e.getHeight()}var J$=new ar({shape:{x:-1,y:-1,width:2,height:2}}),eU=function(t){xe(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.init=function(r,n){if(!(Oe.node||!n.getDom())){var i=r.getComponent("tooltip"),a=this._renderMode=YB(i.get("renderMode"));this._tooltipContent=a==="richText"?new Q$(n):new j$(n,{appendTo:i.get("appendToBody",!0)?"body":i.get("appendTo",!0)})}},e.prototype.render=function(r,n,i){if(!(Oe.node||!i.getDom())){this.group.removeAll(),this._tooltipModel=r,this._ecModel=n,this._api=i;var a=this._tooltipContent;a.update(r),a.setEnterable(r.get("enterable")),this._initGlobalListener(),this._keepShow(),this._renderMode!=="richText"&&r.get("transitionDuration")?bE(this,"_updatePosition",50,"fixRate"):jp(this,"_updatePosition")}},e.prototype._initGlobalListener=function(){var r=this._tooltipModel,n=r.get("triggerOn");Ek("itemTooltip",this._api,Ct(function(i,a,o){n!=="none"&&(n.indexOf(i)>=0?this._tryShow(a,o):i==="leave"&&this._hide(o))},this))},e.prototype._keepShow=function(){var r=this._tooltipModel,n=this._ecModel,i=this._api,a=r.get("triggerOn");if(this._lastX!=null&&this._lastY!=null&&a!=="none"&&a!=="click"){var o=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!i.isDisposed()&&o.manuallyShowTip(r,n,i,{x:o._lastX,y:o._lastY,dataByCoordSys:o._lastDataByCoordSys})})}},e.prototype.manuallyShowTip=function(r,n,i,a){if(!(a.from===this.uid||Oe.node||!i.getDom())){var o=Wb(a,i);this._ticket="";var s=a.dataByCoordSys,l=iU(a,n,i);if(l){var f=l.el.getBoundingRect().clone();f.applyTransform(l.el.transform),this._tryShow({offsetX:f.x+f.width/2,offsetY:f.y+f.height/2,target:l.el,position:a.position,positionDefault:"bottom"},o)}else if(a.tooltip&&a.x!=null&&a.y!=null){var v=J$;v.x=a.x,v.y=a.y,v.update(),ht(v).tooltipConfig={name:null,option:a.tooltip},this._tryShow({offsetX:a.x,offsetY:a.y,target:v},o)}else if(s)this._tryShow({offsetX:a.x,offsetY:a.y,position:a.position,dataByCoordSys:s,tooltipOption:a.tooltipOption},o);else if(a.seriesIndex!=null){if(this._manuallyAxisShowTip(r,n,i,a))return;var d=kk(a,n),g=d.point[0],p=d.point[1];g!=null&&p!=null&&this._tryShow({offsetX:g,offsetY:p,target:d.el,position:a.position,positionDefault:"bottom"},o)}else a.x!=null&&a.y!=null&&(i.dispatchAction({type:"updateAxisPointer",x:a.x,y:a.y}),this._tryShow({offsetX:a.x,offsetY:a.y,position:a.position,target:i.getZr().findHover(a.x,a.y).target},o))}},e.prototype.manuallyHideTip=function(r,n,i,a){var o=this._tooltipContent;this._tooltipModel&&o.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,a.from!==this.uid&&this._hide(Wb(a,i))},e.prototype._manuallyAxisShowTip=function(r,n,i,a){var o=a.seriesIndex,s=a.dataIndex,l=n.getComponent("axisPointer").coordSysAxesInfo;if(!(o==null||s==null||l==null)){var f=n.getSeriesByIndex(o);if(f){var v=f.getData(),d=Lu([v.getItemModel(s),f,(f.coordinateSystem||{}).model],this._tooltipModel);if(d.get("trigger")==="axis")return i.dispatchAction({type:"updateAxisPointer",seriesIndex:o,dataIndex:s,position:a.position}),!0}}},e.prototype._tryShow=function(r,n){var i=r.target,a=this._tooltipModel;if(a){this._lastX=r.offsetX,this._lastY=r.offsetY;var o=r.dataByCoordSys;if(o&&o.length)this._showAxisTooltip(o,r);else if(i){var s=ht(i);if(s.ssrType==="legend")return;this._lastDataByCoordSys=null;var l,f;zu(i,function(v){if(ht(v).dataIndex!=null)return l=v,!0;if(ht(v).tooltipConfig!=null)return f=v,!0},!0),l?this._showSeriesItemTooltip(r,l,n):f?this._showComponentItemTooltip(r,f,n):this._hide(n)}else this._lastDataByCoordSys=null,this._hide(n)}},e.prototype._showOrMove=function(r,n){var i=r.get("showDelay");n=Ct(n,this),clearTimeout(this._showTimout),i>0?this._showTimout=setTimeout(n,i):n()},e.prototype._showAxisTooltip=function(r,n){var i=this._ecModel,a=this._tooltipModel,o=[n.offsetX,n.offsetY],s=Lu([n.tooltipOption],a),l=this._renderMode,f=[],v=xl("section",{blocks:[],noHeader:!0}),d=[],g=new Nd;Y(r,function(C){Y(C.dataByAxis,function(T){var k=i.getComponent(T.axisDim+"Axis",T.axisIndex),L=T.value;if(!(!k||L==null)){var M=Ck(L,k.axis,i,T.seriesDataIndices,T.valueLabelOpt),N=xl("section",{header:M,noHeader:!Hn(M),sortBlocks:!0,blocks:[]});v.blocks.push(N),Y(T.seriesDataIndices,function(R){var D=i.getSeriesByIndex(R.seriesIndex),F=R.dataIndexInside,z=D.getDataParams(F);if(!(z.dataIndex<0)){z.axisDim=T.axisDim,z.axisIndex=T.axisIndex,z.axisType=T.axisType,z.axisId=T.axisId,z.axisValue=qm(k.axis,{value:L}),z.axisValueLabel=M,z.marker=g.makeTooltipMarker("item",bo(z.color),l);var G=Tw(D.formatTooltip(F,!0,null)),q=G.frag;if(q){var H=Lu([D],a).get("valueFormatter");N.blocks.push(H?ye({valueFormatter:H},q):q)}G.text&&d.push(G.text),f.push(z)}})}})}),v.blocks.reverse(),d.reverse();var p=n.position,y=s.get("order"),w=Lw(v,g,l,y,i.get("useUTC"),s.get("textStyle"));w&&d.unshift(w);var b=l==="richText"?`

`:"<br/>",x=d.join(b);this._showOrMove(s,function(){this._updateContentNotChangedOnAxis(r,f)?this._updatePosition(s,p,o[0],o[1],this._tooltipContent,f):this._showTooltipContent(s,x,f,Math.random()+"",o[0],o[1],p,null,g)})},e.prototype._showSeriesItemTooltip=function(r,n,i){var a=this._ecModel,o=ht(n),s=o.seriesIndex,l=a.getSeriesByIndex(s),f=o.dataModel||l,v=o.dataIndex,d=o.dataType,g=f.getData(d),p=this._renderMode,y=r.positionDefault,w=Lu([g.getItemModel(v),f,l&&(l.coordinateSystem||{}).model],this._tooltipModel,y?{position:y}:null),b=w.get("trigger");if(!(b!=null&&b!=="item")){var x=f.getDataParams(v,d),C=new Nd;x.marker=C.makeTooltipMarker("item",bo(x.color),p);var T=Tw(f.formatTooltip(v,!1,d)),k=w.get("order"),L=w.get("valueFormatter"),M=T.frag,N=M?Lw(L?ye({valueFormatter:L},M):M,C,p,k,a.get("useUTC"),w.get("textStyle")):T.text,R="item_"+f.name+"_"+v;this._showOrMove(w,function(){this._showTooltipContent(w,N,x,R,r.offsetX,r.offsetY,r.position,r.target,C)}),i({type:"showTip",dataIndexInside:v,dataIndex:g.getRawIndex(v),seriesIndex:s,from:this.uid})}},e.prototype._showComponentItemTooltip=function(r,n,i){var a=this._renderMode==="html",o=ht(n),s=o.tooltipConfig,l=s.option||{},f=l.encodeHTMLContent;if(ke(l)){var v=l;l={content:v,formatter:v},f=!0}f&&a&&l.content&&(l=qe(l),l.content=hr(l.content));var d=[l],g=this._ecModel.getComponent(o.componentMainType,o.componentIndex);g&&d.push(g),d.push({formatter:l.content});var p=r.positionDefault,y=Lu(d,this._tooltipModel,p?{position:p}:null),w=y.get("content"),b=Math.random()+"",x=new Nd;this._showOrMove(y,function(){var C=qe(y.get("formatterParams")||{});this._showTooltipContent(y,w,C,b,r.offsetX,r.offsetY,r.position,n,x)}),i({type:"showTip",from:this.uid})},e.prototype._showTooltipContent=function(r,n,i,a,o,s,l,f,v){if(this._ticket="",!(!r.get("showContent")||!r.get("show"))){var d=this._tooltipContent;d.setEnterable(r.get("enterable"));var g=r.get("formatter");l=l||r.get("position");var p=n,y=this._getNearestPoint([o,s],i,r.get("trigger"),r.get("borderColor")),w=y.color;if(g)if(ke(g)){var b=r.ecModel.get("useUTC"),x=we(i)?i[0]:i,C=x&&x.axisType&&x.axisType.indexOf("time")>=0;p=g,C&&(p=Wh(x.axisValue,p,b)),p=UT(p,i,!0)}else if(ze(g)){var T=Ct(function(k,L){k===this._ticket&&(d.setContent(L,v,r,w,l),this._updatePosition(r,l,o,s,d,i,f))},this);this._ticket=a,p=g(i,a,T)}else p=g;d.setContent(p,v,r,w,l),d.show(r,w),this._updatePosition(r,l,o,s,d,i,f)}},e.prototype._getNearestPoint=function(r,n,i,a){if(i==="axis"||we(n))return{color:a||(this._renderMode==="html"?"#fff":"none")};if(!we(n))return{color:a||n.color||n.borderColor}},e.prototype._updatePosition=function(r,n,i,a,o,s,l){var f=this._api.getWidth(),v=this._api.getHeight();n=n||r.get("position");var d=o.getSize(),g=r.get("align"),p=r.get("verticalAlign"),y=l&&l.getBoundingRect().clone();if(l&&y.applyTransform(l.transform),ze(n)&&(n=n([i,a],s,o.el,y,{viewSize:[f,v],contentSize:d.slice()})),we(n))i=ir(n[0],f),a=ir(n[1],v);else if(Le(n)){var w=n;w.width=d[0],w.height=d[1];var b=qT(w,{width:f,height:v});i=b.x,a=b.y,g=null,p=null}else if(ke(n)&&l){var x=nU(n,y,d,r.get("borderWidth"));i=x[0],a=x[1]}else{var x=tU(i,a,o,f,v,g?null:20,p?null:20);i=x[0],a=x[1]}if(g&&(i-=Xb(g)?d[0]/2:g==="right"?d[0]:0),p&&(a-=Xb(p)?d[1]/2:p==="bottom"?d[1]:0),Mk(r)){var x=rU(i,a,o,f,v);i=x[0],a=x[1]}o.moveTo(i,a)},e.prototype._updateContentNotChangedOnAxis=function(r,n){var i=this._lastDataByCoordSys,a=this._cbParamsList,o=!!i&&i.length===r.length;return o&&Y(i,function(s,l){var f=s.dataByAxis||[],v=r[l]||{},d=v.dataByAxis||[];o=o&&f.length===d.length,o&&Y(f,function(g,p){var y=d[p]||{},w=g.seriesDataIndices||[],b=y.seriesDataIndices||[];o=o&&g.value===y.value&&g.axisType===y.axisType&&g.axisId===y.axisId&&w.length===b.length,o&&Y(w,function(x,C){var T=b[C];o=o&&x.seriesIndex===T.seriesIndex&&x.dataIndex===T.dataIndex}),a&&Y(g.seriesDataIndices,function(x){var C=x.seriesIndex,T=n[C],k=a[C];T&&k&&k.data!==T.data&&(o=!1)})})}),this._lastDataByCoordSys=r,this._cbParamsList=n,!!o},e.prototype._hide=function(r){this._lastDataByCoordSys=null,r({type:"hideTip",from:this.uid})},e.prototype.dispose=function(r,n){Oe.node||!n.getDom()||(jp(this,"_updatePosition"),this._tooltipContent.dispose(),vg("itemTooltip",n))},e.type="tooltip",e}(Mi);function Lu(t,e,r){var n=e.ecModel,i;r?(i=new Nt(r,n,n),i=new Nt(e.option,i,n)):i=e;for(var a=t.length-1;a>=0;a--){var o=t[a];o&&(o instanceof Nt&&(o=o.get("tooltip",!0)),ke(o)&&(o={formatter:o}),o&&(i=new Nt(o,i,n)))}return i}function Wb(t,e){return t.dispatchAction||Ct(e.dispatchAction,e)}function tU(t,e,r,n,i,a,o){var s=r.getSize(),l=s[0],f=s[1];return a!=null&&(t+l+a+2>n?t-=l+a:t+=a),o!=null&&(e+f+o>i?e-=f+o:e+=o),[t,e]}function rU(t,e,r,n,i){var a=r.getSize(),o=a[0],s=a[1];return t=Math.min(t+o,n)-o,e=Math.min(e+s,i)-s,t=Math.max(t,0),e=Math.max(e,0),[t,e]}function nU(t,e,r,n){var i=r[0],a=r[1],o=Math.ceil(Math.SQRT2*n)+8,s=0,l=0,f=e.width,v=e.height;switch(t){case"inside":s=e.x+f/2-i/2,l=e.y+v/2-a/2;break;case"top":s=e.x+f/2-i/2,l=e.y-a-o;break;case"bottom":s=e.x+f/2-i/2,l=e.y+v+o;break;case"left":s=e.x-i-o,l=e.y+v/2-a/2;break;case"right":s=e.x+f+o,l=e.y+v/2-a/2}return[s,l]}function Xb(t){return t==="center"||t==="middle"}function iU(t,e,r){var n=lm(t).queryOptionMap,i=n.keys()[0];if(!(!i||i==="series")){var a=Gl(e,i,n.get(i),{useDefault:!1,enableAll:!1,enableNone:!1}),o=a.models[0];if(o){var s=r.getViewOfComponentModel(o),l;if(s.group.traverse(function(f){var v=ht(f).tooltipConfig;if(v&&v.name===t.name)return l=f,!0}),l)return{componentMainType:i,componentIndex:o.componentIndex,el:l}}}}function aU(t){kl(Ik),t.registerComponentModel(V$),t.registerComponentView(eU),t.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},br),t.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},br)}function Ak(t,e){var r=t.mapDimensionsAll("defaultedLabel"),n=r.length;if(n===1){var i=Ls(t,e,r[0]);return i!=null?i+"":null}else if(n){for(var a=[],o=0;o<r.length;o++)a.push(Ls(t,e,r[o]));return a.join(" ")}}function oU(t,e){var r=t.mapDimensionsAll("defaultedLabel");if(!we(e))return e+"";for(var n=[],i=0;i<r.length;i++){var a=t.getDimensionIndex(r[i]);a>=0&&n.push(e[a])}return n.join(" ")}var jm=function(t){xe(e,t);function e(r,n,i,a){var o=t.call(this)||this;return o.updateData(r,n,i,a),o}return e.prototype._createSymbol=function(r,n,i,a,o){this.removeAll();var s=Cl(r,-1,-1,2,2,null,o);s.attr({z2:100,culling:!0,scaleX:a[0]/2,scaleY:a[1]/2}),s.drift=sU,this._symbolType=r,this.add(s)},e.prototype.stopSymbolAnimation=function(r){this.childAt(0).stopAnimation(null,r)},e.prototype.getSymbolType=function(){return this._symbolType},e.prototype.getSymbolPath=function(){return this.childAt(0)},e.prototype.highlight=function(){Qf(this.childAt(0))},e.prototype.downplay=function(){Jf(this.childAt(0))},e.prototype.setZ=function(r,n){var i=this.childAt(0);i.zlevel=r,i.z=n},e.prototype.setDraggable=function(r,n){var i=this.childAt(0);i.draggable=r,i.cursor=!n&&r?"move":i.cursor},e.prototype.updateData=function(r,n,i,a){this.silent=!1;var o=r.getItemVisual(n,"symbol")||"circle",s=r.hostModel,l=e.getSymbolSize(r,n),f=o!==this._symbolType,v=a&&a.disableAnimation;if(f){var d=r.getItemVisual(n,"symbolKeepAspect");this._createSymbol(o,r,n,l,d)}else{var g=this.childAt(0);g.silent=!1;var p={scaleX:l[0]/2,scaleY:l[1]/2};v?g.attr(p):wo(g,p,s,n),Vz(g)}if(this._updateCommon(r,n,l,i,a),f){var g=this.childAt(0);if(!v){var p={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:g.style.opacity}};g.scaleX=g.scaleY=0,g.style.opacity=0,$s(g,p,s,n)}}v&&this.childAt(0).stopAnimation("leave")},e.prototype._updateCommon=function(r,n,i,a,o){var s=this.childAt(0),l=r.hostModel,f,v,d,g,p,y,w,b,x;if(a&&(f=a.emphasisItemStyle,v=a.blurItemStyle,d=a.selectItemStyle,g=a.focus,p=a.blurScope,w=a.labelStatesModels,b=a.hoverScale,x=a.cursorStyle,y=a.emphasisDisabled),!a||r.hasItemOption){var C=a&&a.itemModel?a.itemModel:r.getItemModel(n),T=C.getModel("emphasis");f=T.getModel("itemStyle").getItemStyle(),d=C.getModel(["select","itemStyle"]).getItemStyle(),v=C.getModel(["blur","itemStyle"]).getItemStyle(),g=T.get("focus"),p=T.get("blurScope"),y=T.get("disabled"),w=Tm(C),b=T.getShallow("scale"),x=C.getShallow("cursor")}var k=r.getItemVisual(n,"symbolRotate");s.attr("rotation",(k||0)*Math.PI/180||0);var L=ME(r.getItemVisual(n,"symbolOffset"),i);L&&(s.x=L[0],s.y=L[1]),x&&s.attr("cursor",x);var M=r.getItemVisual(n,"style"),N=M.fill;if(s instanceof ya){var R=s.style;s.useStyle(ye({image:R.image,x:R.x,y:R.y,width:R.width,height:R.height},M))}else s.__isEmptyBrush?s.useStyle(ye({},M)):s.useStyle(M),s.style.decal=null,s.setColor(N,o&&o.symbolInnerColor),s.style.strokeNoScale=!0;var D=r.getItemVisual(n,"liftZ"),F=this._z2;D!=null?F==null&&(this._z2=s.z2,s.z2+=D):F!=null&&(s.z2=F,this._z2=null);var z=o&&o.useNameLabel;IT(s,w,{labelFetcher:l,labelDataIndex:n,defaultText:G,inheritColor:N,defaultOpacity:M.opacity});function G(V){return z?r.getName(V):Ak(r,V)}this._sizeX=i[0]/2,this._sizeY=i[1]/2;var q=s.ensureState("emphasis");q.style=f,s.ensureState("select").style=d,s.ensureState("blur").style=v;var H=b==null||b===!0?Math.max(1.1,3/this._sizeY):isFinite(b)&&b>0?+b:1;q.scaleX=this._sizeX*H,q.scaleY=this._sizeY*H,this.setSymbolScale(1),Gp(this,g,p,y)},e.prototype.setSymbolScale=function(r){this.scaleX=this.scaleY=r},e.prototype.fadeOut=function(r,n,i){var a=this.childAt(0),o=ht(this).dataIndex,s=i&&i.animation;if(this.silent=a.silent=!0,i&&i.fadeLabel){var l=a.getTextContent();l&&th(l,{style:{opacity:0}},n,{dataIndex:o,removeOpt:s,cb:function(){a.removeTextContent()}})}else a.removeTextContent();th(a,{style:{opacity:0},scaleX:0,scaleY:0},n,{dataIndex:o,cb:r,removeOpt:s})},e.getSymbolSize=function(r,n){return IG(r.getItemVisual(n,"symbolSize"))},e}(Cr);function sU(t,e){this.parent.drift(t,e)}function Zd(t,e,r,n){return e&&!isNaN(e[0])&&!isNaN(e[1])&&!(n.isIgnore&&n.isIgnore(r))&&!(n.clipShape&&!n.clipShape.contain(e[0],e[1]))&&t.getItemVisual(r,"symbol")!=="none"}function Kb(t){return t!=null&&!Le(t)&&(t={isIgnore:t}),t||{}}function Zb(t){var e=t.hostModel,r=e.getModel("emphasis");return{emphasisItemStyle:r.getModel("itemStyle").getItemStyle(),blurItemStyle:e.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:e.getModel(["select","itemStyle"]).getItemStyle(),focus:r.get("focus"),blurScope:r.get("blurScope"),emphasisDisabled:r.get("disabled"),hoverScale:r.get("scale"),labelStatesModels:Tm(e),cursorStyle:e.get("cursor")}}var uU=function(){function t(e){this.group=new Cr,this._SymbolCtor=e||jm}return t.prototype.updateData=function(e,r){this._progressiveEls=null,r=Kb(r);var n=this.group,i=e.hostModel,a=this._data,o=this._SymbolCtor,s=r.disableAnimation,l=Zb(e),f={disableAnimation:s},v=r.getSymbolPoint||function(d){return e.getItemLayout(d)};a||n.removeAll(),e.diff(a).add(function(d){var g=v(d);if(Zd(e,g,d,r)){var p=new o(e,d,l,f);p.setPosition(g),e.setItemGraphicEl(d,p),n.add(p)}}).update(function(d,g){var p=a.getItemGraphicEl(g),y=v(d);if(!Zd(e,y,d,r)){n.remove(p);return}var w=e.getItemVisual(d,"symbol")||"circle",b=p&&p.getSymbolType&&p.getSymbolType();if(!p||b&&b!==w)n.remove(p),p=new o(e,d,l,f),p.setPosition(y);else{p.updateData(e,d,l,f);var x={x:y[0],y:y[1]};s?p.attr(x):wo(p,x,i)}n.add(p),e.setItemGraphicEl(d,p)}).remove(function(d){var g=a.getItemGraphicEl(d);g&&g.fadeOut(function(){n.remove(g)},i)}).execute(),this._getSymbolPoint=v,this._data=e},t.prototype.updateLayout=function(){var e=this,r=this._data;r&&r.eachItemGraphicEl(function(n,i){var a=e._getSymbolPoint(i);n.setPosition(a),n.markRedraw()})},t.prototype.incrementalPrepareUpdate=function(e){this._seriesScope=Zb(e),this._data=null,this.group.removeAll()},t.prototype.incrementalUpdate=function(e,r,n){this._progressiveEls=[],n=Kb(n);function i(l){l.isGroup||(l.incremental=!0,l.ensureState("emphasis").hoverLayer=!0)}for(var a=e.start;a<e.end;a++){var o=r.getItemLayout(a);if(Zd(r,o,a,n)){var s=new this._SymbolCtor(r,a,this._seriesScope);s.traverse(i),s.setPosition(o),this.group.add(s),r.setItemGraphicEl(a,s),this._progressiveEls.push(s)}}},t.prototype.eachRendered=function(e){Cm(this._progressiveEls||this.group,e)},t.prototype.remove=function(e){var r=this.group,n=this._data;n&&e?n.eachItemGraphicEl(function(i){i.fadeOut(function(){r.remove(i)},n.hostModel)}):r.removeAll()},t}();function lU(t,e){return t.type===e}var cU=function(t){xe(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r.hasSymbolVisual=!0,r}return e.prototype.getInitialData=function(r){return GV(null,this,{useEncodeDefaulter:!0})},e.prototype.getLegendIcon=function(r){var n=new Cr,i=Cl("line",0,r.itemHeight/2,r.itemWidth,0,r.lineStyle.stroke,!1);n.add(i),i.setStyle(r.lineStyle);var a=this.getData().getVisual("symbol"),o=this.getData().getVisual("symbolRotate"),s=a==="none"?"circle":a,l=r.itemHeight*.8,f=Cl(s,(r.itemWidth-l)/2,(r.itemHeight-l)/2,l,l,r.itemStyle.fill);n.add(f),f.setStyle(r.itemStyle);var v=r.iconRotate==="inherit"?o:r.iconRotate||0;return f.rotation=v*Math.PI/180,f.setOrigin([r.itemWidth/2,r.itemHeight/2]),s.indexOf("empty")>-1&&(f.style.stroke=f.style.fill,f.style.fill="#fff",f.style.lineWidth=2),n},e.type="series.line",e.dependencies=["grid","polar"],e.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},e}(da);function Dk(t,e,r){var n=t.getBaseAxis(),i=t.getOtherAxis(n),a=fU(i,r),o=n.dim,s=i.dim,l=e.mapDimension(s),f=e.mapDimension(o),v=s==="x"||s==="radius"?1:0,d=Me(t.dimensions,function(y){return e.mapDimension(y)}),g=!1,p=e.getCalculationInfo("stackResultDimension");return El(e,d[0])&&(g=!0,d[0]=p),El(e,d[1])&&(g=!0,d[1]=p),{dataDimsForPoint:d,valueStart:a,valueAxisDim:s,baseAxisDim:o,stacked:!!g,valueDim:l,baseDim:f,baseDataOffset:v,stackedOverDimension:e.getCalculationInfo("stackedOverDimension")}}function fU(t,e){var r=0,n=t.scale.getExtent();return e==="start"?r=n[0]:e==="end"?r=n[1]:Tt(e)&&!isNaN(e)?r=e:n[0]>0?r=n[0]:n[1]<0&&(r=n[1]),r}function Rk(t,e,r,n){var i=NaN;t.stacked&&(i=r.get(r.getCalculationInfo("stackedOverDimension"),n)),isNaN(i)&&(i=t.valueStart);var a=t.baseDataOffset,o=[];return o[a]=r.get(t.baseDim,n),o[1-a]=i,e.dataToPoint(o)}function hU(t,e){var r=[];return e.diff(t).add(function(n){r.push({cmd:"+",idx:n})}).update(function(n,i){r.push({cmd:"=",idx:i,idx1:n})}).remove(function(n){r.push({cmd:"-",idx:n})}).execute(),r}function vU(t,e,r,n,i,a,o,s){for(var l=hU(t,e),f=[],v=[],d=[],g=[],p=[],y=[],w=[],b=Dk(i,e,o),x=t.getLayout("points")||[],C=e.getLayout("points")||[],T=0;T<l.length;T++){var k=l[T],L=!0,M=void 0,N=void 0;switch(k.cmd){case"=":M=k.idx*2,N=k.idx1*2;var R=x[M],D=x[M+1],F=C[N],z=C[N+1];(isNaN(R)||isNaN(D))&&(R=F,D=z),f.push(R,D),v.push(F,z),d.push(r[M],r[M+1]),g.push(n[N],n[N+1]),w.push(e.getRawIndex(k.idx1));break;case"+":var G=k.idx,q=b.dataDimsForPoint,H=i.dataToPoint([e.get(q[0],G),e.get(q[1],G)]);N=G*2,f.push(H[0],H[1]),v.push(C[N],C[N+1]);var V=Rk(b,i,e,G);d.push(V[0],V[1]),g.push(n[N],n[N+1]),w.push(e.getRawIndex(G));break;case"-":L=!1}L&&(p.push(k),y.push(y.length))}y.sort(function(be,et){return w[be]-w[et]});for(var U=f.length,W=os(U),Q=os(U),J=os(U),j=os(U),pe=[],T=0;T<y.length;T++){var ae=y[T],ce=T*2,oe=ae*2;W[ce]=f[oe],W[ce+1]=f[oe+1],Q[ce]=v[oe],Q[ce+1]=v[oe+1],J[ce]=d[oe],J[ce+1]=d[oe+1],j[ce]=g[oe],j[ce+1]=g[oe+1],pe[T]=p[ae]}return{current:W,next:Q,stackedOnCurrent:J,stackedOnNext:j,status:pe}}var Hi=Math.min,$i=Math.max;function fo(t,e){return isNaN(t)||isNaN(e)}function dg(t,e,r,n,i,a,o,s,l){for(var f,v,d,g,p,y,w=r,b=0;b<n;b++){var x=e[w*2],C=e[w*2+1];if(w>=i||w<0)break;if(fo(x,C)){if(l){w+=a;continue}break}if(w===r)t[a>0?"moveTo":"lineTo"](x,C),d=x,g=C;else{var T=x-f,k=C-v;if(T*T+k*k<.5){w+=a;continue}if(o>0){for(var L=w+a,M=e[L*2],N=e[L*2+1];M===x&&N===C&&b<n;)b++,L+=a,w+=a,M=e[L*2],N=e[L*2+1],x=e[w*2],C=e[w*2+1],T=x-f,k=C-v;var R=b+1;if(l)for(;fo(M,N)&&R<n;)R++,L+=a,M=e[L*2],N=e[L*2+1];var D=.5,F=0,z=0,G=void 0,q=void 0;if(R>=n||fo(M,N))p=x,y=C;else{F=M-f,z=N-v;var H=x-f,V=M-x,U=C-v,W=N-C,Q=void 0,J=void 0;if(s==="x"){Q=Math.abs(H),J=Math.abs(V);var j=F>0?1:-1;p=x-j*Q*o,y=C,G=x+j*J*o,q=C}else if(s==="y"){Q=Math.abs(U),J=Math.abs(W);var pe=z>0?1:-1;p=x,y=C-pe*Q*o,G=x,q=C+pe*J*o}else Q=Math.sqrt(H*H+U*U),J=Math.sqrt(V*V+W*W),D=J/(J+Q),p=x-F*o*(1-D),y=C-z*o*(1-D),G=x+F*o*D,q=C+z*o*D,G=Hi(G,$i(M,x)),q=Hi(q,$i(N,C)),G=$i(G,Hi(M,x)),q=$i(q,Hi(N,C)),F=G-x,z=q-C,p=x-F*Q/J,y=C-z*Q/J,p=Hi(p,$i(f,x)),y=Hi(y,$i(v,C)),p=$i(p,Hi(f,x)),y=$i(y,Hi(v,C)),F=x-p,z=C-y,G=x+F*J/Q,q=C+z*J/Q}t.bezierCurveTo(d,g,p,y,x,C),d=G,g=q}else t.lineTo(x,C)}f=x,v=C,w+=a}return b}var Ok=function(){function t(){this.smooth=0,this.smoothConstraint=!0}return t}(),dU=function(t){xe(e,t);function e(r){var n=t.call(this,r)||this;return n.type="ec-polyline",n}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new Ok},e.prototype.buildPath=function(r,n){var i=n.points,a=0,o=i.length/2;if(n.connectNulls){for(;o>0&&fo(i[o*2-2],i[o*2-1]);o--);for(;a<o&&fo(i[a*2],i[a*2+1]);a++);}for(;a<o;)a+=dg(r,i,a,o,o,1,n.smooth,n.smoothMonotone,n.connectNulls)+1},e.prototype.getPointOn=function(r,n){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var i=this.path,a=i.data,o=ha.CMD,s,l,f=n==="x",v=[],d=0;d<a.length;){var g=a[d++],p=void 0,y=void 0,w=void 0,b=void 0,x=void 0,C=void 0,T=void 0;switch(g){case o.M:s=a[d++],l=a[d++];break;case o.L:if(p=a[d++],y=a[d++],T=f?(r-s)/(p-s):(r-l)/(y-l),T<=1&&T>=0){var k=f?(y-l)*T+l:(p-s)*T+s;return f?[r,k]:[k,r]}s=p,l=y;break;case o.C:p=a[d++],y=a[d++],w=a[d++],b=a[d++],x=a[d++],C=a[d++];var L=f?Yf(s,p,w,x,r,v):Yf(l,y,b,C,r,v);if(L>0)for(var M=0;M<L;M++){var N=v[M];if(N<=1&&N>=0){var k=f?Ht(l,y,b,C,N):Ht(s,p,w,x,N);return f?[r,k]:[k,r]}}s=x,l=C;break}}},e}(We),pU=function(t){xe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(Ok),gU=function(t){xe(e,t);function e(r){var n=t.call(this,r)||this;return n.type="ec-polygon",n}return e.prototype.getDefaultShape=function(){return new pU},e.prototype.buildPath=function(r,n){var i=n.points,a=n.stackedOnPoints,o=0,s=i.length/2,l=n.smoothMonotone;if(n.connectNulls){for(;s>0&&fo(i[s*2-2],i[s*2-1]);s--);for(;o<s&&fo(i[o*2],i[o*2+1]);o++);}for(;o<s;){var f=dg(r,i,o,s,s,1,n.smooth,l,n.connectNulls);dg(r,a,o+f-1,f,s,-1,n.stackedOnSmooth,l,n.connectNulls),o+=f+1,r.closePath()}},e}(We);function mU(t,e,r,n,i){var a=t.getArea(),o=a.x,s=a.y,l=a.width,f=a.height,v=r.get(["lineStyle","width"])||0;o-=v/2,s-=v/2,l+=v,f+=v,l=Math.ceil(l),o!==Math.floor(o)&&(o=Math.floor(o),l++);var d=new ar({shape:{x:o,y:s,width:l,height:f}});if(e){var g=t.getBaseAxis(),p=g.isHorizontal(),y=g.inverse;p?(y&&(d.shape.x+=l),d.shape.width=0):(y||(d.shape.y+=f),d.shape.height=0);var w=ze(i)?function(b){i(b,d)}:null;$s(d,{shape:{width:l,height:f,x:o,y:s}},r,null,n,w)}return d}function yU(t,e,r){var n=t.getArea(),i=Dt(n.r0,1),a=Dt(n.r,1),o=new Ms({shape:{cx:Dt(t.cx,1),cy:Dt(t.cy,1),r0:i,r:a,startAngle:n.startAngle,endAngle:n.endAngle,clockwise:n.clockwise}});if(e){var s=t.getBaseAxis().dim==="angle";s?o.shape.endAngle=n.startAngle:o.shape.r=i,$s(o,{shape:{endAngle:n.endAngle,r:a}},r)}return o}function jb(t,e){if(t.length===e.length){for(var r=0;r<t.length;r++)if(t[r]!==e[r])return;return!0}}function Qb(t){for(var e=1/0,r=1/0,n=-1/0,i=-1/0,a=0;a<t.length;){var o=t[a++],s=t[a++];isNaN(o)||(e=Math.min(o,e),n=Math.max(o,n)),isNaN(s)||(r=Math.min(s,r),i=Math.max(s,i))}return[[e,r],[n,i]]}function Jb(t,e){var r=Qb(t),n=r[0],i=r[1],a=Qb(e),o=a[0],s=a[1];return Math.max(Math.abs(n[0]-o[0]),Math.abs(n[1]-o[1]),Math.abs(i[0]-s[0]),Math.abs(i[1]-s[1]))}function ex(t){return Tt(t)?t:t?.5:0}function _U(t,e,r){if(!r.valueDim)return[];for(var n=e.count(),i=os(n*2),a=0;a<n;a++){var o=Rk(r,t,e,a);i[a*2]=o[0],i[a*2+1]=o[1]}return i}function Ui(t,e,r,n,i){var a=r.getBaseAxis(),o=a.dim==="x"||a.dim==="radius"?0:1,s=[],l=0,f=[],v=[],d=[],g=[];if(i){for(l=0;l<t.length;l+=2){var p=e||t;!isNaN(p[l])&&!isNaN(p[l+1])&&g.push(t[l],t[l+1])}t=g}for(l=0;l<t.length-2;l+=2)switch(d[0]=t[l+2],d[1]=t[l+3],v[0]=t[l],v[1]=t[l+1],s.push(v[0],v[1]),n){case"end":f[o]=d[o],f[1-o]=v[1-o],s.push(f[0],f[1]);break;case"middle":var y=(v[o]+d[o])/2,w=[];f[o]=w[o]=y,f[1-o]=v[1-o],w[1-o]=d[1-o],s.push(f[0],f[1]),s.push(w[0],w[1]);break;default:f[o]=v[o],f[1-o]=d[1-o],s.push(f[0],f[1])}return s.push(t[l++],t[l++]),s}function wU(t,e){var r=[],n=t.length,i,a;function o(v,d,g){var p=v.coord,y=(g-p)/(d.coord-p),w=K5(y,[v.color,d.color]);return{coord:g,color:w}}for(var s=0;s<n;s++){var l=t[s],f=l.coord;if(f<0)i=l;else if(f>e){a?r.push(o(a,l,e)):i&&r.push(o(i,l,0),o(i,l,e));break}else i&&(r.push(o(i,l,0)),i=null),r.push(l),a=l}return r}function bU(t,e,r){var n=t.getVisual("visualMeta");if(!(!n||!n.length||!t.count())&&e.type==="cartesian2d"){for(var i,a,o=n.length-1;o>=0;o--){var s=t.getDimensionInfo(n[o].dimension);if(i=s&&s.coordDim,i==="x"||i==="y"){a=n[o];break}}if(a){var l=e.getAxis(i),f=Me(a.stops,function(T){return{coord:l.toGlobalCoord(l.dataToCoord(T.value)),color:T.color}}),v=f.length,d=a.outerColors.slice();v&&f[0].coord>f[v-1].coord&&(f.reverse(),d.reverse());var g=wU(f,i==="x"?r.getWidth():r.getHeight()),p=g.length;if(!p&&v)return f[0].coord<0?d[1]?d[1]:f[v-1].color:d[0]?d[0]:f[0].color;var y=10,w=g[0].coord-y,b=g[p-1].coord+y,x=b-w;if(x<.001)return"transparent";Y(g,function(T){T.offset=(T.coord-w)/x}),g.push({offset:p?g[p-1].offset:.5,color:d[1]||"transparent"}),g.unshift({offset:p?g[0].offset:.5,color:d[0]||"transparent"});var C=new wT(0,0,0,0,g,!0);return C[i]=w,C[i+"2"]=b,C}}}function xU(t,e,r){var n=t.get("showAllSymbol"),i=n==="auto";if(!(n&&!i)){var a=r.getAxesByScale("ordinal")[0];if(a&&!(i&&SU(a,e))){var o=e.mapDimension(a.dim),s={};return Y(a.getViewLabels(),function(l){var f=a.scale.getRawOrdinalNumber(l.tickValue);s[f]=1}),function(l){return!s.hasOwnProperty(e.get(o,l))}}}}function SU(t,e){var r=t.getExtent(),n=Math.abs(r[1]-r[0])/t.scale.count();isNaN(n)&&(n=0);for(var i=e.count(),a=Math.max(1,Math.round(i/5)),o=0;o<i;o+=a)if(jm.getSymbolSize(e,o)[t.isHorizontal()?1:0]*1.5>n)return!1;return!0}function CU(t,e){return isNaN(t)||isNaN(e)}function TU(t){for(var e=t.length/2;e>0&&CU(t[e*2-2],t[e*2-1]);e--);return e-1}function tx(t,e){return[t[e*2],t[e*2+1]]}function EU(t,e,r){for(var n=t.length/2,i=r==="x"?0:1,a,o,s=0,l=-1,f=0;f<n;f++)if(o=t[f*2+i],!(isNaN(o)||isNaN(t[f*2+1-i]))){if(f===0){a=o;continue}if(a<=e&&o>=e||a>=e&&o<=e){l=f;break}s=f,a=o}return{range:[s,l],t:(e-a)/(o-a)}}function Fk(t){if(t.get(["endLabel","show"]))return!0;for(var e=0;e<Jn.length;e++)if(t.get([Jn[e],"endLabel","show"]))return!0;return!1}function jd(t,e,r,n){if(lU(e,"cartesian2d")){var i=n.getModel("endLabel"),a=i.get("valueAnimation"),o=n.getData(),s={lastFrameIndex:0},l=Fk(n)?function(p,y){t._endLabelOnDuring(p,y,o,s,a,i,e)}:null,f=e.getBaseAxis().isHorizontal(),v=mU(e,r,n,function(){var p=t._endLabel;p&&r&&s.originalX!=null&&p.attr({x:s.originalX,y:s.originalY})},l);if(!n.get("clip",!0)){var d=v.shape,g=Math.max(d.width,d.height);f?(d.y-=g,d.height+=g*2):(d.x-=g,d.width+=g*2)}return l&&l(1,v),v}else return yU(e,r,n)}function kU(t,e){var r=e.getBaseAxis(),n=r.isHorizontal(),i=r.inverse,a=n?i?"right":"left":"center",o=n?"middle":i?"top":"bottom";return{normal:{align:t.get("align")||a,verticalAlign:t.get("verticalAlign")||o}}}var IU=function(t){xe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.init=function(){var r=new Cr,n=new uU;this.group.add(n.group),this._symbolDraw=n,this._lineGroup=r,this._changePolyState=Ct(this._changePolyState,this)},e.prototype.render=function(r,n,i){var a=r.coordinateSystem,o=this.group,s=r.getData(),l=r.getModel("lineStyle"),f=r.getModel("areaStyle"),v=s.getLayout("points")||[],d=a.type==="polar",g=this._coordSys,p=this._symbolDraw,y=this._polyline,w=this._polygon,b=this._lineGroup,x=!n.ssr&&r.get("animation"),C=!f.isEmpty(),T=f.get("origin"),k=Dk(a,s,T),L=C&&_U(a,s,k),M=r.get("showSymbol"),N=r.get("connectNulls"),R=M&&!d&&xU(r,s,a),D=this._data;D&&D.eachItemGraphicEl(function(be,et){be.__temp&&(o.remove(be),D.setItemGraphicEl(et,null))}),M||p.remove(),o.add(b);var F=d?!1:r.get("step"),z;a&&a.getArea&&r.get("clip",!0)&&(z=a.getArea(),z.width!=null?(z.x-=.1,z.y-=.1,z.width+=.2,z.height+=.2):z.r0&&(z.r0-=.5,z.r+=.5)),this._clipShapeForSymbol=z;var G=bU(s,a,i)||s.getVisual("style")[s.getVisual("drawType")];if(!(y&&g.type===a.type&&F===this._step))M&&p.updateData(s,{isIgnore:R,clipShape:z,disableAnimation:!0,getSymbolPoint:function(be){return[v[be*2],v[be*2+1]]}}),x&&this._initSymbolLabelAnimation(s,a,z),F&&(L&&(L=Ui(L,v,a,F,N)),v=Ui(v,null,a,F,N)),y=this._newPolyline(v),C?w=this._newPolygon(v,L):w&&(b.remove(w),w=this._polygon=null),d||this._initOrUpdateEndLabel(r,a,bo(G)),b.setClipPath(jd(this,a,!0,r));else{C&&!w?w=this._newPolygon(v,L):w&&!C&&(b.remove(w),w=this._polygon=null),d||this._initOrUpdateEndLabel(r,a,bo(G));var q=b.getClipPath();if(q){var H=jd(this,a,!1,r);$s(q,{shape:H.shape},r)}else b.setClipPath(jd(this,a,!0,r));M&&p.updateData(s,{isIgnore:R,clipShape:z,disableAnimation:!0,getSymbolPoint:function(be){return[v[be*2],v[be*2+1]]}}),(!jb(this._stackedOnPoints,L)||!jb(this._points,v))&&(x?this._doUpdateAnimation(s,L,a,i,F,T,N):(F&&(L&&(L=Ui(L,v,a,F,N)),v=Ui(v,null,a,F,N)),y.setShape({points:v}),w&&w.setShape({points:v,stackedOnPoints:L})))}var V=r.getModel("emphasis"),U=V.get("focus"),W=V.get("blurScope"),Q=V.get("disabled");if(y.useStyle($e(l.getLineStyle(),{fill:"none",stroke:G,lineJoin:"bevel"})),V1(y,r,"lineStyle"),y.style.lineWidth>0&&r.get(["emphasis","lineStyle","width"])==="bolder"){var J=y.getState("emphasis").style;J.lineWidth=+y.style.lineWidth+1}ht(y).seriesIndex=r.seriesIndex,Gp(y,U,W,Q);var j=ex(r.get("smooth")),pe=r.get("smoothMonotone");if(y.setShape({smooth:j,smoothMonotone:pe,connectNulls:N}),w){var ae=s.getCalculationInfo("stackedOnSeries"),ce=0;w.useStyle($e(f.getAreaStyle(),{fill:G,opacity:.7,lineJoin:"bevel",decal:s.getVisual("style").decal})),ae&&(ce=ex(ae.get("smooth"))),w.setShape({smooth:j,stackedOnSmooth:ce,smoothMonotone:pe,connectNulls:N}),V1(w,r,"areaStyle"),ht(w).seriesIndex=r.seriesIndex,Gp(w,U,W,Q)}var oe=this._changePolyState;s.eachItemGraphicEl(function(be){be&&(be.onHoverStateChange=oe)}),this._polyline.onHoverStateChange=oe,this._data=s,this._coordSys=a,this._stackedOnPoints=L,this._points=v,this._step=F,this._valueOrigin=T,r.get("triggerLineEvent")&&(this.packEventData(r,y),w&&this.packEventData(r,w))},e.prototype.packEventData=function(r,n){ht(n).eventData={componentType:"series",componentSubType:"line",componentIndex:r.componentIndex,seriesIndex:r.seriesIndex,seriesName:r.name,seriesType:"line"}},e.prototype.highlight=function(r,n,i,a){var o=r.getData(),s=_o(o,a);if(this._changePolyState("emphasis"),!(s instanceof Array)&&s!=null&&s>=0){var l=o.getLayout("points"),f=o.getItemGraphicEl(s);if(!f){var v=l[s*2],d=l[s*2+1];if(isNaN(v)||isNaN(d)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(v,d))return;var g=r.get("zlevel")||0,p=r.get("z")||0;f=new jm(o,s),f.x=v,f.y=d,f.setZ(g,p);var y=f.getSymbolPath().getTextContent();y&&(y.zlevel=g,y.z=p,y.z2=this._polyline.z2+1),f.__temp=!0,o.setItemGraphicEl(s,f),f.stopSymbolAnimation(!0),this.group.add(f)}f.highlight()}else Kn.prototype.highlight.call(this,r,n,i,a)},e.prototype.downplay=function(r,n,i,a){var o=r.getData(),s=_o(o,a);if(this._changePolyState("normal"),s!=null&&s>=0){var l=o.getItemGraphicEl(s);l&&(l.__temp?(o.setItemGraphicEl(s,null),this.group.remove(l)):l.downplay())}else Kn.prototype.downplay.call(this,r,n,i,a)},e.prototype._changePolyState=function(r){var n=this._polygon;O1(this._polyline,r),n&&O1(n,r)},e.prototype._newPolyline=function(r){var n=this._polyline;return n&&this._lineGroup.remove(n),n=new dU({shape:{points:r},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(n),this._polyline=n,n},e.prototype._newPolygon=function(r,n){var i=this._polygon;return i&&this._lineGroup.remove(i),i=new gU({shape:{points:r,stackedOnPoints:n},segmentIgnoreThreshold:2}),this._lineGroup.add(i),this._polygon=i,i},e.prototype._initSymbolLabelAnimation=function(r,n,i){var a,o,s=n.getBaseAxis(),l=s.inverse;n.type==="cartesian2d"?(a=s.isHorizontal(),o=!1):n.type==="polar"&&(a=s.dim==="angle",o=!0);var f=r.hostModel,v=f.get("animationDuration");ze(v)&&(v=v(null));var d=f.get("animationDelay")||0,g=ze(d)?d(null):d;r.eachItemGraphicEl(function(p,y){var w=p;if(w){var b=[p.x,p.y],x=void 0,C=void 0,T=void 0;if(i)if(o){var k=i,L=n.pointToCoord(b);a?(x=k.startAngle,C=k.endAngle,T=-L[1]/180*Math.PI):(x=k.r0,C=k.r,T=L[0])}else{var M=i;a?(x=M.x,C=M.x+M.width,T=p.x):(x=M.y+M.height,C=M.y,T=p.y)}var N=C===x?0:(T-x)/(C-x);l&&(N=1-N);var R=ze(d)?d(y):v*N+g,D=w.getSymbolPath(),F=D.getTextContent();w.attr({scaleX:0,scaleY:0}),w.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:R}),F&&F.animateFrom({style:{opacity:0}},{duration:300,delay:R}),D.disableLabelAnimation=!0}})},e.prototype._initOrUpdateEndLabel=function(r,n,i){var a=r.getModel("endLabel");if(Fk(r)){var o=r.getData(),s=this._polyline,l=o.getLayout("points");if(!l){s.removeTextContent(),this._endLabel=null;return}var f=this._endLabel;f||(f=this._endLabel=new Cn({z2:200}),f.ignoreClip=!0,s.setTextContent(this._endLabel),s.disableLabelAnimation=!0);var v=TU(l);v>=0&&(IT(s,Tm(r,"endLabel"),{inheritColor:i,labelFetcher:r,labelDataIndex:v,defaultText:function(d,g,p){return p!=null?oU(o,p):Ak(o,d)},enableTextSetter:!0},kU(a,n)),s.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},e.prototype._endLabelOnDuring=function(r,n,i,a,o,s,l){var f=this._endLabel,v=this._polyline;if(f){r<1&&a.originalX==null&&(a.originalX=f.x,a.originalY=f.y);var d=i.getLayout("points"),g=i.hostModel,p=g.get("connectNulls"),y=s.get("precision"),w=s.get("distance")||0,b=l.getBaseAxis(),x=b.isHorizontal(),C=b.inverse,T=n.shape,k=C?x?T.x:T.y+T.height:x?T.x+T.width:T.y,L=(x?w:0)*(C?-1:1),M=(x?0:-w)*(C?-1:1),N=x?"x":"y",R=EU(d,k,N),D=R.range,F=D[1]-D[0],z=void 0;if(F>=1){if(F>1&&!p){var G=tx(d,D[0]);f.attr({x:G[0]+L,y:G[1]+M}),o&&(z=g.getRawValue(D[0]))}else{var G=v.getPointOn(k,N);G&&f.attr({x:G[0]+L,y:G[1]+M});var q=g.getRawValue(D[0]),H=g.getRawValue(D[1]);o&&(z=qB(i,y,q,H,R.t))}a.lastFrameIndex=D[0]}else{var V=r===1||a.lastFrameIndex>0?D[0]:0,G=tx(d,V);o&&(z=g.getRawValue(V)),f.attr({x:G[0]+L,y:G[1]+M})}if(o){var U=MT(f);typeof U.setLabelText=="function"&&U.setLabelText(z)}}},e.prototype._doUpdateAnimation=function(r,n,i,a,o,s,l){var f=this._polyline,v=this._polygon,d=r.hostModel,g=vU(this._data,r,this._stackedOnPoints,n,this._coordSys,i,this._valueOrigin),p=g.current,y=g.stackedOnCurrent,w=g.next,b=g.stackedOnNext;if(o&&(y=Ui(g.stackedOnCurrent,g.current,i,o,l),p=Ui(g.current,null,i,o,l),b=Ui(g.stackedOnNext,g.next,i,o,l),w=Ui(g.next,null,i,o,l)),Jb(p,w)>3e3||v&&Jb(y,b)>3e3){f.stopAnimation(),f.setShape({points:w}),v&&(v.stopAnimation(),v.setShape({points:w,stackedOnPoints:b}));return}f.shape.__points=g.current,f.shape.points=p;var x={shape:{points:w}};g.current!==p&&(x.shape.__points=g.next),f.stopAnimation(),wo(f,x,d),v&&(v.setShape({points:p,stackedOnPoints:y}),v.stopAnimation(),wo(v,{shape:{stackedOnPoints:b}},d),f.shape.points!==v.shape.points&&(v.shape.points=f.shape.points));for(var C=[],T=g.status,k=0;k<T.length;k++){var L=T[k].cmd;if(L==="="){var M=r.getItemGraphicEl(T[k].idx1);M&&C.push({el:M,ptIdx:k})}}f.animators&&f.animators.length&&f.animators[0].during(function(){v&&v.dirtyShape();for(var N=f.shape.__points,R=0;R<C.length;R++){var D=C[R].el,F=C[R].ptIdx*2;D.x=N[F],D.y=N[F+1],D.markRedraw()}})},e.prototype.remove=function(r){var n=this.group,i=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),i&&i.eachItemGraphicEl(function(a,o){a.__temp&&(n.remove(a),i.setItemGraphicEl(o,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},e.type="line",e}(Kn);function MU(t,e){return{seriesType:t,plan:yE(),reset:function(r){var n=r.getData(),i=r.coordinateSystem;if(r.pipelineContext,!!i){var a=Me(i.dimensions,function(d){return n.mapDimension(d)}).slice(0,2),o=a.length,s=n.getCalculationInfo("stackResultDimension");El(n,a[0])&&(a[0]=s),El(n,a[1])&&(a[1]=s);var l=n.getStore(),f=n.getDimensionIndex(a[0]),v=n.getDimensionIndex(a[1]);return o&&{progress:function(d,g){for(var p=d.end-d.start,y=os(p*o),w=[],b=[],x=d.start,C=0;x<d.end;x++){var T=void 0;if(o===1){var k=l.get(f,x);T=i.dataToPoint(k,null,b)}else w[0]=l.get(f,x),w[1]=l.get(v,x),T=i.dataToPoint(w,null,b);y[C++]=T[0],y[C++]=T[1]}g.setLayout("points",y)}}}}}}var LU={average:function(t){for(var e=0,r=0,n=0;n<t.length;n++)isNaN(t[n])||(e+=t[n],r++);return r===0?NaN:e/r},sum:function(t){for(var e=0,r=0;r<t.length;r++)e+=t[r]||0;return e},max:function(t){for(var e=-1/0,r=0;r<t.length;r++)t[r]>e&&(e=t[r]);return isFinite(e)?e:NaN},min:function(t){for(var e=1/0,r=0;r<t.length;r++)t[r]<e&&(e=t[r]);return isFinite(e)?e:NaN},nearest:function(t){return t[0]}},PU=function(t){return Math.round(t.length/2)};function NU(t){return{seriesType:t,reset:function(e,r,n){var i=e.getData(),a=e.get("sampling"),o=e.coordinateSystem,s=i.count();if(s>10&&o.type==="cartesian2d"&&a){var l=o.getBaseAxis(),f=o.getOtherAxis(l),v=l.getExtent(),d=n.getDevicePixelRatio(),g=Math.abs(v[1]-v[0])*(d||1),p=Math.round(s/g);if(isFinite(p)&&p>1){a==="lttb"?e.setData(i.lttbDownSample(i.mapDimension(f.dim),1/p)):a==="minmax"&&e.setData(i.minmaxDownSample(i.mapDimension(f.dim),1/p));var y=void 0;ke(a)?y=LU[a]:ze(a)&&(y=a),y&&e.setData(i.downSample(i.mapDimension(f.dim),1/p,y,PU))}}}}}function AU(t){t.registerChartView(IU),t.registerSeriesModel(cU),t.registerLayout(MU("line")),t.registerVisual({seriesType:"line",reset:function(e){var r=e.getData(),n=e.getModel("lineStyle").getLineStyle();n&&!n.stroke&&(n.stroke=r.getVisual("style").fill),r.setVisual("legendLineStyle",n)}}),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,NU("line"))}var Bn=ha.CMD;function ss(t,e){return Math.abs(t-e)<1e-5}function pg(t){var e=t.data,r=t.len(),n=[],i,a=0,o=0,s=0,l=0;function f(q,H){i&&i.length>2&&n.push(i),i=[q,H]}function v(q,H,V,U){ss(q,V)&&ss(H,U)||i.push(q,H,V,U,V,U)}function d(q,H,V,U,W,Q){var J=Math.abs(H-q),j=Math.tan(J/4)*4/3,pe=H<q?-1:1,ae=Math.cos(q),ce=Math.sin(q),oe=Math.cos(H),be=Math.sin(H),et=ae*W+V,Se=ce*Q+U,K=oe*W+V,me=be*Q+U,_e=W*j*pe,ne=Q*j*pe;i.push(et-_e*ce,Se+ne*ae,K+_e*be,me-ne*oe,K,me)}for(var g,p,y,w,b=0;b<r;){var x=e[b++],C=b===1;switch(C&&(a=e[b],o=e[b+1],s=a,l=o,(x===Bn.L||x===Bn.C||x===Bn.Q)&&(i=[s,l])),x){case Bn.M:a=s=e[b++],o=l=e[b++],f(s,l);break;case Bn.L:g=e[b++],p=e[b++],v(a,o,g,p),a=g,o=p;break;case Bn.C:i.push(e[b++],e[b++],e[b++],e[b++],a=e[b++],o=e[b++]);break;case Bn.Q:g=e[b++],p=e[b++],y=e[b++],w=e[b++],i.push(a+2/3*(g-a),o+2/3*(p-o),y+2/3*(g-y),w+2/3*(p-w),y,w),a=y,o=w;break;case Bn.A:var T=e[b++],k=e[b++],L=e[b++],M=e[b++],N=e[b++],R=e[b++]+N;b+=1;var D=!e[b++];g=Math.cos(N)*L+T,p=Math.sin(N)*M+k,C?(s=g,l=p,f(s,l)):v(a,o,g,p),a=Math.cos(R)*L+T,o=Math.sin(R)*M+k;for(var F=(D?-1:1)*Math.PI/2,z=N;D?z>R:z<R;z+=F){var G=D?Math.max(z+F,R):Math.min(z+F,R);d(z,G,T,k,L,M)}break;case Bn.R:s=a=e[b++],l=o=e[b++],g=s+e[b++],p=l+e[b++],f(g,l),v(g,l,g,p),v(g,p,s,p),v(s,p,s,l),v(s,l,g,l);break;case Bn.Z:i&&v(a,o,s,l),a=s,o=l;break}}return i&&i.length>2&&n.push(i),n}function gg(t,e,r,n,i,a,o,s,l,f){if(ss(t,r)&&ss(e,n)&&ss(i,o)&&ss(a,s)){l.push(o,s);return}var v=2/f,d=v*v,g=o-t,p=s-e,y=Math.sqrt(g*g+p*p);g/=y,p/=y;var w=r-t,b=n-e,x=i-o,C=a-s,T=w*w+b*b,k=x*x+C*C;if(T<d&&k<d){l.push(o,s);return}var L=g*w+p*b,M=-g*x-p*C,N=T-L*L,R=k-M*M;if(N<d&&L>=0&&R<d&&M>=0){l.push(o,s);return}var D=[],F=[];fa(t,r,i,o,.5,D),fa(e,n,a,s,.5,F),gg(D[0],F[0],D[1],F[1],D[2],F[2],D[3],F[3],l,f),gg(D[4],F[4],D[5],F[5],D[6],F[6],D[7],F[7],l,f)}function DU(t,e){var r=pg(t),n=[];e=e||1;for(var i=0;i<r.length;i++){var a=r[i],o=[],s=a[0],l=a[1];o.push(s,l);for(var f=2;f<a.length;){var v=a[f++],d=a[f++],g=a[f++],p=a[f++],y=a[f++],w=a[f++];gg(s,l,v,d,g,p,y,w,o,e),s=y,l=w}n.push(o)}return n}function Bk(t,e,r){var n=t[e],i=t[1-e],a=Math.abs(n/i),o=Math.ceil(Math.sqrt(a*r)),s=Math.floor(r/o);s===0&&(s=1,o=r);for(var l=[],f=0;f<o;f++)l.push(s);var v=o*s,d=r-v;if(d>0)for(var f=0;f<d;f++)l[f%o]+=1;return l}function rx(t,e,r){for(var n=t.r0,i=t.r,a=t.startAngle,o=t.endAngle,s=Math.abs(o-a),l=s*i,f=i-n,v=l>Math.abs(f),d=Bk([l,f],v?0:1,e),g=(v?s:f)/d.length,p=0;p<d.length;p++)for(var y=(v?f:s)/d[p],w=0;w<d[p];w++){var b={};v?(b.startAngle=a+g*p,b.endAngle=a+g*(p+1),b.r0=n+y*w,b.r=n+y*(w+1)):(b.startAngle=a+y*w,b.endAngle=a+y*(w+1),b.r0=n+g*p,b.r=n+g*(p+1)),b.clockwise=t.clockwise,b.cx=t.cx,b.cy=t.cy,r.push(b)}}function RU(t,e,r){for(var n=t.width,i=t.height,a=n>i,o=Bk([n,i],a?0:1,e),s=a?"width":"height",l=a?"height":"width",f=a?"x":"y",v=a?"y":"x",d=t[s]/o.length,g=0;g<o.length;g++)for(var p=t[l]/o[g],y=0;y<o[g];y++){var w={};w[f]=g*d,w[v]=y*p,w[s]=d,w[l]=p,w.x+=t.x,w.y+=t.y,r.push(w)}}function nx(t,e,r,n){return t*n-r*e}function OU(t,e,r,n,i,a,o,s){var l=r-t,f=n-e,v=o-i,d=s-a,g=nx(v,d,l,f);if(Math.abs(g)<1e-6)return null;var p=t-i,y=e-a,w=nx(p,y,v,d)/g;return w<0||w>1?null:new Ye(w*l+t,w*f+e)}function FU(t,e,r){var n=new Ye;Ye.sub(n,r,e),n.normalize();var i=new Ye;Ye.sub(i,t,e);var a=i.dot(n);return a}function jo(t,e){var r=t[t.length-1];r&&r[0]===e[0]&&r[1]===e[1]||t.push(e)}function BU(t,e,r){for(var n=t.length,i=[],a=0;a<n;a++){var o=t[a],s=t[(a+1)%n],l=OU(o[0],o[1],s[0],s[1],e.x,e.y,r.x,r.y);l&&i.push({projPt:FU(l,e,r),pt:l,idx:a})}if(i.length<2)return[{points:t},{points:t}];i.sort(function(b,x){return b.projPt-x.projPt});var f=i[0],v=i[i.length-1];if(v.idx<f.idx){var d=f;f=v,v=d}for(var g=[f.pt.x,f.pt.y],p=[v.pt.x,v.pt.y],y=[g],w=[p],a=f.idx+1;a<=v.idx;a++)jo(y,t[a].slice());jo(y,p),jo(y,g);for(var a=v.idx+1;a<=f.idx+n;a++)jo(w,t[a%n].slice());return jo(w,g),jo(w,p),[{points:y},{points:w}]}function ix(t){var e=t.points,r=[],n=[];QC(e,r,n);var i=new Je(r[0],r[1],n[0]-r[0],n[1]-r[1]),a=i.width,o=i.height,s=i.x,l=i.y,f=new Ye,v=new Ye;return a>o?(f.x=v.x=s+a/2,f.y=l,v.y=l+o):(f.y=v.y=l+o/2,f.x=s,v.x=s+a),BU(e,f,v)}function fh(t,e,r,n){if(r===1)n.push(e);else{var i=Math.floor(r/2),a=t(e);fh(t,a[0],i,n),fh(t,a[1],r-i,n)}return n}function zU(t,e){for(var r=[],n=0;n<e;n++)r.push(pm(t));return r}function GU(t,e){e.setStyle(t.style),e.z=t.z,e.z2=t.z2,e.zlevel=t.zlevel}function VU(t){for(var e=[],r=0;r<t.length;)e.push([t[r++],t[r++]]);return e}function HU(t,e){var r=[],n=t.shape,i;switch(t.type){case"rect":RU(n,e,r),i=ar;break;case"sector":rx(n,e,r),i=Ms;break;case"circle":rx({r0:0,r:n.r,startAngle:0,endAngle:Math.PI*2,cx:n.cx,cy:n.cy},e,r),i=Ms;break;default:var a=t.getComputedTransform(),o=a?Math.sqrt(Math.max(a[0]*a[0]+a[1]*a[1],a[2]*a[2]+a[3]*a[3])):1,s=Me(DU(t.getUpdatedPathProxy(),o),function(x){return VU(x)}),l=s.length;if(l===0)fh(ix,{points:s[0]},e,r);else if(l===e)for(var f=0;f<l;f++)r.push({points:s[f]});else{var v=0,d=Me(s,function(x){var C=[],T=[];QC(x,C,T);var k=(T[1]-C[1])*(T[0]-C[0]);return v+=k,{poly:x,area:k}});d.sort(function(x,C){return C.area-x.area});for(var g=e,f=0;f<l;f++){var p=d[f];if(g<=0)break;var y=f===l-1?g:Math.ceil(p.area/v*e);y<0||(fh(ix,{points:p.poly},y,r),g-=y)}}i=Hh;break}if(!i)return zU(t,e);for(var w=[],f=0;f<r.length;f++){var b=new i;b.setShape(r[f]),GU(t,b),w.push(b)}return w}function $U(t,e){var r=t.length,n=e.length;if(r===n)return[t,e];for(var i=[],a=[],o=r<n?t:e,s=Math.min(r,n),l=Math.abs(n-r)/6,f=(s-2)/6,v=Math.ceil(l/f)+1,d=[o[0],o[1]],g=l,p=2;p<s;){var y=o[p-2],w=o[p-1],b=o[p++],x=o[p++],C=o[p++],T=o[p++],k=o[p++],L=o[p++];if(g<=0){d.push(b,x,C,T,k,L);continue}for(var M=Math.min(g,v-1)+1,N=1;N<=M;N++){var R=N/M;fa(y,b,C,k,R,i),fa(w,x,T,L,R,a),y=i[3],w=a[3],d.push(i[1],a[1],i[2],a[2],y,w),b=i[5],x=a[5],C=i[6],T=a[6]}g-=M-1}return o===t?[d,e]:[t,d]}function ax(t,e){for(var r=t.length,n=t[r-2],i=t[r-1],a=[],o=0;o<e.length;)a[o++]=n,a[o++]=i;return a}function UU(t,e){for(var r,n,i,a=[],o=[],s=0;s<Math.max(t.length,e.length);s++){var l=t[s],f=e[s],v=void 0,d=void 0;l?f?(r=$U(l,f),v=r[0],d=r[1],n=v,i=d):(d=ax(i||l,l),v=l):(v=ax(n||f,f),d=f),a.push(v),o.push(d)}return[a,o]}function ox(t){for(var e=0,r=0,n=0,i=t.length,a=0,o=i-2;a<i;o=a,a+=2){var s=t[o],l=t[o+1],f=t[a],v=t[a+1],d=s*v-f*l;e+=d,r+=(s+f)*d,n+=(l+v)*d}return e===0?[t[0]||0,t[1]||0]:[r/e/3,n/e/3,e]}function YU(t,e,r,n){for(var i=(t.length-2)/6,a=1/0,o=0,s=t.length,l=s-2,f=0;f<i;f++){for(var v=f*6,d=0,g=0;g<s;g+=2){var p=g===0?v:(v+g-2)%l+2,y=t[p]-r[0],w=t[p+1]-r[1],b=e[g]-n[0],x=e[g+1]-n[1],C=b-y,T=x-w;d+=C*C+T*T}d<a&&(a=d,o=f)}return o}function qU(t){for(var e=[],r=t.length,n=0;n<r;n+=2)e[n]=t[r-n-2],e[n+1]=t[r-n-1];return e}function WU(t,e,r,n){for(var i=[],a,o=0;o<t.length;o++){var s=t[o],l=e[o],f=ox(s),v=ox(l);a==null&&(a=f[2]<0!=v[2]<0);var d=[],g=[],p=0,y=1/0,w=[],b=s.length;a&&(s=qU(s));for(var x=YU(s,l,f,v)*6,C=b-2,T=0;T<C;T+=2){var k=(x+T)%C+2;d[T+2]=s[k]-f[0],d[T+3]=s[k+1]-f[1]}d[0]=s[x]-f[0],d[1]=s[x+1]-f[1];for(var L=n/r,M=-n/2;M<=n/2;M+=L){for(var N=Math.sin(M),R=Math.cos(M),D=0,T=0;T<s.length;T+=2){var F=d[T],z=d[T+1],G=l[T]-v[0],q=l[T+1]-v[1],H=G*R-q*N,V=G*N+q*R;w[T]=H,w[T+1]=V;var U=H-F,W=V-z;D+=U*U+W*W}if(D<y){y=D,p=M;for(var Q=0;Q<w.length;Q++)g[Q]=w[Q]}}i.push({from:d,to:g,fromCp:f,toCp:v,rotation:-p})}return i}function hh(t){return t.__isCombineMorphing}var zk="__mOriginal_";function vh(t,e,r){var n=zk+e,i=t[n]||t[e];t[n]||(t[n]=t[e]);var a=r.replace,o=r.after,s=r.before;t[e]=function(){var l=arguments,f;return s&&s.apply(this,l),a?f=a.apply(this,l):f=i.apply(this,l),o&&o.apply(this,l),f}}function nl(t,e){var r=zk+e;t[r]&&(t[e]=t[r],t[r]=null)}function sx(t,e){for(var r=0;r<t.length;r++)for(var n=t[r],i=0;i<n.length;){var a=n[i],o=n[i+1];n[i++]=e[0]*a+e[2]*o+e[4],n[i++]=e[1]*a+e[3]*o+e[5]}}function Gk(t,e){var r=t.getUpdatedPathProxy(),n=e.getUpdatedPathProxy(),i=UU(pg(r),pg(n)),a=i[0],o=i[1],s=t.getComputedTransform(),l=e.getComputedTransform();function f(){this.transform=null}s&&sx(a,s),l&&sx(o,l),vh(e,"updateTransform",{replace:f}),e.transform=null;var v=WU(a,o,10,Math.PI),d=[];vh(e,"buildPath",{replace:function(g){for(var p=e.__morphT,y=1-p,w=[],b=0;b<v.length;b++){var x=v[b],C=x.from,T=x.to,k=x.rotation*p,L=x.fromCp,M=x.toCp,N=Math.sin(k),R=Math.cos(k);p5(w,L,M,p);for(var D=0;D<C.length;D+=2){var F=C[D],z=C[D+1],G=T[D],q=T[D+1],H=F*y+G*p,V=z*y+q*p;d[D]=H*R-V*N+w[0],d[D+1]=H*N+V*R+w[1]}var U=d[0],W=d[1];g.moveTo(U,W);for(var D=2;D<C.length;){var G=d[D++],q=d[D++],Q=d[D++],J=d[D++],j=d[D++],pe=d[D++];U===G&&W===q&&Q===j&&J===pe?g.lineTo(j,pe):g.bezierCurveTo(G,q,Q,J,j,pe),U=j,W=pe}}}})}function Qm(t,e,r){if(!t||!e)return e;var n=r.done,i=r.during;Gk(t,e),e.__morphT=0;function a(){nl(e,"buildPath"),nl(e,"updateTransform"),e.__morphT=-1,e.createPathProxy(),e.dirtyShape()}return e.animateTo({__morphT:1},$e({during:function(o){e.dirtyShape(),i&&i(o)},done:function(){a(),n&&n()}},r)),e}function XU(t,e,r,n,i,a){var o=16;t=i===r?0:Math.round(32767*(t-r)/(i-r)),e=a===n?0:Math.round(32767*(e-n)/(a-n));for(var s=0,l,f=(1<<o)/2;f>0;f/=2){var v=0,d=0;(t&f)>0&&(v=1),(e&f)>0&&(d=1),s+=f*f*(3*v^d),d===0&&(v===1&&(t=f-1-t,e=f-1-e),l=t,t=e,e=l)}return s}function dh(t){var e=1/0,r=1/0,n=-1/0,i=-1/0,a=Me(t,function(s){var l=s.getBoundingRect(),f=s.getComputedTransform(),v=l.x+l.width/2+(f?f[4]:0),d=l.y+l.height/2+(f?f[5]:0);return e=Math.min(v,e),r=Math.min(d,r),n=Math.max(v,n),i=Math.max(d,i),[v,d]}),o=Me(a,function(s,l){return{cp:s,z:XU(s[0],s[1],e,r,n,i),path:t[l]}});return o.sort(function(s,l){return s.z-l.z}).map(function(s){return s.path})}function Vk(t){return HU(t.path,t.count)}function mg(){return{fromIndividuals:[],toIndividuals:[],count:0}}function KU(t,e,r){var n=[];function i(L){for(var M=0;M<L.length;M++){var N=L[M];hh(N)?i(N.childrenRef()):N instanceof We&&n.push(N)}}i(t);var a=n.length;if(!a)return mg();var o=r.dividePath||Vk,s=o({path:e,count:a});if(s.length!==a)return console.error("Invalid morphing: unmatched splitted path"),mg();n=dh(n),s=dh(s);for(var l=r.done,f=r.during,v=r.individualDelay,d=new Ah,g=0;g<a;g++){var p=n[g],y=s[g];y.parent=e,y.copyTransform(d),v||Gk(p,y)}e.__isCombineMorphing=!0,e.childrenRef=function(){return s};function w(L){for(var M=0;M<s.length;M++)s[M].addSelfToZr(L)}vh(e,"addSelfToZr",{after:function(L){w(L)}}),vh(e,"removeSelfFromZr",{after:function(L){for(var M=0;M<s.length;M++)s[M].removeSelfFromZr(L)}});function b(){e.__isCombineMorphing=!1,e.__morphT=-1,e.childrenRef=null,nl(e,"addSelfToZr"),nl(e,"removeSelfFromZr")}var x=s.length;if(v)for(var C=x,T=function(){C--,C===0&&(b(),l&&l())},g=0;g<x;g++){var k=v?$e({delay:(r.delay||0)+v(g,x,n[g],s[g]),done:T},r):r;Qm(n[g],s[g],k)}else e.__morphT=0,e.animateTo({__morphT:1},$e({during:function(L){for(var M=0;M<x;M++){var N=s[M];N.__morphT=e.__morphT,N.dirtyShape()}f&&f(L)},done:function(){b();for(var L=0;L<t.length;L++)nl(t[L],"updateTransform");l&&l()}},r));return e.__zr&&w(e.__zr),{fromIndividuals:n,toIndividuals:s,count:x}}function ZU(t,e,r){var n=e.length,i=[],a=r.dividePath||Vk;function o(p){for(var y=0;y<p.length;y++){var w=p[y];hh(w)?o(w.childrenRef()):w instanceof We&&i.push(w)}}if(hh(t)){o(t.childrenRef());var s=i.length;if(s<n)for(var l=0,f=s;f<n;f++)i.push(pm(i[l++%s]));i.length=n}else{i=a({path:t,count:n});for(var v=t.getComputedTransform(),f=0;f<i.length;f++)i[f].setLocalTransform(v);if(i.length!==n)return console.error("Invalid morphing: unmatched splitted path"),mg()}i=dh(i),e=dh(e);for(var d=r.individualDelay,f=0;f<n;f++){var g=d?$e({delay:(r.delay||0)+d(f,n,i[f],e[f])},r):r;Qm(i[f],e[f],g)}return{fromIndividuals:i,toIndividuals:e,count:e.length}}function ux(t){return we(t[0])}function lx(t,e){for(var r=[],n=t.length,i=0;i<n;i++)r.push({one:t[i],many:[]});for(var i=0;i<e.length;i++){var a=e[i].length,o=void 0;for(o=0;o<a;o++)r[o%n].many.push(e[i][o])}for(var s=0,i=n-1;i>=0;i--)if(!r[i].many.length){var l=r[s].many;if(l.length<=1)if(s)s=0;else return r;var a=l.length,f=Math.ceil(a/2);r[i].many=l.slice(f,a),r[s].many=l.slice(0,f),s++}return r}var jU={clone:function(t){for(var e=[],r=1-Math.pow(1-t.path.style.opacity,1/t.count),n=0;n<t.count;n++){var i=pm(t.path);i.setStyle("opacity",r),e.push(i)}return e},split:null};function Qd(t,e,r,n,i,a){if(!t.length||!e.length)return;var o=Uh("update",n,i);if(!(o&&o.duration>0))return;var s=n.getModel("universalTransition").get("delay"),l=Object.assign({setToFinal:!0},o),f,v;ux(t)&&(f=t,v=e),ux(e)&&(f=e,v=t);function d(x,C,T,k,L){var M=x.many,N=x.one;if(M.length===1&&!L){var R=C?M[0]:N,D=C?N:M[0];if(hh(R))d({many:[R],one:D},!0,T,k,!0);else{var F=s?$e({delay:s(T,k)},l):l;Qm(R,D,F),a(R,D,R,D,F)}}else for(var z=$e({dividePath:jU[r],individualDelay:s&&function(W,Q,J,j){return s(W+T,k)}},l),G=C?KU(M,N,z):ZU(N,M,z),q=G.fromIndividuals,H=G.toIndividuals,V=q.length,U=0;U<V;U++){var F=s?$e({delay:s(U,V)},l):l;a(q[U],H[U],C?M[U]:x.one,C?x.one:M[U],F)}}for(var g=f?f===t:t.length>e.length,p=f?lx(v,f):lx(g?e:t,[g?t:e]),y=0,w=0;w<p.length;w++)y+=p[w].many.length;for(var b=0,w=0;w<p.length;w++)d(p[w],g,b,y),b+=p[w].many.length}function Qa(t){if(!t)return[];if(we(t)){for(var e=[],r=0;r<t.length;r++)e.push(Qa(t[r]));return e}var n=[];return t.traverse(function(i){i instanceof We&&!i.disableMorphing&&!i.invisible&&!i.ignore&&n.push(i)}),n}var Hk=1e4,QU=0,cx=1,fx=2,JU=Ot();function eY(t,e){for(var r=t.dimensions,n=0;n<r.length;n++){var i=t.getDimensionInfo(r[n]);if(i&&i.otherDims[e]===0)return r[n]}}function tY(t,e,r){var n=t.getDimensionInfo(r),i=n&&n.ordinalMeta;if(n){var a=t.get(n.name,e);return i&&i.categories[a]||a+""}}function hx(t,e,r,n){var i=n?"itemChildGroupId":"itemGroupId",a=eY(t,i);if(a){var o=tY(t,e,a);return o}var s=t.getRawDataItem(e),l=n?"childGroupId":"groupId";if(s&&s[l])return s[l]+"";if(!n)return r||t.getId(e)}function vx(t){var e=[];return Y(t,function(r){var n=r.data,i=r.dataGroupId;if(!(n.count()>Hk))for(var a=n.getIndices(),o=0;o<a.length;o++)e.push({data:n,groupId:hx(n,o,i,!1),childGroupId:hx(n,o,i,!0),divide:r.divide,dataIndex:o})}),e}function Jd(t,e,r){t.traverse(function(n){n instanceof We&&$s(n,{style:{opacity:0}},e,{dataIndex:r,isFrom:!0})})}function ep(t){if(t.parent){var e=t.getComputedTransform();t.setLocalTransform(e),t.parent.remove(t)}}function Qo(t){t.stopAnimation(),t.isGroup&&t.traverse(function(e){e.stopAnimation()})}function rY(t,e,r){var n=Uh("update",r,e);n&&t.traverse(function(i){if(i instanceof Hs){var a=Hz(i);a&&i.animateFrom({style:a},n)}})}function nY(t,e){var r=t.length;if(r!==e.length)return!1;for(var n=0;n<r;n++){var i=t[n],a=e[n];if(i.data.getId(i.dataIndex)!==a.data.getId(a.dataIndex))return!1}return!0}function $k(t,e,r){var n=vx(t),i=vx(e);function a(T,k,L,M,N){(L||T)&&k.animateFrom({style:L&&L!==T?ye(ye({},L.style),T.style):T.style},N)}var o=!1,s=QU,l=Be(),f=Be();n.forEach(function(T){T.groupId&&l.set(T.groupId,!0),T.childGroupId&&f.set(T.childGroupId,!0)});for(var v=0;v<i.length;v++){var d=i[v].groupId;if(f.get(d)){s=cx;break}var g=i[v].childGroupId;if(g&&l.get(g)){s=fx;break}}function p(T,k){return function(L){var M=L.data,N=L.dataIndex;return k?M.getId(N):T?s===cx?L.childGroupId:L.groupId:s===fx?L.childGroupId:L.groupId}}var y=nY(n,i),w={};if(!y)for(var v=0;v<i.length;v++){var b=i[v],x=b.data.getItemGraphicEl(b.dataIndex);x&&(w[x.id]=!0)}function C(T,k){var L=n[k],M=i[T],N=M.data.hostModel,R=L.data.getItemGraphicEl(L.dataIndex),D=M.data.getItemGraphicEl(M.dataIndex);if(R===D){D&&rY(D,M.dataIndex,N);return}R&&w[R.id]||D&&(Qo(D),R?(Qo(R),ep(R),o=!0,Qd(Qa(R),Qa(D),M.divide,N,T,a)):Jd(D,N,T))}new ag(n,i,p(!0,y),p(!1,y),null,"multiple").update(C).updateManyToOne(function(T,k){var L=i[T],M=L.data,N=M.hostModel,R=M.getItemGraphicEl(L.dataIndex),D=Bt(Me(k,function(F){return n[F].data.getItemGraphicEl(n[F].dataIndex)}),function(F){return F&&F!==R&&!w[F.id]});R&&(Qo(R),D.length?(Y(D,function(F){Qo(F),ep(F)}),o=!0,Qd(Qa(D),Qa(R),L.divide,N,T,a)):Jd(R,N,L.dataIndex))}).updateOneToMany(function(T,k){var L=n[k],M=L.data.getItemGraphicEl(L.dataIndex);if(!(M&&w[M.id])){var N=Bt(Me(T,function(D){return i[D].data.getItemGraphicEl(i[D].dataIndex)}),function(D){return D&&D!==M}),R=i[T[0]].data.hostModel;N.length&&(Y(N,function(D){return Qo(D)}),M?(Qo(M),ep(M),o=!0,Qd(Qa(M),Qa(N),L.divide,R,T[0],a)):Y(N,function(D){return Jd(D,R,T[0])}))}}).updateManyToMany(function(T,k){new ag(k,T,function(L){return n[L].data.getId(n[L].dataIndex)},function(L){return i[L].data.getId(i[L].dataIndex)}).update(function(L,M){C(T[L],k[M])}).execute()}).execute(),o&&Y(e,function(T){var k=T.data,L=k.hostModel,M=L&&r.getViewOfSeriesModel(L),N=Uh("update",L,0);M&&L.isAnimationEnabled()&&N&&N.duration>0&&M.group.traverse(function(R){R instanceof We&&!R.animators.length&&R.animateFrom({style:{opacity:0}},N)})})}function dx(t){var e=t.getModel("universalTransition").get("seriesKey");return e||t.id}function px(t){return we(t)?t.sort().join(","):t}function Ki(t){if(t.hostModel)return t.hostModel.getModel("universalTransition").get("divideShape")}function iY(t,e){var r=Be(),n=Be(),i=Be();return Y(t.oldSeries,function(a,o){var s=t.oldDataGroupIds[o],l=t.oldData[o],f=dx(a),v=px(f);n.set(v,{dataGroupId:s,data:l}),we(f)&&Y(f,function(d){i.set(d,{key:v,dataGroupId:s,data:l})})}),Y(e.updatedSeries,function(a){if(a.isUniversalTransitionEnabled()&&a.isAnimationEnabled()){var o=a.get("dataGroupId"),s=a.getData(),l=dx(a),f=px(l),v=n.get(f);if(v)r.set(f,{oldSeries:[{dataGroupId:v.dataGroupId,divide:Ki(v.data),data:v.data}],newSeries:[{dataGroupId:o,divide:Ki(s),data:s}]});else if(we(l)){var d=[];Y(l,function(y){var w=n.get(y);w.data&&d.push({dataGroupId:w.dataGroupId,divide:Ki(w.data),data:w.data})}),d.length&&r.set(f,{oldSeries:d,newSeries:[{dataGroupId:o,data:s,divide:Ki(s)}]})}else{var g=i.get(l);if(g){var p=r.get(g.key);p||(p={oldSeries:[{dataGroupId:g.dataGroupId,data:g.data,divide:Ki(g.data)}],newSeries:[]},r.set(g.key,p)),p.newSeries.push({dataGroupId:o,data:s,divide:Ki(s)})}}}}),r}function gx(t,e){for(var r=0;r<t.length;r++){var n=e.seriesIndex!=null&&e.seriesIndex===t[r].seriesIndex||e.seriesId!=null&&e.seriesId===t[r].id;if(n)return r}}function aY(t,e,r,n){var i=[],a=[];Y(Rt(t.from),function(o){var s=gx(e.oldSeries,o);s>=0&&i.push({dataGroupId:e.oldDataGroupIds[s],data:e.oldData[s],divide:Ki(e.oldData[s]),groupIdDim:o.dimension})}),Y(Rt(t.to),function(o){var s=gx(r.updatedSeries,o);if(s>=0){var l=r.updatedSeries[s].getData();a.push({dataGroupId:e.oldDataGroupIds[s],data:l,divide:Ki(l),groupIdDim:o.dimension})}}),i.length>0&&a.length>0&&$k(i,a,n)}function oY(t){t.registerUpdateLifecycle("series:beforeupdate",function(e,r,n){Y(Rt(n.seriesTransition),function(i){Y(Rt(i.to),function(a){for(var o=n.updatedSeries,s=0;s<o.length;s++)(a.seriesIndex!=null&&a.seriesIndex===o[s].seriesIndex||a.seriesId!=null&&a.seriesId===o[s].id)&&(o[s][xf]=!0)})})}),t.registerUpdateLifecycle("series:transition",function(e,r,n){var i=JU(r);if(i.oldSeries&&n.updatedSeries&&n.optionChanged){var a=n.seriesTransition;if(a)Y(Rt(a),function(p){aY(p,i,n,r)});else{var o=iY(i,n);Y(o.keys(),function(p){var y=o.get(p);$k(y.oldSeries,y.newSeries,r)})}Y(n.updatedSeries,function(p){p[xf]&&(p[xf]=!1)})}for(var s=e.getSeries(),l=i.oldSeries=[],f=i.oldDataGroupIds=[],v=i.oldData=[],d=0;d<s.length;d++){var g=s[d].getData();g.count()<Hk&&(l.push(s[d]),f.push(s[d].get("dataGroupId")),v.push(g))}})}function mx(t,e,r){var n=zs.createCanvas(),i=e.getWidth(),a=e.getHeight(),o=n.style;return o&&(o.position="absolute",o.left="0",o.top="0",o.width=i+"px",o.height=a+"px",n.setAttribute("data-zr-dom-id",t)),n.width=i*r,n.height=a*r,n}var tp=function(t){xe(e,t);function e(r,n,i){var a=t.call(this)||this;a.motionBlur=!1,a.lastFrameAlpha=.7,a.dpr=1,a.virtual=!1,a.config={},a.incremental=!1,a.zlevel=0,a.maxRepaintRectCount=5,a.__dirty=!0,a.__firstTimePaint=!0,a.__used=!1,a.__drawIndex=0,a.__startIndex=0,a.__endIndex=0,a.__prevStartIndex=null,a.__prevEndIndex=null;var o;i=i||Xf,typeof r=="string"?o=mx(r,n,i):Le(r)&&(o=r,r=o.id),a.id=r,a.dom=o;var s=o.style;return s&&(gC(o),o.onselectstart=function(){return!1},s.padding="0",s.margin="0",s.borderWidth="0"),a.painter=n,a.dpr=i,a}return e.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},e.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},e.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},e.prototype.setUnpainted=function(){this.__firstTimePaint=!0},e.prototype.createBackBuffer=function(){var r=this.dpr;this.domBack=mx("back-"+this.id,this.painter,r),this.ctxBack=this.domBack.getContext("2d"),r!==1&&this.ctxBack.scale(r,r)},e.prototype.createRepaintRects=function(r,n,i,a){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var o=[],s=this.maxRepaintRectCount,l=!1,f=new Je(0,0,0,0);function v(C){if(!(!C.isFinite()||C.isZero()))if(o.length===0){var T=new Je(0,0,0,0);T.copy(C),o.push(T)}else{for(var k=!1,L=1/0,M=0,N=0;N<o.length;++N){var R=o[N];if(R.intersect(C)){var D=new Je(0,0,0,0);D.copy(R),D.union(C),o[N]=D,k=!0;break}else if(l){f.copy(C),f.union(R);var F=C.width*C.height,z=R.width*R.height,G=f.width*f.height,q=G-F-z;q<L&&(L=q,M=N)}}if(l&&(o[M].union(C),k=!0),!k){var T=new Je(0,0,0,0);T.copy(C),o.push(T)}l||(l=o.length>=s)}}for(var d=this.__startIndex;d<this.__endIndex;++d){var g=r[d];if(g){var p=g.shouldBePainted(i,a,!0,!0),y=g.__isRendered&&(g.__dirty&Wn||!p)?g.getPrevPaintRect():null;y&&v(y);var w=p&&(g.__dirty&Wn||!g.__isRendered)?g.getPaintRect():null;w&&v(w)}}for(var d=this.__prevStartIndex;d<this.__prevEndIndex;++d){var g=n[d],p=g&&g.shouldBePainted(i,a,!0,!0);if(g&&(!p||!g.__zr)&&g.__isRendered){var y=g.getPrevPaintRect();y&&v(y)}}var b;do{b=!1;for(var d=0;d<o.length;){if(o[d].isZero()){o.splice(d,1);continue}for(var x=d+1;x<o.length;)o[d].intersect(o[x])?(b=!0,o[d].union(o[x]),o.splice(x,1)):x++;d++}}while(b);return this._paintRects=o,o},e.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},e.prototype.resize=function(r,n){var i=this.dpr,a=this.dom,o=a.style,s=this.domBack;o&&(o.width=r+"px",o.height=n+"px"),a.width=r*i,a.height=n*i,s&&(s.width=r*i,s.height=n*i,i!==1&&this.ctxBack.scale(i,i))},e.prototype.clear=function(r,n,i){var a=this.dom,o=this.ctx,s=a.width,l=a.height;n=n||this.clearColor;var f=this.motionBlur&&!r,v=this.lastFrameAlpha,d=this.dpr,g=this;f&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(a,0,0,s/d,l/d));var p=this.domBack;function y(w,b,x,C){if(o.clearRect(w,b,x,C),n&&n!=="transparent"){var T=void 0;if(Ph(n)){var k=n.global||n.__width===x&&n.__height===C;T=k&&n.__canvasGradient||eg(o,n,{x:0,y:0,width:x,height:C}),n.__canvasGradient=T,n.__width=x,n.__height=C}else r5(n)&&(n.scaleX=n.scaleX||d,n.scaleY=n.scaleY||d,T=tg(o,n,{dirty:function(){g.setUnpainted(),g.painter.refresh()}}));o.save(),o.fillStyle=T||n,o.fillRect(w,b,x,C),o.restore()}f&&(o.save(),o.globalAlpha=v,o.drawImage(p,w,b,x,C),o.restore())}!i||f?y(0,0,s,l):i.length&&Y(i,function(w){y(w.x*d,w.y*d,w.width*d,w.height*d)})},e}(ti),yx=1e5,ja=314159,Jc=.01,sY=.001;function uY(t){return t?t.__builtin__?!0:!(typeof t.resize!="function"||typeof t.refresh!="function"):!1}function lY(t,e){var r=document.createElement("div");return r.style.cssText=["position:relative","width:"+t+"px","height:"+e+"px","padding:0","margin:0","border-width:0"].join(";")+";",r}var cY=function(){function t(e,r,n,i){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var a=!e.nodeName||e.nodeName.toUpperCase()==="CANVAS";this._opts=n=ye({},n||{}),this.dpr=n.devicePixelRatio||Xf,this._singleCanvas=a,this.root=e;var o=e.style;o&&(gC(e),e.innerHTML=""),this.storage=r;var s=this._zlevelList;this._prevDisplayList=[];var l=this._layers;if(a){var v=e,d=v.width,g=v.height;n.width!=null&&(d=n.width),n.height!=null&&(g=n.height),this.dpr=n.devicePixelRatio||1,v.width=d*this.dpr,v.height=g*this.dpr,this._width=d,this._height=g;var p=new tp(v,this,this.dpr);p.__builtin__=!0,p.initContext(),l[ja]=p,p.zlevel=ja,s.push(ja),this._domRoot=e}else{this._width=Yc(e,0,n),this._height=Yc(e,1,n);var f=this._domRoot=lY(this._width,this._height);e.appendChild(f)}}return t.prototype.getType=function(){return"canvas"},t.prototype.isSingleCanvas=function(){return this._singleCanvas},t.prototype.getViewportRoot=function(){return this._domRoot},t.prototype.getViewportRootOffset=function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},t.prototype.refresh=function(e){var r=this.storage.getDisplayList(!0),n=this._prevDisplayList,i=this._zlevelList;this._redrawId=Math.random(),this._paintList(r,n,e,this._redrawId);for(var a=0;a<i.length;a++){var o=i[a],s=this._layers[o];if(!s.__builtin__&&s.refresh){var l=a===0?this._backgroundColor:null;s.refresh(l)}}return this._opts.useDirtyRect&&(this._prevDisplayList=r.slice()),this},t.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},t.prototype._paintHoverList=function(e){var r=e.length,n=this._hoverlayer;if(n&&n.clear(),!!r){for(var i={inHover:!0,viewWidth:this._width,viewHeight:this._height},a,o=0;o<r;o++){var s=e[o];s.__inHover&&(n||(n=this._hoverlayer=this.getLayer(yx)),a||(a=n.ctx,a.save()),oo(a,s,i,o===r-1))}a&&a.restore()}},t.prototype.getHoverLayer=function(){return this.getLayer(yx)},t.prototype.paintOne=function(e,r){AE(e,r)},t.prototype._paintList=function(e,r,n,i){if(this._redrawId===i){n=n||!1,this._updateLayerStatus(e);var a=this._doPaintList(e,r,n),o=a.finished,s=a.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),s&&this._paintHoverList(e),o)this.eachLayer(function(f){f.afterBrush&&f.afterBrush()});else{var l=this;Uf(function(){l._paintList(e,r,n,i)})}}},t.prototype._compositeManually=function(){var e=this.getLayer(ja).ctx,r=this._domRoot.width,n=this._domRoot.height;e.clearRect(0,0,r,n),this.eachBuiltinLayer(function(i){i.virtual&&e.drawImage(i.dom,0,0,r,n)})},t.prototype._doPaintList=function(e,r,n){for(var i=this,a=[],o=this._opts.useDirtyRect,s=0;s<this._zlevelList.length;s++){var l=this._zlevelList[s],f=this._layers[l];f.__builtin__&&f!==this._hoverlayer&&(f.__dirty||n)&&a.push(f)}for(var v=!0,d=!1,g=function(w){var b=a[w],x=b.ctx,C=o&&b.createRepaintRects(e,r,p._width,p._height),T=n?b.__startIndex:b.__drawIndex,k=!n&&b.incremental&&Date.now,L=k&&Date.now(),M=b.zlevel===p._zlevelList[0]?p._backgroundColor:null;if(b.__startIndex===b.__endIndex)b.clear(!1,M,C);else if(T===b.__startIndex){var N=e[T];(!N.incremental||!N.notClear||n)&&b.clear(!1,M,C)}T===-1&&(console.error("For some unknown reason. drawIndex is -1"),T=b.__startIndex);var R,D=function(q){var H={inHover:!1,allClipped:!1,prevEl:null,viewWidth:i._width,viewHeight:i._height};for(R=T;R<b.__endIndex;R++){var V=e[R];if(V.__inHover&&(d=!0),i._doPaintEl(V,b,o,q,H,R===b.__endIndex-1),k){var U=Date.now()-L;if(U>15)break}}H.prevElClipPaths&&x.restore()};if(C)if(C.length===0)R=b.__endIndex;else for(var F=p.dpr,z=0;z<C.length;++z){var G=C[z];x.save(),x.beginPath(),x.rect(G.x*F,G.y*F,G.width*F,G.height*F),x.clip(),D(G),x.restore()}else x.save(),D(),x.restore();b.__drawIndex=R,b.__drawIndex<b.__endIndex&&(v=!1)},p=this,y=0;y<a.length;y++)g(y);return Oe.wxa&&Y(this._layers,function(w){w&&w.ctx&&w.ctx.draw&&w.ctx.draw()}),{finished:v,needsRefreshHover:d}},t.prototype._doPaintEl=function(e,r,n,i,a,o){var s=r.ctx;if(n){var l=e.getPaintRect();(!i||l&&l.intersect(i))&&(oo(s,e,a,o),e.setPrevPaintRect(l))}else oo(s,e,a,o)},t.prototype.getLayer=function(e,r){this._singleCanvas&&!this._needsManuallyCompositing&&(e=ja);var n=this._layers[e];return n||(n=new tp("zr_"+e,this,this.dpr),n.zlevel=e,n.__builtin__=!0,this._layerConfig[e]?ct(n,this._layerConfig[e],!0):this._layerConfig[e-Jc]&&ct(n,this._layerConfig[e-Jc],!0),r&&(n.virtual=r),this.insertLayer(e,n),n.initContext()),n},t.prototype.insertLayer=function(e,r){var n=this._layers,i=this._zlevelList,a=i.length,o=this._domRoot,s=null,l=-1;if(!n[e]&&uY(r)){if(a>0&&e>i[0]){for(l=0;l<a-1&&!(i[l]<e&&i[l+1]>e);l++);s=n[i[l]]}if(i.splice(l+1,0,e),n[e]=r,!r.virtual)if(s){var f=s.dom;f.nextSibling?o.insertBefore(r.dom,f.nextSibling):o.appendChild(r.dom)}else o.firstChild?o.insertBefore(r.dom,o.firstChild):o.appendChild(r.dom);r.painter||(r.painter=this)}},t.prototype.eachLayer=function(e,r){for(var n=this._zlevelList,i=0;i<n.length;i++){var a=n[i];e.call(r,this._layers[a],a)}},t.prototype.eachBuiltinLayer=function(e,r){for(var n=this._zlevelList,i=0;i<n.length;i++){var a=n[i],o=this._layers[a];o.__builtin__&&e.call(r,o,a)}},t.prototype.eachOtherLayer=function(e,r){for(var n=this._zlevelList,i=0;i<n.length;i++){var a=n[i],o=this._layers[a];o.__builtin__||e.call(r,o,a)}},t.prototype.getLayers=function(){return this._layers},t.prototype._updateLayerStatus=function(e){this.eachBuiltinLayer(function(d,g){d.__dirty=d.__used=!1});function r(d){a&&(a.__endIndex!==d&&(a.__dirty=!0),a.__endIndex=d)}if(this._singleCanvas)for(var n=1;n<e.length;n++){var i=e[n];if(i.zlevel!==e[n-1].zlevel||i.incremental){this._needsManuallyCompositing=!0;break}}var a=null,o=0,s,l;for(l=0;l<e.length;l++){var i=e[l],f=i.zlevel,v=void 0;s!==f&&(s=f,o=0),i.incremental?(v=this.getLayer(f+sY,this._needsManuallyCompositing),v.incremental=!0,o=1):v=this.getLayer(f+(o>0?Jc:0),this._needsManuallyCompositing),v.__builtin__||Qg("ZLevel "+f+" has been used by unkown layer "+v.id),v!==a&&(v.__used=!0,v.__startIndex!==l&&(v.__dirty=!0),v.__startIndex=l,v.incremental?v.__drawIndex=-1:v.__drawIndex=l,r(l),a=v),i.__dirty&Wn&&!i.__inHover&&(v.__dirty=!0,v.incremental&&v.__drawIndex<0&&(v.__drawIndex=l))}r(l),this.eachBuiltinLayer(function(d,g){!d.__used&&d.getElementCount()>0&&(d.__dirty=!0,d.__startIndex=d.__endIndex=d.__drawIndex=0),d.__dirty&&d.__drawIndex<0&&(d.__drawIndex=d.__startIndex)})},t.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},t.prototype._clearLayer=function(e){e.clear()},t.prototype.setBackgroundColor=function(e){this._backgroundColor=e,Y(this._layers,function(r){r.setUnpainted()})},t.prototype.configLayer=function(e,r){if(r){var n=this._layerConfig;n[e]?ct(n[e],r,!0):n[e]=r;for(var i=0;i<this._zlevelList.length;i++){var a=this._zlevelList[i];if(a===e||a===e+Jc){var o=this._layers[a];ct(o,n[e],!0)}}}},t.prototype.delLayer=function(e){var r=this._layers,n=this._zlevelList,i=r[e];i&&(i.dom.parentNode.removeChild(i.dom),delete r[e],n.splice(lt(n,e),1))},t.prototype.resize=function(e,r){if(this._domRoot.style){var n=this._domRoot;n.style.display="none";var i=this._opts,a=this.root;if(e!=null&&(i.width=e),r!=null&&(i.height=r),e=Yc(a,0,i),r=Yc(a,1,i),n.style.display="",this._width!==e||r!==this._height){n.style.width=e+"px",n.style.height=r+"px";for(var o in this._layers)this._layers.hasOwnProperty(o)&&this._layers[o].resize(e,r);this.refresh(!0)}this._width=e,this._height=r}else{if(e==null||r==null)return;this._width=e,this._height=r,this.getLayer(ja).resize(e,r)}return this},t.prototype.clearLayer=function(e){var r=this._layers[e];r&&r.clear()},t.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},t.prototype.getRenderedCanvas=function(e){if(e=e||{},this._singleCanvas&&!this._compositeManually)return this._layers[ja].dom;var r=new tp("image",this,e.pixelRatio||this.dpr);r.initContext(),r.clear(!1,e.backgroundColor||this._backgroundColor);var n=r.ctx;if(e.pixelRatio<=this.dpr){this.refresh();var i=r.dom.width,a=r.dom.height;this.eachLayer(function(d){d.__builtin__?n.drawImage(d.dom,0,0,i,a):d.renderToCanvas&&(n.save(),d.renderToCanvas(n),n.restore())})}else for(var o={inHover:!1,viewWidth:this._width,viewHeight:this._height},s=this.storage.getDisplayList(!0),l=0,f=s.length;l<f;l++){var v=s[l];oo(n,v,o,l===f-1)}return r.dom},t.prototype.getWidth=function(){return this._width},t.prototype.getHeight=function(){return this._height},t}();function fY(t){t.registerPainter("canvas",cY)}const hY=["id"],vY=window.Cesium.createGuid,dY=he({__name:"Chart",props:{width:{type:String,default:()=>"15em"},height:{type:String,default:()=>"15em"},left:{type:[String,null],default:()=>null},bottom:{type:[String,null],default:()=>null},option:{type:Object,default:()=>({grid:{left:"10px",right:"10px",bottom:"10px",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:["a","b"],show:!0,nameLocation:"middle",nameGap:20,axisLabel:{rotate:20}},yAxis:{type:"value"},series:[{data:[10,50],type:"line",showSymbol:!0}]})},id:{type:String,default:()=>vY()}},setup(t){kl([G$,AU,fY,oY,aU]);const e=t,r=Z(()=>({width:e.width,height:e.height,margin:"0 auto",position:e.bottom&&e.left?"fixed":"none",left:e.left||"auto",bottom:e.bottom||"auto",pointerEvents:"none"}));let n;function i(a){n?n.setOption(a):(n=lV(document.getElementById(e.id),null,{locale:"ZH"}),n.setOption(a),addEventListener("resize",()=>{setTimeout(()=>{n.resize()},1e3)}))}return Ae(()=>e.option,a=>{i(a)},{deep:!0}),Et(()=>i(e.option)),(a,o)=>(ie(),fe("div",{id:e.id,style:kt(r.value)},null,12,hY))}});function _x(t,e){return{grid:{left:"10px",right:"10px",bottom:"10px",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:e,show:!0,nameLocation:"middle",nameGap:20,axisLabel:{rotate:20}},yAxis:{type:"value"},series:[{data:t,type:"line",showSymbol:!1,min:0,max:1}]}}const pY={class:"opts"},gY={class:"opt-item"},mY={class:"opt-item"},yY={class:"btns"},_Y=he({__name:"Profile",setup(t){const e=new Co(window.viewer,{type:wn.POLYLINE,clampToGround:!0,showShape:!0}),r=Jt({tiped:!1,loading:!1,chartVisible:!1,type:uf.TERRAIN,option:_x([],[]),interval:50}),n=window.viewer,i=new GF(n);e.finishedEvt.addEventListener(async s=>{r.loading=!0,s.length>=2&&i.analyse(s,{type:r.type,interval:r.interval}).then(l=>{const{category:f,positions:v}=l,d=v.map(p=>Number(p.height.toFixed(2))),g=f.map(p=>Number(p).toFixed(1));r.option=_x(d,g),r.chartVisible=!0}).finally(()=>r.loading=!1)});const a=()=>{if(r.tiped||(la({message:"",duration:5e3}),r.tiped=!0),!n.terrainProvider){la({message:"",type:"warning"});return}e.start()},o=()=>{e.clear(),r.chartVisible=!1};return Qt(()=>{o()}),(s,l)=>Mt((ie(),fe("div",null,[re("div",pY,[re("div",gY,[l[5]||(l[5]=re("label",null,"",-1)),Ee(P(PS),{modelValue:r.type,"onUpdate:modelValue":l[0]||(l[0]=f=>r.type=f)},{default:Ne(()=>[Ee(P(Hu),{label:"terrain",value:P(uf).TERRAIN},{default:Ne(()=>l[3]||(l[3]=[Un("")])),_:1},8,["value"]),Ee(P(Hu),{label:"model",value:P(uf).MODEL},{default:Ne(()=>l[4]||(l[4]=[Un("")])),_:1},8,["value"])]),_:1},8,["modelValue"])]),re("div",mY,[l[6]||(l[6]=re("label",null,"",-1)),Ee(P(Dl),{modelValue:r.interval,"onUpdate:modelValue":l[1]||(l[1]=f=>r.interval=f),min:1,max:100,controls:!1},null,8,["modelValue"])])]),Mt(Ee(dY,{option:r.option,width:"18em",height:"15em"},null,8,["option"]),[[Ci,r.chartVisible]]),re("div",yY,[re("button",{class:"btn",onClick:a},""),re("button",{class:"btn",onClick:l[2]||(l[2]=()=>r.chartVisible=!r.chartVisible)},At(r.chartVisible?"":"")+" ",1),re("button",{class:"btn",onClick:o},"")])])),[[P(Fs),r.loading]])}}),it=window.Cesium;class wY{constructor(e,r){this.height=10,this.baseHeight=10,this.upColor="rgba(239, 78, 43, 0.7)",this.downColor="rgba(21, 170, 57, 0.7)",this.positions=[],this.extrudedHeight=1e3,this.viewer=e,this.positions=[],this.upPrimitive=null,this.panelEntity=null,this.downEntity=null,r&&this.setOption(r)}setOption(e){this.height=e.height||this.height,this.baseHeight=e.baseHeight||this.baseHeight,this.extrudedHeight=e.extrudedHeight||this.extrudedHeight,this.upColor=e.upColor||this.upColor,this.downColor=e.downColor||this.downColor}cartesian3ToCartographic(){return this.positions.map(r=>{let n=it.Cartographic.fromCartesian(r);return n.height=this.height,n}).map(r=>it.Cartesian3.fromDegrees(it.Math.toDegrees(r.longitude),it.Math.toDegrees(r.latitude),r.height))}_drawDownEntity(){this.downEntity=this.viewer.entities.add({polygon:{hierarchy:new it.CallbackProperty(()=>new it.PolygonHierarchy(this.cartesian3ToCartographic()),!1),material:new it.ColorMaterialProperty(it.Color.fromCssColorString(this.downColor)),perPositionHeight:!1,outline:!0,outlineColor:it.Color.YELLOW.withAlpha(.7),classificationType:it.ClassificationType.CESIUM_3D_TILE}})}_drawFloatingEntity(){this.panelEntity=this.viewer.entities.add({polygon:{hierarchy:new it.CallbackProperty(()=>new it.PolygonHierarchy(this.cartesian3ToCartographic()),!1),material:new it.ColorMaterialProperty(it.Color.WHITE.withAlpha(.3)),perPositionHeight:!0,outline:!0,outlineWidth:4,outlineColor:it.Color.YELLOW.withAlpha(1)}})}_drawUpPrimitive(){let e=new it.GeometryInstance({geometry:new it.PolygonGeometry({polygonHierarchy:new it.PolygonHierarchy(this.positions),height:0,extrudedHeight:this.extrudedHeight}),attributes:{color:it.ColorGeometryInstanceAttribute.fromColor(it.Color.fromCssColorString(this.upColor))}});this.upPrimitive||(this.upPrimitive=this.viewer.scene.primitives.add(new it.ClassificationPrimitive({geometryInstances:e,releaseGeometryInstances:!1,classificationType:it.ClassificationType.CESIUM_3D_TILE})))}changeUpHeight(e){if(!this.upPrimitive)return;this.height=e;let r=it.Cartographic.fromCartesian(this.upPrimitive._primitive._boundingSpheres[0].center),n=it.Cartesian3.fromRadians(r.longitude,r.latitude,this.baseHeight),i=it.Cartesian3.fromRadians(r.longitude,r.latitude,this.baseHeight+e),a=it.Cartesian3.subtract(i,n,new it.Cartesian3);this.upPrimitive._primitive.modelMatrix=it.Matrix4.fromTranslation(a)}analyse(e){this.positions.length=0,this.positions.push(...e),this._drawUpPrimitive(),this._drawDownEntity(),this._drawFloatingEntity(),setTimeout(()=>{this.changeUpHeight(this.height)},1500)}clear(){this.positions.length=0,this.panelEntity&&this.viewer.entities.remove(this.panelEntity),this.downEntity&&this.viewer.entities.remove(this.downEntity),this.viewer.scene.primitives.remove(this.upPrimitive),this.upPrimitive=null,this.panelEntity=null,this.downEntity=null}}const bY={class:"opts"},xY={class:"opt-item"},SY=he({__name:"HeightRestriction",setup(t){const e=new Co(window.viewer,{type:wn.POLYGON,clampToGround:!1,showShape:!0}),r=Jt({tiped:!1,loading:!1,height:200,baseHeight:0,upColor:"rgba(243, 86, 25, 0.7)",downColor:"rgba(21, 170, 57, 0.7)"}),n=window.viewer,i=new wY(n,{height:r.height,baseHeight:r.baseHeight,upColor:r.upColor,downColor:r.downColor,extrudedHeight:1e3});e.finishedEvt.addEventListener(l=>{l.length>=3&&i.analyse(l)});const a=()=>{r.tiped||(la({message:"",duration:5e3}),r.tiped=!0),e.start()},o=()=>{e.clear(),i==null||i.clear()},s=kf(()=>{i==null||i.changeUpHeight(r.height)});return Ae(()=>r.height,()=>{s()}),Qt(()=>{o()}),(l,f)=>Mt((ie(),fe("div",null,[re("div",bY,[re("div",xY,[f[1]||(f[1]=re("label",null,"",-1)),Ee(P(pO),{modelValue:r.height,"onUpdate:modelValue":f[0]||(f[0]=v=>r.height=v),min:10,max:500,step:10},null,8,["modelValue"])])]),re("div",{class:"btns"},[re("button",{class:"btn",onClick:a},""),re("button",{class:"btn",onClick:o},"")])])),[[P(Fs),r.loading]])}}),pn=window.Cesium;var qr=(t=>(t.POINT="point",t.POLYLINE="polyline",t.POLYGON="polygon",t))(qr||{});let CY=class{constructor(e){this.distance=100,this.type="polygon",e&&this.setOptions(e)}setOptions(e){e&&(this.distance=e.distance||this.distance,this.type=e.type||this.type)}analyse(e){return new Promise((r,n)=>{if(this.type=="point"){const i=[];e.forEach(a=>{const o=pn.Cartographic.fromCartesian(a);let s=Rl([pn.Math.toDegrees(o.longitude),pn.Math.toDegrees(o.latitude)]),l=Fv(s,this.distance,{units:"meters"});const f=l==null?void 0:l.geometry.coordinates[0],v=f==null?void 0:f.map(d=>pn.Cartesian3.fromDegrees(d[0],d[1]));v&&i.push(...v)}),r(i)}else{let i;if(this.type==="polyline"){const s=e.map(f=>pn.Cartographic.fromCartesian(f));let l=BS(s.map(f=>[pn.Math.toDegrees(f.longitude),pn.Math.toDegrees(f.latitude)]));i=Fv(l,this.distance,{units:"meters"})}else if(this.type==="polygon"){const s=e.map(f=>pn.Cartographic.fromCartesian(f));let l=Ih([s.map(f=>[pn.Math.toDegrees(f.longitude),pn.Math.toDegrees(f.latitude)])]);i=Fv(l,this.distance,{units:"meters"})}else n("");const a=i==null?void 0:i.geometry.coordinates[0],o=a==null?void 0:a.map(s=>pn.Cartesian3.fromDegrees(s[0],s[1]));r(o)}})}clear(){}};const TY={class:"opts"},EY={class:"opt-item"},kY={class:"opt-item"},IY={class:"opt-item"},Pu=window.Cesium,MY=he({__name:"Buffer",setup(t){const e=Jt({tiped:!1,loading:!1,type:qr.POLYLINE,distance:100,color:"#0ff"}),r=window.viewer,n=new Pu.CustomDataSource;r.dataSources.add(n);const i=new CY({type:qr.POLYLINE,distance:e.distance}),a=new Co(window.viewer,{type:wn.POLYLINE,clampToGround:!0,showShape:!0});a.drawingEvt.addEventListener(f=>{if(e.type!==qr.POINT)return;const v=f.length;i.analyse([f[v-1]]).then(d=>{n.entities.add({polygon:{hierarchy:new Pu.PolygonHierarchy(d),material:Pu.Color.fromCssColorString(e.color)}})})}),a.finishedEvt.addEventListener(f=>{e.type!==qr.POINT&&(e.loading=!0,e.type==qr.POLYGON&&f.push(f[0]),f.length>=2&&i.analyse(f).then(v=>{n.entities.add({polygon:{hierarchy:new Pu.PolygonHierarchy(v),material:Pu.Color.fromCssColorString(e.color)}})}).finally(()=>e.loading=!1))});const o=Z(()=>{if(e.type==qr.POINT)return wn.POINT;if(e.type==qr.POLYLINE)return wn.POLYLINE;if(e.type==qr.POLYGON)return wn.POLYGON}),s=()=>{e.tiped||(la({message:"",duration:5e3}),e.tiped=!0),a.start(o.value)},l=()=>{a.clear(),n.entities.removeAll(),i==null||i.clear()};return Ae(()=>e.type,()=>{i.type=e.type}),Ae(()=>e.distance,()=>{i.distance=e.distance}),Qt(()=>{l(),r.dataSources.remove(n)}),(f,v)=>{const d=Fs;return Mt((ie(),fe("div",null,[re("div",TY,[re("div",EY,[v[6]||(v[6]=re("label",null,"",-1)),Ee(P(PS),{modelValue:e.type,"onUpdate:modelValue":v[0]||(v[0]=g=>e.type=g)},{default:Ne(()=>[Ee(P(Hu),{value:P(qr).POINT},{default:Ne(()=>v[3]||(v[3]=[Un("")])),_:1},8,["value"]),Ee(P(Hu),{value:P(qr).POLYLINE},{default:Ne(()=>v[4]||(v[4]=[Un("")])),_:1},8,["value"]),Ee(P(Hu),{value:P(qr).POLYGON},{default:Ne(()=>v[5]||(v[5]=[Un("")])),_:1},8,["value"])]),_:1},8,["modelValue"])]),re("div",kY,[v[7]||(v[7]=re("label",null,"",-1)),Ee(P(Dl),{modelValue:e.distance,"onUpdate:modelValue":v[1]||(v[1]=g=>e.distance=g),min:1,max:1e4,controls:!1},null,8,["modelValue"])]),re("div",IY,[v[8]||(v[8]=re("label",null,"",-1)),Ee(P($R),{modelValue:e.color,"onUpdate:modelValue":v[2]||(v[2]=g=>e.color=g)},null,8,["modelValue"])])]),re("div",{class:"btns"},[re("button",{class:"btn",onClick:s},""),re("button",{class:"btn",onClick:l},"")])])),[[d,e.loading]])}}}),wt=window.Cesium;class LY{constructor(e,r){this._minHeight=0,this._maxHeight=0,this.hwr=1,this.breaks=[],this.breakCount=5,this.width=1e3,this.colors=[],this.interval=50,this._terrainProvider=e,Object.assign(this,r)}get gradeCount(){return this.breaks.length}getBbox(e){let r=wt.Cartographic.fromCartesian(e[0]),n=wt.Math.toDegrees(r.latitude),i=wt.Math.toDegrees(r.longitude),a=wt.Math.toDegrees(r.latitude),o=wt.Math.toDegrees(r.longitude);for(let s=1;s<e.length;s++){const l=wt.Cartographic.fromCartesian(e[s]),f=wt.Math.toDegrees(l.latitude),v=wt.Math.toDegrees(l.longitude);n=Math.min(n,f),i=Math.min(i,v),a=Math.max(a,f),o=Math.max(o,v)}return{minLat:n,minLng:i,maxLat:a,maxLng:o}}genGrid(e){const r=[],n=this.getBbox(e),{minLat:i,minLng:a,maxLat:o,maxLng:s}=n,l=wt.Cartesian3.distance(wt.Cartesian3.fromDegrees(a,i,0),wt.Cartesian3.fromDegrees(s,o,0)),f=wt.Cartesian3.distance(wt.Cartesian3.fromDegrees(a,i,0),wt.Cartesian3.fromDegrees(a,o,0));this.hwr=l/f;const v=this.width,d=this.width/this.hwr,g=(s-a)/v,p=(o-i)/d;let y=[];for(let w=0;w<d;w++){const b=[];for(let x=0;x<v;x++)b.push(wt.Cartographic.fromDegrees(n.minLng+x*g,n.minLat+w*p,0));y.push(b)}y=y.reverse();for(let w=0;w<y.length;w++)for(let b=0;b<y[w].length;b++)r.push(y[w][b]);return r}async analyse(e,r=null){try{if(typeof r=="number"&&(this.interval=r),e.length<3)throw new Error("positions.length < 3");return this.clear(),new Promise((n,i)=>{const a=this.genGrid(e);wt.sampleTerrainMostDetailed(this._terrainProvider,a).then(o=>{const s=this.createMaterial(e,o);n(s)}).catch(o=>i(o))})}catch(n){return Promise.reject(n)}}detectColor(e){let r;for(let n=0;n<this.breaks.length-1;n++){if(e<this.breaks[0]){r=wt.Color.WHITE.withAlpha(.3);break}if(e>=this.breaks[n]&&e<this.breaks[n+1]){r=this.colors[n];break}if(e>=this.breaks[this.breaks.length-1]){r=this.colors[this.breaks.length-1];break}}return r||(r=wt.Color.fromRandom().withAlpha(.3)),r}toCanvas(e,r=5){const n=e.map(y=>y.height),i=this.width,a=Math.ceil(this.width/this.hwr);console.log(`w: ${i}, h: ${a}`);const o=document.createElement("canvas");o.height=a,o.width=i;let s=n[0],l=n[0];n.forEach(y=>{s=Math.max(s,y),l=Math.min(l,y)}),this._maxHeight=s,this._minHeight=l;const f=(s-l)/r;this.breaks=new Array(r).fill(0).map((y,w)=>Number((l+w*f).toFixed(2)));const v=o.getContext("2d"),d=new Uint8ClampedArray(i*a*4),g=new Map;this.breaks.forEach(y=>{g.set(y,wt.Color.fromRandom().withAlpha(.7))});for(let y=0;y<a;y++)for(let w=0;w<i;w++){const b=n[y*i+w],x=this.detectColor(b),C=(y*i+w)*4;d[C+0]=x.red*255,d[C+1]=x.green*255,d[C+2]=x.blue*255,d[C+3]=x.alpha*255}const p=new ImageData(d,i,a);return v.putImageData(p,0,0),o}createMaterial(e,r){const n=this.toCanvas(r,this.breakCount);return new wt.Entity({polygon:{hierarchy:new wt.PolygonHierarchy(e),material:new wt.ImageMaterialProperty({image:n}),classificationType:wt.ClassificationType.BOTH}})}clear(){this.breaks.length=0,this._minHeight=0,this._maxHeight=0}}const PY={class:"opts"},NY={class:"opt-item"},Pr=window.Cesium,AY=he({__name:"Isosurface",setup(t){const e=new Co(window.viewer,{type:wn.POLYGON,clampToGround:!1,showShape:!0}),r=Jt({tiped:!1,loading:!1,interval:50,breaks:[0,25,50,75,100],lineWidth:2}),n=v=>(v=v/100,v<=.33?Pr.Color.lerp(Pr.Color.BLUE,Pr.Color.GREEN,v*3,new Pr.Color):v<=.66?Pr.Color.lerp(Pr.Color.GREEN,Pr.Color.YELLOW,(v-.33)*3,new Pr.Color):Pr.Color.lerp(Pr.Color.YELLOW,Pr.Color.RED,(v-.66)*3,new Pr.Color)),i=v=>{const d=[],g=100/v;for(let p=0;p<=v;p++)d.push(n(p*g));return d},a=window.viewer,o=new LY(a.terrainProvider,{width:1500,colors:i(8),breakCount:8}),s=a.scene.groundPrimitives.add(new Pr.PrimitiveCollection);e.finishedEvt.addEventListener(v=>{v.length>=3&&(r.loading=!0,o.analyse(v,r.interval).then(d=>{a.entities.add(d)}).finally(()=>{r.loading=!1}))});const l=()=>{r.tiped||(la({message:"",duration:5e3}),r.tiped=!0),e.start()},f=()=>{e.clear(),s.removeAll(),a.entities.removeAll()};return Qt(()=>{f()}),(v,d)=>Mt((ie(),fe("div",null,[re("div",PY,[re("div",NY,[d[1]||(d[1]=re("label",null,"",-1)),Ee(P(Dl),{modelValue:r.interval,"onUpdate:modelValue":d[0]||(d[0]=g=>r.interval=g),min:10,max:2e3,controls:!1},null,8,["modelValue"])])]),Ee(lC,{unit:"m","quart-labels":r.breaks,"color-func":n},null,8,["quart-labels"]),re("div",{class:"btns"},[re("button",{class:"btn",onClick:l},""),re("button",{class:"btn",onClick:f},"")])])),[[P(Fs),r.loading]])}}),DY="https://github.com/giserlab/cdk",RY=he({__name:"GithubRepo",setup(t){const e=()=>{window.open(DY,"_blank")};return(r,n)=>{const i=_g;return ie(),fe("i",null,[Ee(i,{name:"github",cursor:"pointer",onClick:e})])}}}),OY={class:"menu-item sub"},FY=["onClick"],BY={class:"menu-item sub2"},zY=["onClick"],GY={class:"footer"},VY=he({__name:"index",setup(t){const e=[{name:"",subs:[{comp:PF,name:"",icon:"sight"},{comp:SY,name:"",icon:"height"},{comp:MY,name:"",icon:"buffer"},{comp:_Y,name:"",icon:"profile",width:"20em",height:"15em"}]},{name:"",subs:[{comp:kF,name:"",icon:"aspect"},{comp:zF,name:"",icon:"contour"},{comp:AY,name:"",icon:"isosurface"}]}],r=Jt({activeName:e[0].name,subActiveName:""}),n=Z(()=>ic.getActiveAnalyse),{createDialog:i,clearDialog:a}=OO();let o=null;function s(){a(o),o=null}function l(f){if(o!=null&&s(),f.name==n.value){ic.setActiveAnalyse("");return}ic.setActiveAnalyse(f.name),o=i({title:f.name,component:f.comp,width:f.width||"18em",height:f.height||"8em",top:"8em",right:"1em",onClose:()=>{s(),ic.setActiveAnalyse("")}})}return(f,v)=>{const d=_g;return ie(),fe($t,null,[Ee(P(yR),{modelValue:r.activeName,"onUpdate:modelValue":v[0]||(v[0]=g=>r.activeName=g)},{default:Ne(()=>[(ie(),fe($t,null,wi(e,g=>Ee(P(Lv),{key:g.name,name:g.name,title:g.name},{default:Ne(()=>[re("ul",null,[(ie(!0),fe($t,null,wi(g.subs,p=>(ie(),fe("li",{key:p.name},[p.subs?(ie(),Ge(P(Lv),{key:p.name,name:p.name,title:p.name},{title:Ne(()=>[re("div",OY,[Ee(d,{name:p.icon},null,8,["name"]),re("span",null,At(p.name),1)])]),default:Ne(()=>[re("ul",null,[(ie(!0),fe($t,null,wi(p.subs,y=>(ie(),fe("li",{key:y.name,onClick:w=>l(y)},[re("div",BY,[Ee(d,{name:y.icon,size:15},null,8,["name"]),re("span",{class:de([n.value==y.name?"active":""])},At(y.name),3)])],8,FY))),128))])]),_:2},1032,["name","title"])):(ie(),fe("div",{key:1,onClick:y=>l(p),class:"menu-item"},[Ee(d,{name:p.icon},null,8,["name"]),re("span",{class:de([n.value==p.name?"active":""])},At(p.name),3)],8,zY))]))),128))])]),_:2},1032,["name","title"])),64)),Ee(P(Lv),{name:"",title:""},{default:Ne(()=>[Ee(GO)]),_:1})]),_:1},8,["modelValue"]),re("div",GY,[Ee(RY)])],64)}}}),HY=Ps(VY,[["__scopeId","data-v-1482e31f"]]),$Y={class:"container"},UY={class:"sidebar"},YY={class:"map-box"},qY=he({__name:"index",setup(t){return(e,r)=>(ie(),fe("div",$Y,[re("div",UY,[Ee(HY)]),re("div",YY,[Ee(y2)])]))}}),jY=Ps(qY,[["__scopeId","data-v-094c7086"]]);export{jY as default};
